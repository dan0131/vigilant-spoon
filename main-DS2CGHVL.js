var rT=Object.defineProperty,iT=Object.defineProperties;var oT=Object.getOwnPropertyDescriptors;var rg=Object.getOwnPropertySymbols;var sT=Object.prototype.hasOwnProperty,aT=Object.prototype.propertyIsEnumerable;var ig=(t,e,n)=>e in t?rT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$=(t,e)=>{for(var n in e||={})sT.call(e,n)&&ig(t,n,e[n]);if(rg)for(var n of rg(e))aT.call(e,n)&&ig(t,n,e[n]);return t},ue=(t,e)=>iT(t,oT(e));var S=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(h){i(h)}},a=u=>{try{c(n.throw(u))}catch(h){i(h)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,a);c((n=n.apply(t,e)).next())});function Yu(t,e){return Object.is(t,e)}var Ne=null,bs=!1,Ju=1,rt=Symbol("SIGNAL");function X(t){let e=Ne;return Ne=t,e}function og(){return Ne}var io={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ss(t){if(bs)throw new Error("");if(Ne===null)return;Ne.consumerOnSignalRead(t);let e=Ne.nextProducerIndex++;if(Ms(Ne),e<Ne.producerNode.length&&Ne.producerNode[e]!==t&&ro(Ne)){let n=Ne.producerNode[e];Ns(n,Ne.producerIndexOfThis[e])}Ne.producerNode[e]!==t&&(Ne.producerNode[e]=t,Ne.producerIndexOfThis[e]=ro(Ne)?cg(t,Ne,e):0),Ne.producerLastReadVersion[e]=t.version}function cT(){Ju++}function Zu(t){if(!(ro(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ju)){if(!t.producerMustRecompute(t)&&!el(t)){Qu(t);return}t.producerRecomputeValue(t),Qu(t)}}function sg(t){if(t.liveConsumerNode===void 0)return;let e=bs;bs=!0;try{for(let n of t.liveConsumerNode)n.dirty||uT(n)}finally{bs=e}}function ag(){return Ne?.consumerAllowSignalWrites!==!1}function uT(t){t.dirty=!0,sg(t),t.consumerMarkedDirty?.(t)}function Qu(t){t.dirty=!1,t.lastCleanEpoch=Ju}function As(t){return t&&(t.nextProducerIndex=0),X(t)}function Xu(t,e){if(X(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ro(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ns(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function el(t){Ms(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Zu(n),r!==n.version))return!0}return!1}function tl(t){if(Ms(t),ro(t))for(let e=0;e<t.producerNode.length;e++)Ns(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cg(t,e,n){if(ug(t),t.liveConsumerNode.length===0&&lg(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=cg(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ns(t,e){if(ug(t),t.liveConsumerNode.length===1&&lg(t))for(let r=0;r<t.producerNode.length;r++)Ns(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ms(i),i.producerIndexOfThis[r]=e}}function ro(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ms(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ug(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function lg(t){return t.producerNode!==void 0}function dg(t){let e=Object.create(lT);e.computation=t;let n=()=>{if(Zu(e),Ss(e),e.value===Cs)throw e.error;return e.value};return n[rt]=e,n}var Wu=Symbol("UNSET"),Ku=Symbol("COMPUTING"),Cs=Symbol("ERRORED"),lT=ue($({},io),{value:Wu,dirty:!0,error:null,equal:Yu,producerMustRecompute(t){return t.value===Wu||t.value===Ku},producerRecomputeValue(t){if(t.value===Ku)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ku;let n=As(t),r;try{r=t.computation()}catch(i){r=Cs,t.error=i}finally{Xu(t,n)}if(e!==Wu&&e!==Cs&&r!==Cs&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function dT(){throw new Error}var hg=dT;function fg(){hg()}function pg(t){hg=t}var hT=null;function mg(t){let e=Object.create(nl);e.value=t;let n=()=>(Ss(e),e.value);return n[rt]=e,n}function oo(t,e){ag()||fg(),t.equal(t.value,e)||(t.value=e,fT(t))}function gg(t,e){ag()||fg(),oo(t,e(t.value))}var nl=ue($({},io),{equal:Yu,value:void 0});function fT(t){t.version++,cT(),sg(t),hT?.()}function re(t){return typeof t=="function"}function xs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Rs=xs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function $n(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof Rs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{yg(o)}catch(a){e=e??[],a instanceof Rs?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Rs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$n(n,e)}remove(e){let{_finalizers:n}=this;n&&$n(n,e),e instanceof t&&e._removeParent(this)}};Ve.EMPTY=(()=>{let t=new Ve;return t.closed=!0,t})();var rl=Ve.EMPTY;function Ps(t){return t instanceof Ve||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function yg(t){re(t)?t():t.unsubscribe()}var gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Sr={setTimeout(t,e,...n){let{delegate:r}=Sr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Sr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ks(t){Sr.setTimeout(()=>{let{onUnhandledError:e}=gt;if(e)e(t);else throw t})}function il(){}var vg=ol("C",void 0,void 0);function _g(t){return ol("E",void 0,t)}function Ig(t){return ol("N",t,void 0)}function ol(t,e,n){return{kind:t,value:e,error:n}}var Hn=null;function Ar(t){if(gt.useDeprecatedSynchronousErrorHandling){let e=!Hn;if(e&&(Hn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Hn;if(Hn=null,n)throw r}}else t()}function Eg(t){gt.useDeprecatedSynchronousErrorHandling&&Hn&&(Hn.errorThrown=!0,Hn.error=t)}var qn=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ps(e)&&e.add(this)):this.destination=gT}static create(e,n,r){return new Nr(e,n,r)}next(e){this.isStopped?al(Ig(e),this):this._next(e)}error(e){this.isStopped?al(_g(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?al(vg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pT=Function.prototype.bind;function sl(t,e){return pT.call(t,e)}var cl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Os(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Os(r)}else Os(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Os(n)}}},Nr=class extends qn{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&gt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sl(e.next,o),error:e.error&&sl(e.error,o),complete:e.complete&&sl(e.complete,o)}):i=e}this.destination=new cl(i)}};function Os(t){gt.useDeprecatedSynchronousErrorHandling?Eg(t):ks(t)}function mT(t){throw t}function al(t,e){let{onStoppedNotification:n}=gt;n&&Sr.setTimeout(()=>n(t,e))}var gT={closed:!0,next:il,error:mT,complete:il};var Mr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Fs(t){return t}function wg(t){return t.length===0?Fs:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=vT(n)?n:new Nr(n,r,i);return Ar(()=>{let{operator:a,source:c}=this;o.add(a?a.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Dg(r),new r((i,o)=>{let a=new Nr({next:c=>{try{n(c)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Mr](){return this}pipe(...n){return wg(n)(this)}toPromise(n){return n=Dg(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function Dg(t){var e;return(e=t??gt.Promise)!==null&&e!==void 0?e:Promise}function yT(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function vT(t){return t&&t instanceof qn||yT(t)&&Ps(t)}function _T(t){return re(t?.lift)}function ln(t){return e=>{if(_T(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function dn(t,e,n,r,i){return new ul(t,e,n,r,i)}var ul=class extends qn{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Tg=xs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qt=(()=>{class t extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Vs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Tg}next(n){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?rl:(this.currentObservers=null,o.push(n),new Ve(()=>{this.currentObservers=null,$n(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ye;return n.source=this,n}}return t.create=(e,n)=>new Vs(e,n),t})(),Vs=class extends qt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:rl}};var Gn=class extends qt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ll={now(){return(ll.delegate||Date).now()},delegate:void 0};var Ls=class extends Ve{constructor(e,n){super()}schedule(e,n=0){return this}};var so={setInterval(t,e,...n){let{delegate:r}=so;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=so;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var xr=class extends Ls{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return so.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&so.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$n(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Rr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Rr.now=ll.now;var Pr=class extends Rr{constructor(e,n=Rr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var dl=new Pr(xr);var js=class extends xr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Bs=class extends Pr{};var hl=new Bs(js);function IT(t){return t[t.length-1]}function bg(t){return re(IT(t))?t.pop():void 0}function fl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Sg(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(f){try{h(r.next(f))}catch(m){a(m)}}function u(f){try{h(r.throw(f))}catch(m){a(m)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(t,e||[])).next())})}function Cg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zn(t){return this instanceof zn?(this.v=t,this):new zn(t)}function Ag(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(T){return function(A){return Promise.resolve(A).then(T,m)}}function c(T,A){r[T]&&(i[T]=function(F){return new Promise(function(O,B){o.push([T,F,O,B])>1||u(T,F)})},A&&(i[T]=A(i[T])))}function u(T,A){try{h(r[T](A))}catch(F){D(o[0][3],F)}}function h(T){T.value instanceof zn?Promise.resolve(T.value.v).then(f,m):D(o[0][2],T)}function f(T){u("next",T)}function m(T){u("throw",T)}function D(T,A){T(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Ng(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Cg=="function"?Cg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(c,u){a=t[o](a),i(c,u,a.done,a.value)})}}function i(o,a,c,u){Promise.resolve(u).then(function(h){o({value:h,done:c})},a)}}var Us=t=>t&&typeof t.length=="number"&&typeof t!="function";function $s(t){return re(t?.then)}function Hs(t){return re(t[Mr])}function qs(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function Gs(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ET(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zs=ET();function Ws(t){return re(t?.[zs])}function Ks(t){return Ag(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield zn(n.read());if(i)return yield zn(void 0);yield yield zn(r)}}finally{n.releaseLock()}})}function Qs(t){return re(t?.getReader)}function hn(t){if(t instanceof ye)return t;if(t!=null){if(Hs(t))return wT(t);if(Us(t))return DT(t);if($s(t))return TT(t);if(qs(t))return Mg(t);if(Ws(t))return bT(t);if(Qs(t))return CT(t)}throw Gs(t)}function wT(t){return new ye(e=>{let n=t[Mr]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function DT(t){return new ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function TT(t){return new ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ks)})}function bT(t){return new ye(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Mg(t){return new ye(e=>{ST(t,e).catch(n=>e.error(n))})}function CT(t){return Mg(Ks(t))}function ST(t,e){var n,r,i,o;return Sg(this,void 0,void 0,function*(){try{for(n=Ng(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function St(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function fn(t,e=0){return ln((n,r)=>{n.subscribe(dn(r,i=>St(r,t,()=>r.next(i),e),()=>St(r,t,()=>r.complete(),e),i=>St(r,t,()=>r.error(i),e)))})}function pn(t,e=0){return ln((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function xg(t,e){return hn(t).pipe(pn(e),fn(e))}function Rg(t,e){return hn(t).pipe(pn(e),fn(e))}function Pg(t,e){return new ye(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function kg(t,e){return new ye(n=>{let r;return St(n,e,()=>{r=t[zs](),St(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function Ys(t,e){if(!t)throw new Error("Iterable cannot be null");return new ye(n=>{St(n,e,()=>{let r=t[Symbol.asyncIterator]();St(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Og(t,e){return Ys(Ks(t),e)}function Fg(t,e){if(t!=null){if(Hs(t))return xg(t,e);if(Us(t))return Pg(t,e);if($s(t))return Rg(t,e);if(qs(t))return Ys(t,e);if(Ws(t))return kg(t,e);if(Qs(t))return Og(t,e)}throw Gs(t)}function pl(t,e){return e?Fg(t,e):hn(t)}function Wn(t,e){return ln((n,r)=>{let i=0;n.subscribe(dn(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:AT}=Array;function NT(t,e){return AT(e)?t(...e):t(e)}function Vg(t){return Wn(e=>NT(t,e))}var{isArray:MT}=Array,{getPrototypeOf:xT,prototype:RT,keys:PT}=Object;function Lg(t){if(t.length===1){let e=t[0];if(MT(e))return{args:e,keys:null};if(kT(e)){let n=PT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function kT(t){return t&&typeof t=="object"&&xT(t)===RT}function jg(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ml(...t){let e=bg(t),{args:n,keys:r}=Lg(t),i=new ye(o=>{let{length:a}=n;if(!a){o.complete();return}let c=new Array(a),u=a,h=a;for(let f=0;f<a;f++){let m=!1;hn(n[f]).subscribe(dn(o,D=>{m||(m=!0,h--),c[f]=D},()=>u--,void 0,()=>{(!u||!m)&&(h||o.next(r?jg(r,c):c),o.complete())}))}});return e?i.pipe(Vg(e)):i}function gl(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?ln((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let c=!0;i.subscribe(dn(o,u=>{var h;(h=r.next)===null||h===void 0||h.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var h;c=!1,(h=r.error)===null||h===void 0||h.call(r,u),o.error(u)},()=>{var u,h;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):Fs}var Cy="https://g.co/ng/security#xss",U=class extends Error{code;constructor(e,n){super(vd(e,n)),this.code=e}};function vd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Sy=Symbol("InputSignalNode#UNSET"),OT=ue($({},nl),{transformFn:void 0,applyValueToInputSignal(t,e){oo(t,e)}});function Io(t){return{toString:t}.toString()}var Js="__parameters__";function FT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Ay(t,e,n){return Io(()=>{let r=FT(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return c.annotation=a,c;function c(u,h,f){let m=u.hasOwnProperty(Js)?u[Js]:Object.defineProperty(u,Js,{value:[]})[Js];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(a),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Nl=globalThis;function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function VT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(lt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Bg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var LT=ge({__forward_ref__:ge});function Yr(t){return t.__forward_ref__=Yr,t.toString=function(){return lt(this())},t}function Ke(t){return Ny(t)?t():t}function Ny(t){return typeof t=="function"&&t.hasOwnProperty(LT)&&t.__forward_ref__===Yr}function ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rr(t){return{providers:t.providers||[],imports:t.imports||[]}}function _d(t){return Ug(t,My)||Ug(t,xy)}function Ug(t,e){return t.hasOwnProperty(e)?t[e]:null}function jT(t){let e=t&&(t[My]||t[xy]);return e||null}function $g(t){return t&&(t.hasOwnProperty(Hg)||t.hasOwnProperty(BT))?t[Hg]:null}var My=ge({\u0275prov:ge}),Hg=ge({\u0275inj:ge}),xy=ge({ngInjectableDef:ge}),BT=ge({ngInjectorDef:ge}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ry(t){return t&&!!t.\u0275providers}var UT=ge({\u0275cmp:ge}),$T=ge({\u0275dir:ge}),HT=ge({\u0275pipe:ge});var sa=ge({\u0275fac:ge}),lo=ge({__NG_ELEMENT_ID__:ge}),qg=ge({__NG_ENV_ID__:ge});function Id(t){return typeof t=="string"?t:t==null?"":String(t)}function qT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Id(t)}function GT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,t)}function Ed(t,e){throw new U(-201,!1)}var Q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Q||{}),Ml;function Py(){return Ml}function Xe(t){let e=Ml;return Ml=t,e}function ky(t,e,n){let r=_d(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Q.Optional)return null;if(e!==void 0)return e;Ed(t,"Injector")}var zT={},ho=zT,xl="__NG_DI_FLAG__",aa="ngTempTokenPath",WT="ngTokenPath",KT=/\n/gm,QT="\u0275",Gg="__source",Vr;function YT(){return Vr}function mn(t){let e=Vr;return Vr=t,e}function JT(t,e=Q.Default){if(Vr===void 0)throw new U(-203,!1);return Vr===null?ky(t,void 0,e):Vr.get(t,e&Q.Optional?null:void 0,e)}function oe(t,e=Q.Default){return(Py()||JT)(Ke(t),e)}function G(t,e=Q.Default){return oe(t,Pa(e))}function Pa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rl(t){let e=[];for(let n=0;n<t.length;n++){let r=Ke(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=Q.Default;for(let a=0;a<r.length;a++){let c=r[a],u=ZT(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(oe(i,o))}else e.push(oe(r))}return e}function Oy(t,e){return t[xl]=e,t.prototype[xl]=e,t}function ZT(t){return t[xl]}function XT(t,e,n,r){let i=t[aa];throw e[Gg]&&i.unshift(e[Gg]),t.message=e0(`
`+t.message,i,n,r),t[WT]=i,t[aa]=null,t}function e0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==QT?t.slice(2):t;let i=lt(e);if(Array.isArray(e))i=e.map(lt).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];o.push(a+":"+(typeof c=="string"?JSON.stringify(c):lt(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(KT,`
  `)}`}var kt=Oy(Ay("Optional"),8);var t0=Oy(Ay("SkipSelf"),4);function Qn(t,e){let n=t.hasOwnProperty(sa);return n?t[sa]:null}function wd(t,e){t.forEach(n=>Array.isArray(n)?wd(n,e):e(n))}function Fy(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ca(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function n0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function r0(t,e,n){let r=Eo(t,e);return r>=0?t[r|1]=n:(r=~r,n0(t,r,e,n)),r}function yl(t,e){let n=Eo(t,e);if(n>=0)return t[n|1]}function Eo(t,e){return i0(t,e,1)}function i0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=t[o<<n];if(e===a)return o<<n;a>e?i=o:r=o+1}return~(i<<n)}var jr={},ut=[],fo=new H(""),Vy=new H("",-1),Ly=new H(""),ua=class{get(e,n=ho){if(n===ho){let r=new Error(`NullInjectorError: No provider for ${lt(e)}!`);throw r.name="NullInjectorError",r}return n}};function Br(t){return t[UT]||null}function jy(t){return t[$T]||null}function By(t){return t[HT]||null}function o0(t){let e=Br(t)||jy(t)||By(t);return e!==null&&e.standalone}function wo(t){return{\u0275providers:t}}function s0(...t){return{\u0275providers:Uy(!0,t),\u0275fromNgModule:!0}}function Uy(t,...e){let n=[],r=new Set,i,o=a=>{n.push(a)};return wd(e,a=>{let c=a;Pl(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&$y(i,o),n}function $y(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Dd(i,o=>{e(o,r)})}}function Pl(t,e,n,r){if(t=Ke(t),!t)return!1;let i=null,o=$g(t),a=!o&&Br(t);if(!o&&!a){let u=t.ngModule;if(o=$g(u),o)i=u;else return!1}else{if(a&&!a.standalone)return!1;i=t}let c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){let u=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let h of u)Pl(h,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let h;try{wd(o.imports,f=>{Pl(f,e,n,r)&&(h||=[],h.push(f))})}finally{}h!==void 0&&$y(h,e)}if(!c){let h=Qn(i)||(()=>new i);e({provide:i,useFactory:h,deps:ut},i),e({provide:Ly,useValue:i,multi:!0},i),e({provide:fo,useValue:()=>oe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let h=t;Dd(u,f=>{e(f,h)})}}else return!1;return i!==t&&t.providers!==void 0}function Dd(t,e){for(let n of t)Ry(n)&&(n=n.\u0275providers),Array.isArray(n)?Dd(n,e):e(n)}var a0=ge({provide:String,useValue:ge});function Hy(t){return t!==null&&typeof t=="object"&&a0 in t}function c0(t){return!!(t&&t.useExisting)}function u0(t){return!!(t&&t.useFactory)}function Ur(t){return typeof t=="function"}function l0(t){return!!t.useClass}var ka=new H(""),ta={},d0={},vl;function Td(){return vl===void 0&&(vl=new ua),vl}var vn=class{},po=class extends vn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Ol(e,a=>this.processProvider(a)),this.records.set(Vy,kr(void 0,this)),i.has("environment")&&this.records.set(vn,kr(void 0,this));let o=this.records.get(ka);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ly,ut,Q.Self))}destroy(){co(this),this._destroyed=!0;let e=X(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),X(e)}}onDestroy(e){return co(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){co(this);let n=mn(this),r=Xe(void 0),i;try{return e()}finally{mn(n),Xe(r)}}get(e,n=ho,r=Q.Default){if(co(this),e.hasOwnProperty(qg))return e[qg](this);r=Pa(r);let i,o=mn(this),a=Xe(void 0);try{if(!(r&Q.SkipSelf)){let u=this.records.get(e);if(u===void 0){let h=g0(e)&&_d(e);h&&this.injectableDefInScope(h)?u=kr(kl(e),ta):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&Q.Self?Td():this.parent;return n=r&Q.Optional&&n===ho?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[aa]=c[aa]||[]).unshift(lt(e)),o)throw c;return XT(c,e,"R3InjectorError",this.source)}else throw c}finally{Xe(a),mn(o)}}resolveInjectorInitializers(){let e=X(null),n=mn(this),r=Xe(void 0),i;try{let o=this.get(fo,ut,Q.Self);for(let a of o)a()}finally{mn(n),Xe(r),X(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(lt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ke(e);let n=Ur(e)?e:Ke(e&&e.provide),r=f0(e);if(!Ur(e)&&e.multi===!0){let i=this.records.get(n);i||(i=kr(void 0,ta,!0),i.factory=()=>Rl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=X(null);try{return n.value===ta&&(n.value=d0,n.value=n.factory()),typeof n.value=="object"&&n.value&&m0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{X(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ke(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function kl(t){let e=_d(t),n=e!==null?e.factory:Qn(t);if(n!==null)return n;if(t instanceof H)throw new U(204,!1);if(t instanceof Function)return h0(t);throw new U(204,!1)}function h0(t){if(t.length>0)throw new U(204,!1);let n=jT(t);return n!==null?()=>n.factory(t):()=>new t}function f0(t){if(Hy(t))return kr(void 0,t.useValue);{let e=qy(t);return kr(e,ta)}}function qy(t,e,n){let r;if(Ur(t)){let i=Ke(t);return Qn(i)||kl(i)}else if(Hy(t))r=()=>Ke(t.useValue);else if(u0(t))r=()=>t.useFactory(...Rl(t.deps||[]));else if(c0(t))r=()=>oe(Ke(t.useExisting));else{let i=Ke(t&&(t.useClass||t.provide));if(p0(t))r=()=>new i(...Rl(t.deps));else return Qn(i)||kl(i)}return r}function co(t){if(t.destroyed)throw new U(205,!1)}function kr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function p0(t){return!!t.deps}function m0(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function g0(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Ol(t,e){for(let n of t)Array.isArray(n)?Ol(n,e):n&&Ry(n)?Ol(n.\u0275providers,e):e(n)}function Gy(t,e){t instanceof po&&co(t);let n,r=mn(t),i=Xe(void 0);try{return e()}finally{mn(r),Xe(i)}}function y0(){return Py()!==void 0||YT()!=null}function v0(t){return typeof t=="function"}var Kt=0,W=1,j=2,Qe=3,vt=4,Et=5,la=6,da=7,_t=8,$r=9,Gt=10,Me=11,mo=12,zg=13,Jr=14,Mt=15,Hr=16,Or=17,qr=18,Oa=19,zy=20,gn=21,_l=22,ha=23,ot=24,xt=25,Wy=1;var Yn=7,fa=8,pa=9,dt=10,ma=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ma||{});function yn(t){return Array.isArray(t)&&typeof t[Wy]=="object"}function Qt(t){return Array.isArray(t)&&t[Wy]===!0}function Ky(t){return(t.flags&4)!==0}function Fa(t){return t.componentOffset>-1}function bd(t){return(t.flags&1)===1}function _n(t){return!!t.template}function Fl(t){return(t[j]&512)!==0}var Vl=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Qy(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Va=(()=>{let t=()=>Yy;return t.ngInherit=!0,t})();function Yy(t){return t.type.prototype.ngOnChanges&&(t.setInput=I0),_0}function _0(){let t=Zy(this),e=t?.current;if(e){let n=t.previous;if(n===jr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function I0(t,e,n,r,i){let o=this.declaredInputs[r],a=Zy(t)||E0(t,{previous:jr,current:null}),c=a.current||(a.current={}),u=a.previous,h=u[o];c[o]=new Vl(h&&h.currentValue,n,u===jr),Qy(t,e,i,n)}var Jy="__ngSimpleChanges__";function Zy(t){return t[Jy]||null}function E0(t,e){return t[Jy]=e}var Wg=null;var At=function(t,e,n){Wg?.(t,e,n)},w0="svg",D0="math";function Rt(t){for(;Array.isArray(t);)t=t[Kt];return t}function Xy(t,e){return Rt(e[t])}function wt(t,e){return Rt(e[t.index])}function ev(t,e){return t.data[e]}function T0(t,e){return t[e]}function wn(t,e){let n=e[t];return yn(n)?n:n[Kt]}function Cd(t){return(t[j]&128)===128}function b0(t){return Qt(t[Qe])}function ga(t,e){return e==null?null:t[e]}function tv(t){t[Or]=0}function Sd(t){t[j]&1024||(t[j]|=1024,Cd(t)&&ja(t))}function C0(t,e){for(;t>0;)e=e[Jr],t--;return e}function La(t){return!!(t[j]&9216||t[ot]?.dirty)}function Ll(t){t[Gt].changeDetectionScheduler?.notify(9),t[j]&64&&(t[j]|=1024),La(t)&&ja(t)}function ja(t){t[Gt].changeDetectionScheduler?.notify(0);let e=Jn(t);for(;e!==null&&!(e[j]&8192||(e[j]|=8192,!Cd(e)));)e=Jn(e)}function nv(t,e){if((t[j]&256)===256)throw new U(911,!1);t[gn]===null&&(t[gn]=[]),t[gn].push(e)}function S0(t,e){if(t[gn]===null)return;let n=t[gn].indexOf(e);n!==-1&&t[gn].splice(n,1)}function Jn(t){let e=t[Qe];return Qt(e)?e[Qe]:e}var K={lFrame:dv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var jl=!1;function A0(){return K.lFrame.elementDepthCount}function N0(){K.lFrame.elementDepthCount++}function M0(){K.lFrame.elementDepthCount--}function rv(){return K.bindingsEnabled}function x0(){return K.skipHydrationRootTNode!==null}function R0(t){return K.skipHydrationRootTNode===t}function P0(){K.skipHydrationRootTNode=null}function le(){return K.lFrame.lView}function et(){return K.lFrame.tView}function Zr(t){return K.lFrame.contextLView=t,t[_t]}function Xr(t){return K.lFrame.contextLView=null,t}function tt(){let t=iv();for(;t!==null&&t.type===64;)t=t.parent;return t}function iv(){return K.lFrame.currentTNode}function k0(){let t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Do(t,e){let n=K.lFrame;n.currentTNode=t,n.isParent=e}function ov(){return K.lFrame.isParent}function O0(){K.lFrame.isParent=!1}function sv(){return jl}function Kg(t){let e=jl;return jl=t,e}function av(){let t=K.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function F0(t){return K.lFrame.bindingIndex=t}function Ad(){return K.lFrame.bindingIndex++}function V0(t){let e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function L0(){return K.lFrame.inI18n}function j0(t,e){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,Bl(e)}function B0(){return K.lFrame.currentDirectiveIndex}function Bl(t){K.lFrame.currentDirectiveIndex=t}function U0(t){let e=K.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function cv(t){K.lFrame.currentQueryIndex=t}function $0(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[Et]:null}function uv(t,e,n){if(n&Q.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Q.Host);)if(i=$0(o),i===null||(o=o[Jr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=K.lFrame=lv();return r.currentTNode=e,r.lView=t,!0}function Nd(t){let e=lv(),n=t[W];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lv(){let t=K.lFrame,e=t===null?null:t.child;return e===null?dv(t):e}function dv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function hv(){let t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var fv=hv;function Md(){let t=hv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function H0(t){return(K.lFrame.contextLView=C0(t,K.lFrame.contextLView))[_t]}function ei(){return K.lFrame.selectedIndex}function Zn(t){K.lFrame.selectedIndex=t}function xd(){let t=K.lFrame;return ev(t.tView,t.selectedIndex)}function q0(){return K.lFrame.currentNamespace}var pv=!0;function Rd(){return pv}function Pd(t){pv=t}function G0(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let a=Yy(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function kd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:f}=o;a&&(t.contentHooks??=[]).push(-n,a),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),h&&((t.viewHooks??=[]).push(n,h),(t.viewCheckHooks??=[]).push(n,h)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function na(t,e,n){mv(t,e,3,n)}function ra(t,e,n,r){(t[j]&3)===n&&mv(t,e,n,r)}function Il(t,e){let n=t[j];(n&3)===e&&(n&=16383,n+=1,t[j]=n)}function mv(t,e,n,r){let i=r!==void 0?t[Or]&65535:0,o=r??-1,a=e.length-1,c=0;for(let u=i;u<a;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Or]+=65536),(c<o||o==-1)&&(z0(t,n,e,u),t[Or]=(t[Or]&4294901760)+u+2),u++}function Qg(t,e){At(4,t,e);let n=X(null);try{e.call(t)}finally{X(n),At(5,t,e)}}function z0(t,e,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],c=t[a];i?t[j]>>14<t[Or]>>16&&(t[j]&3)===e&&(t[j]+=16384,Qg(c,o)):Qg(c,o)}var Lr=-1,Xn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function W0(t){return t instanceof Xn}function K0(t){return(t.flags&8)!==0}function Q0(t){return(t.flags&16)!==0}function Ul(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],c=n[r++];t.setAttribute(e,a,c,o)}else{let o=i,a=n[++r];J0(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function Y0(t){return t===3||t===4||t===6}function J0(t){return t.charCodeAt(0)===64}function go(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Yg(t,n,i,null,e[++r]):Yg(t,n,i,null,null))}}return t}function Yg(t,e,n,r,i){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){a=-1;break}else if(c>e){a=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var El={},$l=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pa(r);let i=this.injector.get(e,El,r);return i!==El||n===El?i:this.parentInjector.get(e,n,r)}};function gv(t){return t!==Lr}function ya(t){return t&32767}function Z0(t){return t>>16}function va(t,e){let n=Z0(t),r=e;for(;n>0;)r=r[Jr],n--;return r}var Hl=!0;function _a(t){let e=Hl;return Hl=t,e}var X0=256,yv=X0-1,vv=5,eb=0,Nt={};function tb(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(lo)&&(r=n[lo]),r==null&&(r=n[lo]=eb++);let i=r&yv,o=1<<i;e.data[t+(i>>vv)]|=o}function Ia(t,e){let n=_v(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,wl(r.data,t),wl(e,null),wl(r.blueprint,null));let i=Od(t,e),o=t.injectorIndex;if(gv(i)){let a=ya(i),c=va(i,e),u=c[W].data;for(let h=0;h<8;h++)e[o+h]=c[a+h]|u[a+h]}return e[o+8]=i,o}function wl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function _v(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Od(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=bv(i),r===null)return Lr;if(n++,i=i[Jr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Lr}function ql(t,e,n){tb(t,e,n)}function Iv(t,e,n){if(n&Q.Optional||t!==void 0)return t;Ed(e,"NodeInjector")}function Ev(t,e,n,r){if(n&Q.Optional&&r===void 0&&(r=null),!(n&(Q.Self|Q.Host))){let i=t[$r],o=Xe(void 0);try{return i?i.get(e,r,n&Q.Optional):ky(e,r,n&Q.Optional)}finally{Xe(o)}}return Iv(r,e,n)}function wv(t,e,n,r=Q.Default,i){if(t!==null){if(e[j]&2048&&!(r&Q.Self)){let a=sb(t,e,n,r,Nt);if(a!==Nt)return a}let o=Dv(t,e,n,r,Nt);if(o!==Nt)return o}return Ev(e,n,r,i)}function Dv(t,e,n,r,i){let o=ib(n);if(typeof o=="function"){if(!uv(e,t,r))return r&Q.Host?Iv(i,n,r):Ev(e,n,r,i);try{let a;if(a=o(r),a==null&&!(r&Q.Optional))Ed(n);else return a}finally{fv()}}else if(typeof o=="number"){let a=null,c=_v(t,e),u=Lr,h=r&Q.Host?e[Mt][Et]:null;for((c===-1||r&Q.SkipSelf)&&(u=c===-1?Od(t,e):e[c+8],u===Lr||!Zg(r,!1)?c=-1:(a=e[W],c=ya(u),e=va(u,e)));c!==-1;){let f=e[W];if(Jg(o,c,f.data)){let m=nb(c,e,n,a,r,h);if(m!==Nt)return m}u=e[c+8],u!==Lr&&Zg(r,e[W].data[c+8]===h)&&Jg(o,c,e)?(a=f,c=ya(u),e=va(u,e)):c=-1}}return i}function nb(t,e,n,r,i,o){let a=e[W],c=a.data[t+8],u=r==null?Fa(c)&&Hl:r!=a&&(c.type&3)!==0,h=i&Q.Host&&o===c,f=rb(c,a,n,u,h);return f!==null?Gr(e,a,f,c):Nt}function rb(t,e,n,r,i){let o=t.providerIndexes,a=e.data,c=o&1048575,u=t.directiveStart,h=t.directiveEnd,f=o>>20,m=r?c:c+f,D=i?c+f:h;for(let T=m;T<D;T++){let A=a[T];if(T<u&&n===A||T>=u&&A.type===n)return T}if(i){let T=a[u];if(T&&_n(T)&&T.type===n)return u}return null}function Gr(t,e,n,r){let i=t[n],o=e.data;if(W0(i)){let a=i;a.resolving&&GT(qT(o[n]));let c=_a(a.canSeeViewProviders);a.resolving=!0;let u,h=a.injectImpl?Xe(a.injectImpl):null,f=uv(t,r,Q.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&G0(n,o[n],e)}finally{h!==null&&Xe(h),_a(c),a.resolving=!1,fv()}}return i}function ib(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(lo)?t[lo]:void 0;return typeof e=="number"?e>=0?e&yv:ob:e}function Jg(t,e,n){let r=1<<t;return!!(n[e+(t>>vv)]&r)}function Zg(t,e){return!(t&Q.Self)&&!(t&Q.Host&&e)}var Kn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return wv(this._tNode,this._lView,e,Pa(r),n)}};function ob(){return new Kn(tt(),le())}function Tv(t){return Io(()=>{let e=t.prototype.constructor,n=e[sa]||Gl(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[sa]||Gl(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gl(t){return Ny(t)?()=>{let e=Gl(Ke(t));return e&&e()}:Qn(t)}function sb(t,e,n,r,i){let o=t,a=e;for(;o!==null&&a!==null&&a[j]&2048&&!(a[j]&512);){let c=Dv(o,a,n,r|Q.Self,Nt);if(c!==Nt)return c;let u=o.parent;if(!u){let h=a[zy];if(h){let f=h.get(n,Nt,r);if(f!==Nt)return f}u=bv(a),a=a[Jr]}o=u}return i}function bv(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[Et]:null}function Xg(t,e=null,n=null,r){let i=ab(t,e,n,r);return i.resolveInjectorInitializers(),i}function ab(t,e=null,n=null,r,i=new Set){let o=[n||ut,s0(t)];return r=r||(typeof t=="object"?void 0:lt(t)),new po(o,e||Td(),r||null,i)}var It=class t{static THROW_IF_NOT_FOUND=ho;static NULL=new ua;static create(e,n){if(Array.isArray(e))return Xg({name:""},n,e,"");{let r=e.name??"";return Xg({name:r},e.parent,e.providers,r)}}static \u0275prov=ae({token:t,providedIn:"any",factory:()=>oe(Vy)});static __NG_ELEMENT_ID__=-1};var cb=new H("");cb.__NG_ELEMENT_ID__=t=>{let e=tt();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&Q.Optional)return null;throw new U(204,!1)};var Cv=!1,Fd=(()=>{class t{static __NG_ELEMENT_ID__=ub;static __NG_ENV_ID__=n=>n}return t})(),zl=class extends Fd{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return nv(this._lView,e),()=>S0(this._lView,e)}};function ub(){return new zl(le())}var yo=class{},Vd=new H("",{providedIn:"root",factory:()=>!1});var Sv=new H(""),Av=new H(""),Ba=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Gn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})();var Wl=class extends qt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,y0()&&(this.destroyRef=G(Fd,{optional:!0})??void 0,this.pendingTasks=G(Ba,{optional:!0})??void 0)}emit(e){let n=X(null);try{super.next(e)}finally{X(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let c=super.subscribe({next:i,error:o,complete:a});return e instanceof Ve&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},it=Wl;function Ea(...t){}function Nv(t){let e,n;function r(){t=Ea;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ey(t){return queueMicrotask(()=>t()),()=>{t=Ea}}var Ld="isAngularZone",wa=Ld+"_ID",lb=0,ve=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new it(!1);onMicrotaskEmpty=new it(!1);onStable=new it(!1);onError=new it(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Cv}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,fb(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ld)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,db,Ea,Ea);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},db={};function jd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hb(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Nv(()=>{t.callbackScheduled=!1,Kl(t),t.isCheckStableRunning=!0,jd(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Kl(t)}function fb(t){let e=()=>{hb(t)},n=lb++;t._inner=t._inner.fork({name:"angular",properties:{[Ld]:!0,[wa]:n,[wa+n]:!0},onInvokeTask:(r,i,o,a,c,u)=>{if(pb(u))return r.invokeTask(o,a,c,u);try{return ty(t),r.invokeTask(o,a,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),ny(t)}},onInvoke:(r,i,o,a,c,u,h)=>{try{return ty(t),r.invoke(o,a,c,u,h)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!mb(u)&&e(),ny(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,Kl(t),jd(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function Kl(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ty(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ny(t){t._nesting--,jd(t)}var Ql=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new it;onMicrotaskEmpty=new it;onStable=new it;onError=new it;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function pb(t){return Mv(t,"__ignore_ng_zone__")}function mb(t){return Mv(t,"__scheduler_tick__")}function Mv(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var zt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},gb=new H("",{providedIn:"root",factory:()=>{let t=G(ve),e=G(zt);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),Da=class{destroyed=!1;listeners=null;errorHandler=G(zt,{optional:!0});destroyRef=G(Fd);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new U(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new U(953,!1);if(this.listeners===null)return;let n=X(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{X(n)}}};function xv(t){return new Da}function yb(){return Ua(tt(),le())}function Ua(t,e){return new ti(wt(t,e))}var ti=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=yb}return t})();function Rv(t){return(t.flags&128)===128}var Pv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Pv||{}),kv=new Map,vb=0;function _b(){return vb++}function Ib(t){kv.set(t[Oa],t)}function Yl(t){kv.delete(t[Oa])}var ry="__ngContext__";function er(t,e){yn(e)?(t[ry]=e[Oa],Ib(e)):t[ry]=e}function Ov(t){return Vv(t[mo])}function Fv(t){return Vv(t[vt])}function Vv(t){for(;t!==null&&!Qt(t);)t=t[vt];return t}var Jl;function Lv(t){Jl=t}function Eb(){if(Jl!==void 0)return Jl;if(typeof document<"u")return document;throw new U(210,!1)}var Bd=new H("",{providedIn:"root",factory:()=>wb}),wb="ng",Ud=new H(""),Dn=new H("",{providedIn:"platform",factory:()=>"unknown"});var $d=new H("",{providedIn:"root",factory:()=>Eb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Db="h",Tb="b";var jv=!1,bb=new H("",{providedIn:"root",factory:()=>jv});var Bv=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Bv||{}),Uv=new H(""),iy=new Set;function $a(t){iy.has(t)||(iy.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Cb=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})();var Sb=()=>null;function Hd(t,e,n=!1){return Sb(t,e,n)}var Pt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Pt||{}),Zs;function Ab(){if(Zs===void 0&&(Zs=null,Nl.trustedTypes))try{Zs=Nl.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zs}function Nb(t){return Ab()?.createScriptURL(t)||t}var Ta=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Cy})`}};function Ha(t){return t instanceof Ta?t.changingThisBreaksApplicationSecurity:t}function $v(t,e){let n=Mb(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Cy})`)}return n===e}function Mb(t){return t instanceof Ta&&t.getTypeName()||null}var xb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hv(t){return t=String(t),t.match(xb)?t:"unsafe:"+t}var qd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(qd||{});function ni(t){let e=Rb();return e?e.sanitize(qd.URL,t)||"":$v(t,"URL")?Ha(t):Hv(Id(t))}function qv(t){return Nb(t[0])}function Rb(){let t=le();return t&&t[Gt].sanitizer}function Gv(t){return t.ownerDocument.defaultView}var In=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(In||{}),Wt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wt||{}),Pb;function Gd(t,e){return Pb(t,e)}function Fr(t,e,n,r,i){if(r!=null){let o,a=!1;Qt(r)?o=r:yn(r)&&(a=!0,r=r[Kt]);let c=Rt(r);t===0&&n!==null?i==null?Yv(e,n,c):ba(e,n,c,i||null,!0):t===1&&n!==null?ba(e,n,c,i||null,!0):t===2?Kb(e,c,a):t===3&&e.destroyNode(c),o!=null&&Yb(e,t,o,n,i)}}function kb(t,e){return t.createText(e)}function Ob(t,e,n){t.setValue(e,n)}function zv(t,e,n){return t.createElement(e,n)}function Fb(t,e){Wv(t,e),e[Kt]=null,e[Et]=null}function Vb(t,e,n,r,i,o){r[Kt]=i,r[Et]=e,qa(t,r,n,1,i,o)}function Wv(t,e){e[Gt].changeDetectionScheduler?.notify(10),qa(t,e,e[Me],2,null,null)}function Lb(t){let e=t[mo];if(!e)return Dl(t[W],t);for(;e;){let n=null;if(yn(e))n=e[mo];else{let r=e[dt];r&&(n=r)}if(!n){for(;e&&!e[vt]&&e!==t;)yn(e)&&Dl(e[W],e),e=e[Qe];e===null&&(e=t),yn(e)&&Dl(e[W],e),n=e&&e[vt]}e=n}}function jb(t,e,n,r){let i=dt+r,o=n.length;r>0&&(n[i-1][vt]=e),r<o-dt?(e[vt]=n[i],Fy(n,dt+r,e)):(n.push(e),e[vt]=null),e[Qe]=n;let a=e[Hr];a!==null&&n!==a&&Kv(a,e);let c=e[qr];c!==null&&c.insertView(t),Ll(e),e[j]|=128}function Kv(t,e){let n=t[pa],r=e[Qe];if(yn(r))t[j]|=ma.HasTransplantedViews;else{let i=r[Qe][Mt];e[Mt]!==i&&(t[j]|=ma.HasTransplantedViews)}n===null?t[pa]=[e]:n.push(e)}function zd(t,e){let n=t[pa],r=n.indexOf(e);n.splice(r,1)}function Zl(t,e){if(t.length<=dt)return;let n=dt+e,r=t[n];if(r){let i=r[Hr];i!==null&&i!==t&&zd(i,r),e>0&&(t[n-1][vt]=r[vt]);let o=ca(t,dt+e);Fb(r[W],r);let a=o[qr];a!==null&&a.detachView(o[W]),r[Qe]=null,r[vt]=null,r[j]&=-129}return r}function Qv(t,e){if(!(e[j]&256)){let n=e[Me];n.destroyNode&&qa(t,e,n,3,null,null),Lb(e)}}function Dl(t,e){if(e[j]&256)return;let n=X(null);try{e[j]&=-129,e[j]|=256,e[ot]&&tl(e[ot]),Ub(t,e),Bb(t,e),e[W].type===1&&e[Me].destroy();let r=e[Hr];if(r!==null&&Qt(e[Qe])){r!==e[Qe]&&zd(r,e);let i=e[qr];i!==null&&i.detachView(t)}Yl(e)}finally{X(n)}}function Bb(t,e){let n=t.cleanup,r=e[da];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let c=n[a+3];c>=0?r[c]():r[-c].unsubscribe(),a+=2}else{let c=r[n[a+1]];n[a].call(c)}r!==null&&(e[da]=null);let i=e[gn];if(i!==null){e[gn]=null;for(let a=0;a<i.length;a++){let c=i[a];c()}}let o=e[ha];if(o!==null){e[ha]=null;for(let a of o)a.destroy()}}function Ub(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Xn)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let c=i[o[a]],u=o[a+1];At(4,c,u);try{u.call(c)}finally{At(5,c,u)}}else{At(4,i,o);try{o.call(i)}finally{At(5,i,o)}}}}}function $b(t,e,n){return Hb(t,e.parent,n)}function Hb(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Kt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Pt.None||o===Pt.Emulated)return null}return wt(r,n)}}function ba(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Yv(t,e,n){t.appendChild(e,n)}function oy(t,e,n,r,i){r!==null?ba(t,e,n,r,i):Yv(t,e,n)}function Jv(t,e){return t.parentNode(e)}function qb(t,e){return t.nextSibling(e)}function Gb(t,e,n){return Wb(t,e,n)}function zb(t,e,n){return t.type&40?wt(t,n):null}var Wb=zb,sy;function Wd(t,e,n,r){let i=$b(t,r,e),o=e[Me],a=r.parent||e[Et],c=Gb(a,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)oy(o,i,n[u],c,!1);else oy(o,i,n,c,!1);sy!==void 0&&sy(o,r,e,n,i)}function uo(t,e){if(e!==null){let n=e.type;if(n&3)return wt(e,t);if(n&4)return Xl(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return uo(t,r);{let i=t[e.index];return Qt(i)?Xl(-1,i):Rt(i)}}else{if(n&128)return uo(t,e.next);if(n&32)return Gd(e,t)()||Rt(t[e.index]);{let r=Zv(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Jn(t[Mt]);return uo(i,r)}else return uo(t,e.next)}}}return null}function Zv(t,e){if(e!==null){let r=t[Mt][Et],i=e.projection;return r.projection[i]}return null}function Xl(t,e){let n=dt+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return uo(r,i)}return e[Yn]}function Kb(t,e,n){t.removeChild(null,e,n)}function Kd(t,e,n,r,i,o,a){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(a&&e===0&&(c&&er(Rt(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Kd(t,e,n.child,r,i,o,!1),Fr(e,t,i,c,o);else if(u&32){let h=Gd(n,r),f;for(;f=h();)Fr(e,t,i,f,o);Fr(e,t,i,c,o)}else u&16?Qb(t,e,r,n,i,o):Fr(e,t,i,c,o);n=a?n.projectionNext:n.next}}function qa(t,e,n,r,i,o){Kd(n,r,t.firstChild,e,i,o,!1)}function Qb(t,e,n,r,i,o){let a=n[Mt],u=a[Et].projection[r.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++){let f=u[h];Fr(e,t,i,f,o)}else{let h=u,f=a[Qe];Rv(r)&&(h.flags|=128),Kd(t,e,h,f,i,o,!0)}}function Yb(t,e,n,r,i){let o=n[Yn],a=Rt(n);o!==a&&Fr(e,t,r,o,i);for(let c=dt;c<n.length;c++){let u=n[c];qa(u[W],u,t,e,r,o)}}function Jb(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wt.Important),t.setStyle(n,r,i,o))}}function Zb(t,e,n){t.setAttribute(e,"style",n)}function Xv(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function e_(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ul(t,e,r),i!==null&&Xv(t,e,i),o!==null&&Zb(t,e,o)}function Xb(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var t_="ng-template";function eC(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Xb(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Qd(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Qd(t){return t.type===4&&t.value!==t_}function tC(t,e,n){let r=t.type===4&&!n?t_:t.value;return e===r}function nC(t,e,n){let r=4,i=t.attrs,o=i!==null?oC(i):0,a=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!a&&!yt(r)&&!yt(u))return!1;if(a&&yt(u))continue;a=!1,r=u|r&1;continue}if(!a)if(r&4){if(r=2|r&1,u!==""&&!tC(t,u,n)||u===""&&e.length===1){if(yt(r))return!1;a=!0}}else if(r&8){if(i===null||!eC(t,i,u,n)){if(yt(r))return!1;a=!0}}else{let h=e[++c],f=rC(u,i,Qd(t),n);if(f===-1){if(yt(r))return!1;a=!0;continue}if(h!==""){let m;if(f>o?m="":m=i[f+1].toLowerCase(),r&2&&h!==m){if(yt(r))return!1;a=!0}}}}return yt(r)||a}function yt(t){return(t&1)===0}function rC(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return sC(e,t)}function iC(t,e,n=!1){for(let r=0;r<e.length;r++)if(nC(t,e[r],n))return!0;return!1}function oC(t){for(let e=0;e<t.length;e++){let n=t[e];if(Y0(n))return e}return t.length}function sC(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ay(t,e){return t?":not("+e.trim()+")":e}function aC(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let c=t[++n];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!yt(a)&&(e+=ay(o,i),i=""),r=a,o=o||!yt(r);n++}return i!==""&&(e+=ay(o,i)),e}function cC(t){return t.map(aC).join(",")}function uC(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!yt(i))break;i=o}r++}return{attrs:e,classes:n}}var Yt={};function fe(t=1){n_(et(),le(),ei()+t,!1)}function n_(t,e,n,r){if(!r)if((e[j]&3)===3){let o=t.preOrderCheckHooks;o!==null&&na(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ra(e,o,0,n)}Zn(n)}function ce(t,e=Q.Default){let n=le();if(n===null)return oe(t,e);let r=tt();return wv(r,n,Ke(t),e)}function r_(t,e,n,r,i,o){let a=X(null);try{let c=null;i&In.SignalBased&&(c=e[r][rt]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&In.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):Qy(e,c,r,o)}finally{X(a)}}function lC(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Zn(~i);else{let o=i,a=n[++r],c=n[++r];j0(a,o);let u=e[o];c(2,u)}}}finally{Zn(-1)}}function Ga(t,e,n,r,i,o,a,c,u,h,f){let m=e.blueprint.slice();return m[Kt]=i,m[j]=r|4|128|8|64|1024,(h!==null||t&&t[j]&2048)&&(m[j]|=2048),tv(m),m[Qe]=m[Jr]=t,m[_t]=n,m[Gt]=a||t&&t[Gt],m[Me]=c||t&&t[Me],m[$r]=u||t&&t[$r]||null,m[Et]=o,m[Oa]=_b(),m[la]=f,m[zy]=h,m[Mt]=e.type==2?t[Mt]:m,m}function za(t,e,n,r,i){let o=t.data[e];if(o===null)o=dC(t,e,n,r,i),L0()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=k0();o.injectorIndex=a===null?-1:a.injectorIndex}return Do(o,!0),o}function dC(t,e,n,r,i){let o=iv(),a=ov(),c=a?o:o&&o.parent,u=t.data[e]=gC(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(a?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function i_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function o_(t,e,n,r,i){let o=ei(),a=r&2;try{Zn(-1),a&&e.length>xt&&n_(t,e,xt,!1),At(a?2:0,i),n(r,i)}finally{Zn(o),At(a?3:1,i)}}function s_(t,e,n){if(Ky(e)){let r=X(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let a=i;a<o;a++){let c=t.data[a];if(c.contentQueries){let u=n[a];c.contentQueries(1,u,a)}}}finally{X(r)}}}function a_(t,e,n){rv()&&(wC(t,e,n,wt(n,e)),(n.flags&64)===64&&h_(t,e,n))}function c_(t,e,n=wt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],c=a===-1?n(e,t):t[a];t[i++]=c}}}function u_(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Yd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Yd(t,e,n,r,i,o,a,c,u,h,f){let m=xt+r,D=m+i,T=hC(m,D),A=typeof h=="function"?h():h;return T[W]={type:t,blueprint:T,template:n,queries:null,viewQuery:c,declTNode:e,data:T.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function hC(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yt);return n}function fC(t,e,n,r){let o=r.get(bb,jv)||n===Pt.ShadowDom,a=t.selectRootElement(e,o);return pC(a),a}function pC(t){mC(t)}var mC=()=>null;function gC(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,c=0;return x0()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function cy(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let a=e[o];if(a===void 0)continue;r??={};let c,u=In.None;Array.isArray(a)?(c=a[0],u=a[1]):c=a;let h=o;if(i!==null){if(!i.hasOwnProperty(o))continue;h=i[o]}t===0?uy(r,n,h,c,u):uy(r,n,h,c)}return r}function uy(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function yC(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,a=e.attrs,c=[],u=null,h=null;for(let f=r;f<i;f++){let m=o[f],D=n?n.get(m):null,T=D?D.inputs:null,A=D?D.outputs:null;u=cy(0,m.inputs,f,u,T),h=cy(1,m.outputs,f,h,A);let F=u!==null&&a!==null&&!Qd(e)?xC(u,f,a):null;c.push(F)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=h}function vC(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Jd(t,e,n,r,i,o,a,c){let u=wt(e,n),h=e.inputs,f;!c&&h!=null&&(f=h[r])?(Zd(t,n,f,r,i),Fa(e)&&_C(n,e.index)):e.type&3?(r=vC(r),i=a!=null?a(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function _C(t,e){let n=wn(e,t);n[j]&16||(n[j]|=64)}function l_(t,e,n,r){if(rv()){let i=r===null?null:{"":-1},o=TC(t,n),a,c;o===null?a=c=null:[a,c]=o,a!==null&&d_(t,e,n,a,i,c),i&&bC(n,r,i)}n.mergedAttrs=go(n.mergedAttrs,n.attrs)}function d_(t,e,n,r,i,o){for(let h=0;h<r.length;h++)ql(Ia(n,e),t,r[h].type);SC(n,t.data.length,r.length);for(let h=0;h<r.length;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let a=!1,c=!1,u=i_(t,e,r.length,null);for(let h=0;h<r.length;h++){let f=r[h];n.mergedAttrs=go(n.mergedAttrs,f.hostAttrs),AC(t,n,e,u,f),CC(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let m=f.type.prototype;!a&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!c&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}yC(t,n,o)}function IC(t,e,n,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let c=~e.index;EC(a)!=c&&a.push(c),a.push(n,r,o)}}function EC(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function wC(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Fa(n)&&NC(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ia(n,e),er(r,e);let a=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],h=Gr(e,t,c,n);if(er(h,e),a!==null&&MC(e,c-i,h,u,n,a),_n(u)){let f=wn(n.index,e);f[_t]=Gr(e,t,c,n)}}}function h_(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=B0();try{Zn(o);for(let c=r;c<i;c++){let u=t.data[c],h=e[c];Bl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&DC(u,h)}}finally{Zn(-1),Bl(a)}}function DC(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function TC(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let a=n[o];if(iC(e,a.selectors,!1))if(r||(r=[]),_n(a))if(a.findHostDirectiveDefs!==null){let c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),r.unshift(...c,a);let u=c.length;ed(t,e,u)}else r.unshift(a),ed(t,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return r===null?null:[r,i]}function ed(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bC(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}}function CC(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_n(e)&&(n[""]=t)}}function SC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function AC(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Qn(i.type,!0)),a=new Xn(o,_n(i),ce);t.blueprint[r]=a,n[r]=a,IC(t,e,r,i_(t,n,i.hostVars,Yt),i)}function f_(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function NC(t,e,n){let r=wt(e,t),i=u_(n),o=t[Gt].rendererFactory,a=Wa(t,Ga(t,i,null,f_(n),r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function MC(t,e,n,r,i,o){let a=o[e];if(a!==null)for(let c=0;c<a.length;){let u=a[c++],h=a[c++],f=a[c++],m=a[c++];r_(r,n,u,h,f,m)}}function xC(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let a=t[o];for(let c=0;c<a.length;c+=3)if(a[c]===e){r.push(o,a[c+1],a[c+2],n[i+1]);break}}i+=2}return r}function p_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function m_(t,e){let n=t.contentQueries;if(n!==null){let r=X(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let c=t.data[a];cv(o),c.contentQueries(2,e[a],a)}}}finally{X(r)}}}function Wa(t,e){return t[mo]?t[zg][vt]=e:t[mo]=e,t[zg]=e,e}function td(t,e,n){cv(0);let r=X(null);try{e(t,n)}finally{X(r)}}function RC(t){return t[da]??=[]}function PC(t){return t.cleanup??=[]}function g_(t,e){let n=t[$r],r=n?n.get(zt,null):null;r&&r.handleError(e)}function Zd(t,e,n,r,i){for(let o=0;o<n.length;){let a=n[o++],c=n[o++],u=n[o++],h=e[a],f=t.data[a];r_(f,h,r,c,u,i)}}function kC(t,e,n){let r=Xy(e,t);Ob(t[Me],r,n)}function OC(t,e){let n=wn(e,t),r=n[W];FC(r,n);let i=n[Kt];i!==null&&n[la]===null&&(n[la]=Hd(i,n[$r])),Xd(r,n,n[_t])}function FC(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Xd(t,e,n){Nd(e);try{let r=t.viewQuery;r!==null&&td(1,r,n);let i=t.template;i!==null&&o_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[qr]?.finishViewCreation(t),t.staticContentQueries&&m_(t,e),t.staticViewQueries&&td(2,t.viewQuery,n);let o=t.components;o!==null&&VC(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[j]&=-5,Md()}}function VC(t,e){for(let n=0;n<e.length;n++)OC(t,e[n])}function LC(t,e,n,r){let i=X(null);try{let o=e.tView,c=t[j]&4096?4096:16,u=Ga(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=t[e.index];u[Hr]=h;let f=t[qr];return f!==null&&(u[qr]=f.createEmbeddedView(o)),Xd(o,u,n),u}finally{X(i)}}function ly(t,e){return!e||e.firstChild===null||Rv(t)}function jC(t,e,n,r=!0){let i=e[W];if(jb(i,e,t,n),r){let a=Xl(n,t),c=e[Me],u=Jv(c,t[Yn]);u!==null&&Vb(i,t[Et],c,e,u,a)}let o=e[la];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ca(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Rt(o)),Qt(o)&&BC(o,r);let a=n.type;if(a&8)Ca(t,e,n.child,r);else if(a&32){let c=Gd(n,e),u;for(;u=c();)r.push(u)}else if(a&16){let c=Zv(e,n);if(Array.isArray(c))r.push(...c);else{let u=Jn(e[Mt]);Ca(u[W],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function BC(t,e){for(let n=dt;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&Ca(r[W],r,i,e)}t[Yn]!==t[Kt]&&e.push(t[Yn])}var y_=[];function UC(t){return t[ot]??$C(t)}function $C(t){let e=y_.pop()??Object.create(qC);return e.lView=t,e}function HC(t){t.lView[ot]!==t&&(t.lView=null,y_.push(t))}var qC=ue($({},io),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ja(t.lView)},consumerOnSignalRead(){this.lView[ot]=this}});function GC(t){let e=t[ot]??Object.create(zC);return e.lView=t,e}var zC=ue($({},io),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Jn(t.lView);for(;e&&!v_(e[W]);)e=Jn(e);e&&Sd(e)},consumerOnSignalRead(){this.lView[ot]=this}});function v_(t){return t.type!==2}function __(t){if(t[ha]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ha])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[j]&8192)}}var WC=100;function I_(t,e=!0,n=0){let i=t[Gt].rendererFactory,o=!1;o||i.begin?.();try{KC(t,n)}catch(a){throw e&&g_(t,a),a}finally{o||i.end?.()}}function KC(t,e){let n=sv();try{Kg(!0),nd(t,e);let r=0;for(;La(t);){if(r===WC)throw new U(103,!1);r++,nd(t,1)}}finally{Kg(n)}}function QC(t,e,n,r){let i=e[j];if((i&256)===256)return;let o=!1,a=!1;Nd(e);let c=!0,u=null,h=null;o||(v_(t)?(h=UC(e),u=As(h)):og()===null?(c=!1,h=GC(e),u=As(h)):e[ot]&&(tl(e[ot]),e[ot]=null));try{tv(e),F0(t.bindingStartIndex),n!==null&&o_(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let T=t.preOrderCheckHooks;T!==null&&na(e,T,null)}else{let T=t.preOrderHooks;T!==null&&ra(e,T,0,null),Il(e,0)}if(a||YC(e),__(e),E_(e,0),t.contentQueries!==null&&m_(t,e),!o)if(f){let T=t.contentCheckHooks;T!==null&&na(e,T)}else{let T=t.contentHooks;T!==null&&ra(e,T,1),Il(e,1)}lC(t,e);let m=t.components;m!==null&&D_(e,m,0);let D=t.viewQuery;if(D!==null&&td(2,D,r),!o)if(f){let T=t.viewCheckHooks;T!==null&&na(e,T)}else{let T=t.viewHooks;T!==null&&ra(e,T,2),Il(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[_l]){for(let T of e[_l])T();e[_l]=null}o||(e[j]&=-73)}catch(f){throw o||ja(e),f}finally{h!==null&&(Xu(h,u),c&&HC(h)),Md()}}function E_(t,e){for(let n=Ov(t);n!==null;n=Fv(n))for(let r=dt;r<n.length;r++){let i=n[r];w_(i,e)}}function YC(t){for(let e=Ov(t);e!==null;e=Fv(e)){if(!(e[j]&ma.HasTransplantedViews))continue;let n=e[pa];for(let r=0;r<n.length;r++){let i=n[r];Sd(i)}}}function JC(t,e,n){let r=wn(e,t);w_(r,n)}function w_(t,e){Cd(t)&&nd(t,e)}function nd(t,e){let r=t[W],i=t[j],o=t[ot],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(o?.dirty&&el(o)),a||=!1,o&&(o.dirty=!1),t[j]&=-9217,a)QC(r,t,r.template,t[_t]);else if(i&8192){__(t),E_(t,1);let c=r.components;c!==null&&D_(t,c,1)}}function D_(t,e,n){for(let r=0;r<e.length;r++)JC(t,e[r],n)}function eh(t,e){let n=sv()?64:1088;for(t[Gt].changeDetectionScheduler?.notify(e);t;){t[j]|=n;let r=Jn(t);if(Fl(t)&&!r)return t;t=r}return null}var tr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[W];return Ca(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[_t]}get dirty(){return!!(this._lView[j]&9280)||!!this._lView[ot]?.dirty}set context(e){this._lView[_t]=e}get destroyed(){return(this._lView[j]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qe];if(Qt(e)){let n=e[fa],r=n?n.indexOf(this):-1;r>-1&&(Zl(e,r),ca(n,r))}this._attachedToViewContainer=!1}Qv(this._lView[W],this._lView)}onDestroy(e){nv(this._lView,e)}markForCheck(){eh(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Sd(this._cdRefInjectingView||this._lView)}detach(){this._lView[j]&=-129}reattach(){Ll(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,I_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Fl(this._lView),n=this._lView[Hr];n!==null&&!e&&zd(n,this._lView),Wv(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=Fl(this._lView),r=this._lView[Hr];r!==null&&!n&&Kv(r,this._lView),Ll(this._lView)}},th=(()=>{class t{static __NG_ELEMENT_ID__=eS}return t})(),ZC=th,XC=class extends ZC{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=LC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new tr(i)}};function eS(){return tS(tt(),le())}function tS(t,e){return t.type&4?new XC(e,t,Ua(t,e)):null}var IV=new RegExp(`^(\\d+)*(${Tb}|${Db})*(.*)`);var nS=()=>null;function dy(t,e){return nS(t,e)}var rd=class{},Sa=class{},id=class{resolveComponentFactory(e){throw Error(`No component factory found for ${lt(e)}.`)}},vo=class{static NULL=new id},zr=class{},To=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>rS()}return t})();function rS(){let t=le(),e=tt(),n=wn(e.index,t);return(yn(n)?n:t)[Me]}var iS=(()=>{class t{static \u0275prov=ae({token:t,providedIn:"root",factory:()=>null})}return t})();function od(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number")o=c;else if(o==1)i=Bg(i,c);else if(o==2){let u=c,h=e[++a];r=Bg(r,u+": "+h+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var sd=class extends vo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Br(e);return new Aa(n,this.ngModule)}};function hy(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),a=o?i[0]:i,c=o?i[1]:In.None;e?n.push({propName:a,templateName:r,isSignal:(c&In.SignalBased)!==0}):n.push({propName:a,templateName:r})}return n}function oS(t){let e=t.toLowerCase();return e==="svg"?w0:e==="math"?D0:null}var Aa=class extends Sa{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,r=hy(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return hy(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=cC(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=X(null);try{i=i||this.ngModule;let a=i instanceof vn?i:i?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let c=a?new $l(e,a):e,u=c.get(zr,null);if(u===null)throw new U(407,!1);let h=c.get(iS,null),f=c.get(yo,null),m={rendererFactory:u,sanitizer:h,changeDetectionScheduler:f},D=u.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=r?fC(D,r,this.componentDef.encapsulation,c):zv(D,T,oS(T)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let O=null;A!==null&&(O=Hd(A,c,!0));let B=Yd(0,null,null,1,0,null,null,null,null,null,null),q=Ga(null,B,null,F,null,null,m,D,c,null,O);Nd(q);let Z,ie,Oe=null;try{let te=this.componentDef,I,g=null;te.findHostDirectiveDefs?(I=[],g=new Map,te.findHostDirectiveDefs(te,I,g),I.push(te)):I=[te];let y=sS(q,A);Oe=aS(y,A,te,I,q,m,D),ie=ev(B,xt),A&&lS(D,te,A,r),n!==void 0&&dS(ie,this.ngContentSelectors,n),Z=uS(Oe,te,I,g,q,[hS]),Xd(B,q,null)}catch(te){throw Oe!==null&&Yl(Oe),Yl(q),te}finally{Md()}return new ad(this.componentType,Z,Ua(ie,q),q,ie)}finally{X(o)}}},ad=class extends rd{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new tr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Zd(o[W],o,i,e,n),this.previousInputValues.set(e,n);let a=wn(this._tNode.index,o);eh(a,1)}}get injector(){return new Kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sS(t,e){let n=t[W],r=xt;return t[r]=e,za(n,r,2,"#host",null)}function aS(t,e,n,r,i,o,a){let c=i[W];cS(r,t,e,a);let u=null;e!==null&&(u=Hd(e,i[$r]));let h=o.rendererFactory.createRenderer(e,n),f=Ga(i,u_(n),null,f_(n),i[t.index],t,o,h,null,null,u);return c.firstCreatePass&&ed(c,t,r.length-1),Wa(i,f),i[t.index]=f}function cS(t,e,n,r){for(let i of t)e.mergedAttrs=go(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(od(e,e.mergedAttrs,!0),n!==null&&e_(r,n,e))}function uS(t,e,n,r,i,o){let a=tt(),c=i[W],u=wt(a,i);d_(c,i,a,n,null,r);for(let f=0;f<n.length;f++){let m=a.directiveStart+f,D=Gr(i,c,m,a);er(D,i)}h_(c,i,a),u&&er(u,i);let h=Gr(i,c,a.directiveStart+a.componentOffset,a);if(t[_t]=i[_t]=h,o!==null)for(let f of o)f(h,e);return s_(c,a,i),h}function lS(t,e,n,r){if(r)Ul(t,n,["ng-version","19.0.6"]);else{let{attrs:i,classes:o}=uC(e.selectors[0]);i&&Ul(t,n,i),o&&o.length>0&&Xv(t,n,o.join(" "))}}function dS(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}function hS(){let t=tt();kd(le()[W],t)}var nh=(()=>{class t{static __NG_ELEMENT_ID__=fS}return t})();function fS(){let t=tt();return mS(t,le())}var pS=nh,T_=class extends pS{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new Kn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Od(this._hostTNode,this._hostLView);if(gv(e)){let n=va(e,this._hostLView),r=ya(e),i=n[W].data[r+8];return new Kn(i,n)}else return new Kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=fy(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=dy(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(c,i,ly(this._hostTNode,a)),c}createComponent(e,n,r,i,o){let a=e&&!v0(e),c;if(a)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=a?e:new Aa(Br(e)),h=r||this.parentInjector;if(!o&&u.ngModule==null){let F=(a?h:this.parentInjector).get(vn,null);F&&(o=F)}let f=Br(u.componentType??{}),m=dy(this._lContainer,f?.id??null),D=m?.firstChild??null,T=u.create(h,i,D,o);return this.insertImpl(T.hostView,c,ly(this._hostTNode,m)),T}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(b0(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Qe],h=new T_(u,u[Et],u[Qe]);h.detach(h.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return jC(a,i,o,r),e.attachToViewContainerRef(),Fy(Tl(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=fy(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Zl(this._lContainer,n);r&&(ca(Tl(this._lContainer),n),Qv(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=Zl(this._lContainer,n);return r&&ca(Tl(this._lContainer),n)!=null?new tr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function fy(t){return t[fa]}function Tl(t){return t[fa]||(t[fa]=[])}function mS(t,e){let n,r=e[t.index];return Qt(r)?n=r:(n=p_(r,e,null,t),e[t.index]=n,Wa(e,n)),yS(n,e,t,r),new T_(n,t,e)}function gS(t,e){let n=t[Me],r=n.createComment(""),i=wt(e,t),o=Jv(n,i);return ba(n,o,r,qb(n,i),!1),r}var yS=IS,vS=()=>!1;function _S(t,e,n){return vS(t,e,n)}function IS(t,e,n,r){if(t[Yn])return;let i;n.type&8?i=Rt(r):i=gS(e,n),t[Yn]=i}function ES(t){return typeof t=="function"&&t[rt]!==void 0}function ir(t,e){$a("NgSignals");let n=mg(t),r=n[rt];return e?.equal&&(r.equal=e.equal),n.set=i=>oo(r,i),n.update=i=>gg(r,i),n.asReadonly=b_.bind(n),n}function b_(){let t=this[rt];if(t.readonlyFn===void 0){let e=()=>this();e[rt]=t,t.readonlyFn=e}return t.readonlyFn}function C_(t){return ES(t)&&typeof t.set=="function"}function S_(t,e){let n=Object.create(OT),r=new Da;n.value=t;function i(){return Ss(n),py(n.value),n.value}return i[rt]=n,i.asReadonly=b_.bind(i),i.set=o=>{n.equal(n.value,o)||(oo(n,o),r.emit(o))},i.update=o=>{py(n.value),i.set(o(n.value))},i.subscribe=r.subscribe.bind(r),i.destroyRef=r.destroyRef,i}function py(t){if(t===Sy)throw new U(952,!1)}function my(t,e){return S_(t,e)}function wS(t){return S_(Sy,t)}var A_=(my.required=wS,my);var Wr=class{};var Na=class extends Wr{injector;componentFactoryResolver=new sd(this);instance=null;constructor(e){super();let n=new po([...e.providers,{provide:Wr,useValue:this},{provide:vo,useValue:this.componentFactoryResolver}],e.parent||Td(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function DS(t,e,n=null){return new Na({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var TS=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Uy(!1,n.type),i=r.length>0?DS([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ae({token:t,providedIn:"environment",factory:()=>new t(oe(vn))})}return t})();function xe(t){return Io(()=>{let e=M_(t),n=ue($({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Pv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(TS).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pt.Emulated,styles:t.styles||ut,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&$a("NgStandalone"),x_(n);let r=t.dependencies;return n.directiveDefs=yy(r,!1),n.pipeDefs=yy(r,!0),n.id=SS(n),n})}function bS(t){return Br(t)||jy(t)}function CS(t){return t!==null}function or(t){return Io(()=>({type:t.type,bootstrap:t.bootstrap||ut,declarations:t.declarations||ut,imports:t.imports||ut,exports:t.exports||ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gy(t,e){if(t==null)return jr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,c=In.None;Array.isArray(i)?(c=i[0],o=i[1],a=i[2]??o):(o=i,a=i),e?(n[o]=c!==In.None?[r,c]:r,e[o]=a):n[o]=r}return n}function Dt(t){return Io(()=>{let e=M_(t);return x_(e),e})}function N_(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function M_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||jr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gy(t.inputs,e),outputs:gy(t.outputs),debugInfo:null}}function x_(t){t.features?.forEach(e=>e(t))}function yy(t,e){if(!t)return null;let n=e?By:bS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(CS)}function SS(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function AS(t){return Object.getPrototypeOf(t.prototype).constructor}function Tn(t){let e=AS(t.type),n=!0,r=[t];for(;e;){let i;if(_n(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let a=t;a.inputs=Xs(t.inputs),a.inputTransforms=Xs(t.inputTransforms),a.declaredInputs=Xs(t.declaredInputs),a.outputs=Xs(t.outputs);let c=i.hostBindings;c&&PS(t,c);let u=i.viewQuery,h=i.contentQueries;if(u&&xS(t,u),h&&RS(t,h),NS(t,i),VT(t.outputs,i.outputs),_n(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let c=o[a];c&&c.ngInherit&&c(t),c===Tn&&(n=!1)}}e=Object.getPrototypeOf(e)}MS(r)}function NS(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function MS(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=go(i.hostAttrs,n=go(n,i.hostAttrs))}}function Xs(t){return t===jr?{}:t===ut?[]:t}function xS(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function RS(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function PS(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function R_(t){return OS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function kS(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function OS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function P_(t,e,n){return t[e]=n}function FS(t,e){return t[e]}function bo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function VS(t){return(t.flags&32)===32}function LS(t,e,n,r,i,o,a,c,u){let h=e.consts,f=za(e,t,4,a||null,c||null);l_(e,n,f,ga(h,u)),kd(e,f);let m=f.tView=Yd(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,f),m.queries=e.queries.embeddedTView(f)),f}function jS(t,e,n,r,i,o,a,c,u,h){let f=n+xt,m=e.firstCreatePass?LS(f,e,t,r,i,o,a,c,u):e.data[f];Do(m,!1);let D=BS(e,t,m,n);Rd()&&Wd(e,t,D,m),er(D,t);let T=p_(D,t,D,m);return t[f]=T,Wa(t,T),_S(T,m,t),bd(m)&&a_(e,t,m),u!=null&&c_(t,m,h),m}function Jt(t,e,n,r,i,o,a,c){let u=le(),h=et(),f=ga(h.consts,o);return jS(u,h,t,e,n,r,i,f,a,c),Jt}var BS=US;function US(t,e,n,r){return Pd(!0),e[Me].createComment("")}var k_=new H("");function ri(t){return!!t&&typeof t.then=="function"}function rh(t){return!!t&&typeof t.subscribe=="function"}var $S=new H("");var O_=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=G($S,{optional:!0})??[];injector=G(It);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Gy(this.injector,i);if(ri(o))n.push(o);else if(rh(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),HS=(()=>{class t{static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new cd})}return t})(),cd=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},qS=new H("");function GS(){pg(()=>{throw new U(600,!1)})}function zS(t){return t.isBoundToModule}var WS=10;function KS(t,e,n){try{let r=n();return ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Kr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=G(gb);afterRenderManager=G(Cb);zonelessEnabled=G(Vd);rootEffectScheduler=G(HS);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new qt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=G(Ba).hasPendingTasks.pipe(Wn(n=>!n));constructor(){G(Uv,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=G(vn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Sa;if(!this._injector.get(O_).done){let D=!i&&o0(n),T=!1;throw new U(405,T)}let a;i?a=n:a=this._injector.get(vo).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=zS(a)?void 0:this._injector.get(Wr),u=r||a.selector,h=a.create(It.NULL,[],u,c),f=h.location.nativeElement,m=h.injector.get(k_,null);return m?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),ia(this.components,h),m?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Bv.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new U(101,!1);let n=X(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,X(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<WS;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)QS(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>La(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ia(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(qS,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ia(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ia(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function QS(t,e,n,r){if(!n&&!La(t))return;I_(t,e,n&&!r?0:1)}function F_(t,e,n,r){return bo(t,Ad(),n)?e+Id(n)+r:Yt}function ea(t,e){return t<<17|e<<2}function nr(t){return t>>17&32767}function YS(t){return(t&2)==2}function JS(t,e){return t&131071|e<<17}function ud(t){return t|2}function Qr(t){return(t&131068)>>2}function bl(t,e){return t&-131069|e<<2}function ZS(t){return(t&1)===1}function ld(t){return t|1}function XS(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,c=nr(a),u=Qr(a);t[r]=n;let h=!1,f;if(Array.isArray(n)){let m=n;f=m[1],(f===null||Eo(m,f)>0)&&(h=!0)}else f=n;if(i)if(u!==0){let D=nr(t[c+1]);t[r+1]=ea(D,c),D!==0&&(t[D+1]=bl(t[D+1],r)),t[c+1]=JS(t[c+1],r)}else t[r+1]=ea(c,0),c!==0&&(t[c+1]=bl(t[c+1],r)),c=r;else t[r+1]=ea(u,0),c===0?c=r:t[u+1]=bl(t[u+1],r),u=r;h&&(t[r+1]=ud(t[r+1])),vy(t,f,r,!0),vy(t,f,r,!1),eA(e,f,t,r,o),a=ea(c,u),o?e.classBindings=a:e.styleBindings=a}function eA(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Eo(o,e)>=0&&(n[r+1]=ld(n[r+1]))}function vy(t,e,n,r){let i=t[n+1],o=e===null,a=r?nr(i):Qr(i),c=!1;for(;a!==0&&(c===!1||o);){let u=t[a],h=t[a+1];tA(u,e)&&(c=!0,t[a+1]=r?ld(h):ud(h)),a=r?nr(h):Qr(h)}c&&(t[n+1]=r?ud(i):ld(i))}function tA(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Eo(t,e)>=0:!1}function Ye(t,e,n){let r=le(),i=Ad();if(bo(r,i,e)){let o=et(),a=xd();Jd(o,a,r,t,e,r[Me],n,!1)}return Ye}function _y(t,e,n,r,i){let o=e.inputs,a=i?"class":"style";Zd(t,n,o[a],a,r)}function bn(t,e){return nA(t,e,null,!0),bn}function nA(t,e,n,r){let i=le(),o=et(),a=V0(2);if(o.firstUpdatePass&&iA(o,t,a,r),e!==Yt&&bo(i,a,e)){let c=o.data[ei()];uA(o,c,i,i[Me],t,i[a+1]=lA(e,n),r,a)}}function rA(t,e){return e>=t.expandoStartIndex}function iA(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ei()],a=rA(t,n);dA(o,r)&&e===null&&!a&&(e=!1),e=oA(i,o,e,r),XS(i,o,e,n,a,r)}}function oA(t,e,n,r){let i=U0(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Cl(null,t,e,n,r),n=_o(n,e.attrs,r),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==i)if(n=Cl(i,t,e,n,r),o===null){let u=sA(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Cl(null,t,e,u[1],r),u=_o(u,e.attrs,r),aA(t,e,r,u))}else o=cA(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function sA(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Qr(r)!==0)return t[nr(r)]}function aA(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[nr(i)]=r}function cA(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let a=t[o].hostAttrs;r=_o(r,a,n)}return _o(r,e.attrs,n)}function Cl(t,e,n,r,i){let o=null,a=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<a&&(o=e[c],r=_o(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function _o(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),r0(t,a,n?!0:e[++o]))}return t===void 0?null:t}function uA(t,e,n,r,i,o,a,c){if(!(e.type&3))return;let u=t.data,h=u[c+1],f=ZS(h)?Iy(u,e,n,i,Qr(h),a):void 0;if(!Ma(f)){Ma(o)||YS(h)&&(o=Iy(u,null,n,i,c,a));let m=Xy(ei(),n);Jb(r,a,m,i,o)}}function Iy(t,e,n,r,i,o){let a=e===null,c;for(;i>0;){let u=t[i],h=Array.isArray(u),f=h?u[1]:u,m=f===null,D=n[i+1];D===Yt&&(D=m?ut:void 0);let T=m?yl(D,r):f===r?D:void 0;if(h&&!Ma(T)&&(T=yl(u,r)),Ma(T)&&(c=T,a))return c;let A=t[i+1];i=a?nr(A):Qr(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=yl(u,r))}return c}function Ma(t){return t!==void 0}function lA(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=lt(Ha(t)))),t}function dA(t,e){return(t.flags&(e?8:16))!==0}function hA(t,e,n,r,i,o){let a=e.consts,c=ga(a,i),u=za(e,t,2,r,c);return l_(e,n,u,ga(a,o)),u.attrs!==null&&od(u,u.attrs,!1),u.mergedAttrs!==null&&od(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function N(t,e,n,r){let i=le(),o=et(),a=xt+t,c=i[Me],u=o.firstCreatePass?hA(a,o,i,e,n,r):o.data[a],h=fA(o,i,u,c,e,t);i[a]=h;let f=bd(u);return Do(u,!0),e_(c,h,u),!VS(u)&&Rd()&&Wd(o,i,h,u),A0()===0&&er(h,i),N0(),f&&(a_(o,i,u),s_(o,u,i)),r!==null&&c_(i,u),N}function M(){let t=tt();ov()?O0():(t=t.parent,Do(t,!1));let e=t;R0(e)&&P0(),M0();let n=et();return n.firstCreatePass&&(kd(n,t),Ky(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&K0(e)&&_y(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Q0(e)&&_y(n,e,le(),e.stylesWithoutHost,!1),M}function Ee(t,e,n,r){return N(t,e,n,r),M(),Ee}var fA=(t,e,n,r,i,o)=>(Pd(!0),zv(r,i,q0()));function Ka(){return le()}var xa="en-US";var pA=xa;function mA(t){typeof t=="string"&&(pA=t.toLowerCase().replace(/_/g,"-"))}var gA=(t,e,n)=>{};function Ie(t,e,n,r){let i=le(),o=et(),a=tt();return V_(o,i,i[Me],a,t,e,r),Ie}function yA(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let c=e[da],u=i[o+2];return c.length>u?c[u]:null}typeof a=="string"&&(o+=2)}return null}function V_(t,e,n,r,i,o,a){let c=bd(r),h=t.firstCreatePass&&PC(t),f=e[_t],m=RC(e),D=!0;if(r.type&3||a){let F=wt(r,e),O=a?a(F):F,B=m.length,q=a?ie=>a(Rt(ie[r.index])):r.index,Z=null;if(!a&&c&&(Z=yA(t,e,i,r.index)),Z!==null){let ie=Z.__ngLastListenerFn__||Z;ie.__ngNextListenerFn__=o,Z.__ngLastListenerFn__=o,D=!1}else{o=wy(r,e,f,o),gA(F,i,o);let ie=n.listen(O,i,o);m.push(o,ie),h&&h.push(i,q,B,B+1)}}else o=wy(r,e,f,o);let T=r.outputs,A;if(D&&T!==null&&(A=T[i])){let F=A.length;if(F)for(let O=0;O<F;O+=2){let B=A[O],q=A[O+1],Oe=e[B][q].subscribe(o),te=m.length;m.push(o,Oe),h&&h.push(i,r.index,te,-(te+1))}}}function Ey(t,e,n,r){let i=X(null);try{return At(6,e,n),n(r)!==!1}catch(o){return g_(t,o),!1}finally{At(7,e,n),X(i)}}function wy(t,e,n,r){return function i(o){if(o===Function)return r;let a=t.componentOffset>-1?wn(t.index,e):e;eh(a,5);let c=Ey(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)c=Ey(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function ii(t=1){return H0(t)}function Qa(t,e,n){return L_(t,"",e,"",n),Qa}function L_(t,e,n,r,i){let o=le(),a=F_(o,e,n,r);if(a!==Yt){let c=et(),u=xd();Jd(c,u,o,t,a,o[Me],i,!1)}return L_}function vA(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function k(t,e=""){let n=le(),r=et(),i=t+xt,o=r.firstCreatePass?za(r,i,1,e,null):r.data[i],a=_A(r,n,o,e,t);n[i]=a,Rd()&&Wd(r,n,a,o),Do(o,!1)}var _A=(t,e,n,r,i)=>(Pd(!0),kb(e[Me],r));function Tt(t){return oi("",t,""),Tt}function oi(t,e,n){let r=le(),i=F_(r,t,e,n);return i!==Yt&&kC(r,ei(),i),oi}function ih(t,e,n){C_(e)&&(e=e());let r=le(),i=Ad();if(bo(r,i,e)){let o=et(),a=xd();Jd(o,a,r,t,e,r[Me],n,!1)}return ih}function j_(t,e){let n=C_(t);return n&&t.set(e),n}function oh(t,e){let n=le(),r=et(),i=tt();return V_(r,n,n[Me],i,t,e),oh}function IA(t,e,n){let r=et();if(r.firstCreatePass){let i=_n(t);dd(n,r.data,r.blueprint,i,!0),dd(e,r.data,r.blueprint,i,!1)}}function dd(t,e,n,r,i){if(t=Ke(t),Array.isArray(t))for(let o=0;o<t.length;o++)dd(t[o],e,n,r,i);else{let o=et(),a=le(),c=tt(),u=Ur(t)?t:Ke(t.provide),h=qy(t),f=c.providerIndexes&1048575,m=c.directiveStart,D=c.providerIndexes>>20;if(Ur(t)||!t.multi){let T=new Xn(h,i,ce),A=Al(u,e,i?f:f+D,m);A===-1?(ql(Ia(c,a),o,u),Sl(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(T),a.push(T)):(n[A]=T,a[A]=T)}else{let T=Al(u,e,f+D,m),A=Al(u,e,f,f+D),F=T>=0&&n[T],O=A>=0&&n[A];if(i&&!O||!i&&!F){ql(Ia(c,a),o,u);let B=DA(i?wA:EA,n.length,i,r,h);!i&&O&&(n[A].providerFactory=B),Sl(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(B),a.push(B)}else{let B=B_(n[i?A:T],h,!i&&r);Sl(o,t,T>-1?T:A,B)}!i&&r&&O&&n[A].componentProviders++}}}function Sl(t,e,n,r){let i=Ur(e),o=l0(e);if(i||o){let u=(o?Ke(e.useClass):e).prototype.ngOnDestroy;if(u){let h=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=h.indexOf(n);f===-1?h.push(n,[r,u]):h[f+1].push(r,u)}else h.push(n,u)}}}function B_(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Al(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function EA(t,e,n,r){return hd(this.multi,[])}function wA(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Gr(n,n[W],this.providerFactory.index,r);o=c.slice(0,a),hd(i,o);for(let u=a;u<c.length;u++)o.push(c[u])}else o=[],hd(i,o);return o}function hd(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function DA(t,e,n,r,i){let o=new Xn(t,n,ce);return o.multi=[],o.index=e,o.componentProviders=0,B_(o,i,r&&!n),o}function Ya(t,e=[]){return n=>{n.providersResolver=(r,i)=>IA(r,i?i(t):t,e)}}function U_(t,e,n){let r=av()+t,i=le();return i[r]===Yt?P_(i,r,n?e.call(n):e()):FS(i,r)}function TA(t,e){let n=t[e];return n===Yt?void 0:n}function bA(t,e,n,r,i,o){let a=e+n;return bo(t,a,i)?P_(t,a+1,o?r.call(o,i):r(i)):TA(t,a+1)}function sh(t,e){let n=et(),r,i=t+xt;n.firstCreatePass?(r=CA(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Qn(r.type,!0)),a,c=Xe(ce);try{let u=_a(!1),h=o();return _a(u),vA(n,le(),i,h),h}finally{Xe(c)}}function CA(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function ah(t,e,n){let r=t+xt,i=le(),o=T0(i,r);return SA(i,r)?bA(i,av(),e,o.transform,n,o):o.transform(n)}function SA(t,e){return t[W].data[e].pure}var En=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},$_=new En("19.0.6");var AA=(()=>{class t{zone=G(ve);changeDetectionScheduler=G(yo);applicationRef=G(Kr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NA({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(ue($({},MA()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:fo,multi:!0,useFactory:()=>{let r=G(AA,{optional:!0});return()=>r.initialize()}},{provide:fo,multi:!0,useFactory:()=>{let r=G(xA);return()=>{r.initialize()}}},e===!0?{provide:Sv,useValue:!0}:[],{provide:Av,useValue:n??Cv}]}function MA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var xA=(()=>{class t{subscription=new Ve;initialized=!1;zone=G(ve);pendingTasks=G(Ba);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var RA=(()=>{class t{appRef=G(Kr);taskService=G(Ba);ngZone=G(ve);zonelessEnabled=G(Vd);tracing=G(Uv,{optional:!0});disableScheduling=G(Sv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(G(Av,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ql||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?ey:Nv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ey(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PA(){return typeof $localize<"u"&&$localize.locale||xa}var ch=new H("",{providedIn:"root",factory:()=>G(ch,Q.Optional|Q.SkipSelf)||PA()});var fd=new H(""),kA=new H("");function ao(t){return!t.moduleRef}function OA(t){let e=ao(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{ao(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(zt,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ao(t)){let o=()=>e.destroy(),a=t.platformInjector.get(fd);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(fd);a.add(o),t.moduleRef.onDestroy(()=>{ia(t.allPlatformModules,t.moduleRef),i.unsubscribe(),a.delete(o)})}return KS(r,n,()=>{let o=e.get(O_);return o.runInitializers(),o.donePromise.then(()=>{let a=e.get(ch,xa);if(mA(a||xa),!e.get(kA,!0))return ao(t)?e.get(Kr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ao(t)){let u=e.get(Kr);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return FA(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function FA(t,e){let n=t.injector.get(Kr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new U(-403,!1);e.push(t)}var oa=null;function VA(t=[],e){return It.create({name:e,providers:[{provide:ka,useValue:"platform"},{provide:fd,useValue:new Set([()=>oa=null])},...t]})}function LA(t=[]){if(oa)return oa;let e=VA(t);return oa=e,GS(),jA(e),e}function jA(t){let e=t.get(Ud,null);Gy(t,()=>{e?.forEach(n=>n())})}var Ja=(()=>{class t{static __NG_ELEMENT_ID__=BA}return t})();function BA(t){return UA(tt(),le(),(t&16)===16)}function UA(t,e,n){if(Fa(t)&&!n){let r=wn(t.index,e);return new tr(r,r)}else if(t.type&175){let r=e[Mt];return new tr(r,e)}return null}var pd=class{constructor(){}supports(e){return R_(e)}create(e){return new md(e)}},$A=(t,e)=>e,md=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||$A}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let a=!r||n&&n.currentIndex<Dy(r,i,o)?n:r,c=Dy(a,i,o),u=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(n=n._next,a.previousIndex==null)i++;else{o||(o=[]);let h=c-i,f=u-i;if(h!=f){for(let D=0;D<h;D++){let T=D<o.length?o[D]:o[D]=0,A=T+D;f<=A&&A<h&&(o[D]=T+1)}let m=a.previousIndex;o[m]=f-h}}c!==u&&e(a,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!R_(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,a;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],a=this._trackByFn(c,o),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,o,a,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,a,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,kS(e,c=>{a=this._trackByFn(i,c),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,c,a,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,a,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new gd(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ra),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ra),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},gd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},yd=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ra=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new yd,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Dy(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Ty(){return new uh([new pd])}var uh=(()=>{class t{factories;static \u0275prov=ae({token:t,providedIn:"root",factory:Ty});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Ty()),deps:[[t,new t0,new kt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new U(901,!1)}}return t})();function H_(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=LA(r),o=[NA({}),{provide:yo,useExisting:RA},...n||[]],a=new Na({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return OA({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Co(t,e){$a("NgSignals");let n=dg(t);return e?.equal&&(n[rt].equal=e.equal),n}function bt(t){let e=X(null);try{return t()}finally{X(e)}}var by=class{[rt];constructor(e){this[rt]=e}destroy(){this[rt].destroy()}};var G_=null;function si(){return G_}function z_(t){G_??=t}var Za=class{};var Cn=new H("");function W_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var lh=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ai=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,a)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new lh(i.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),q_(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);q_(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ce(nh),ce(th),ce(uh))};static \u0275dir=Dt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function q_(t,e){t.context.$implicit=e.item}function qA(t,e){return new U(2100,!1)}var dh=class{createSubscription(e,n){return bt(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){bt(()=>e.unsubscribe())}},hh=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},GA=new hh,zA=new dh,K_=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(ri(n))return GA;if(rh(n))return zA;throw qA(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(ce(Ja,16))};static \u0275pipe=N_({name:"async",type:t,pure:!1})}return t})();var Le=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=or({type:t});static \u0275inj=rr({})}return t})(),Q_="browser",WA="server";function fh(t){return t===WA}var Xa=class{};var gh=class extends Za{supportsDOMEvents=!0},yh=class t extends gh{static makeCurrent(){z_(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=QA();return n==null?null:YA(n)}resetBaseElement(){So=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return W_(document.cookie,e)}},So=null;function QA(){return So=So||document.querySelector("base"),So?So.getAttribute("href"):null}function YA(t){return new URL(t,document.baseURI).pathname}var JA=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),vh=new H(""),tI=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(oe(vh),oe(ve))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),tc=class{_doc;constructor(e){this._doc=e}manager},ec="ng-app-id";function Y_(t){for(let e of t)e.remove()}function J_(t,e){let n=e.createElement("style");return n.textContent=t,n}function ZA(t,e,n,r){let i=t.head?.querySelectorAll(`style[${ec}="${e}"],link[${ec}="${e}"]`);if(i)for(let o of i)o.removeAttribute(ec),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function _h(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var nI=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=fh(o),ZA(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,J_);r?.forEach(i=>this.addUsage(i,this.external,_h))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Y_(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Y_(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,J_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,_h(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ec,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(oe(Cn),oe(Bd),oe($d,8),oe(Dn))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),mh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Eh=/%COMP%/g,rI="%COMP%",XA=`_nghost-${rI}`,eN=`_ngcontent-${rI}`,tN=!0,nN=new H("",{providedIn:"root",factory:()=>tN});function rN(t){return eN.replace(Eh,t)}function iN(t){return XA.replace(Eh,t)}function iI(t,e){return e.map(n=>n.replace(Eh,t))}var Z_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,a,c,u,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=h,this.platformIsServer=fh(c),this.defaultRenderer=new Ao(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Pt.ShadowDom&&(r=ue($({},r),{encapsulation:Pt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof nc?i.applyToHost(n):i instanceof No&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Pt.Emulated:o=new nc(u,h,r,this.appId,f,a,c,m);break;case Pt.ShadowDom:return new Ih(u,h,n,r,a,c,this.nonce,m);default:o=new No(u,h,r,f,a,c,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(oe(tI),oe(nI),oe(Bd),oe(nN),oe(Cn),oe(Dn),oe(ve),oe($d))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),Ao=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(mh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(X_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(X_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=mh[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=mh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wt.DashCase|Wt.Important)?e.style.setProperty(n,r,i&Wt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=si().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function X_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ih=class extends Ao{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,a,c,u){super(e,o,a,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=iI(i.id,i.styles);for(let m of h){let D=document.createElement("style");c&&D.setAttribute("nonce",c),D.textContent=m,this.shadowRoot.appendChild(D)}let f=i.getExternalStyles?.();if(f)for(let m of f){let D=_h(m,o);c&&D.setAttribute("nonce",c),this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},No=class extends Ao{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,a,c,u){super(e,o,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?iI(u,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},nc=class extends No{contentAttr;hostAttr;constructor(e,n,r,i,o,a,c,u){let h=i+"-"+r.id;super(e,n,r,o,a,c,u,h),this.contentAttr=rN(h),this.hostAttr=iN(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},oN=(()=>{class t extends tc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||t)(oe(Cn))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),eI=["alt","control","meta","shift"],sN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cN=(()=>{class t extends tc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>si().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),eI.forEach(h=>{let f=r.indexOf(h);f>-1&&(r.splice(f,1),a+=h+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let i=sN[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),eI.forEach(a=>{if(a!==i){let c=aN[a];c(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(oe(Cn))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})();function oI(t,e){return H_($({rootComponent:t},uN(e)))}function uN(t){return{appProviders:[...pN,...t?.providers??[]],platformProviders:fN}}function lN(){yh.makeCurrent()}function dN(){return new zt}function hN(){return Lv(document),document}var fN=[{provide:Dn,useValue:Q_},{provide:Ud,useValue:lN,multi:!0},{provide:Cn,useFactory:hN,deps:[]}];var pN=[{provide:ka,useValue:"root"},{provide:zt,useFactory:dN,deps:[]},{provide:vh,useClass:oN,multi:!0,deps:[Cn,ve,Dn]},{provide:vh,useClass:cN,multi:!0,deps:[Cn]},Z_,nI,tI,{provide:zr,useExisting:Z_},{provide:Xa,useClass:JA,deps:[]},[]];var sI=(()=>{class t{constructor(){this.isScrolled=!1,this.cartToggle=xv()}onWindowScroll(){this.isScrolled=window.scrollY>50}toggleCart(){this.cartToggle.emit(!0)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-navbar"]],hostBindings:function(r,i){r&1&&Ie("scroll",function(){return i.onWindowScroll()},!1,Gv)},outputs:{cartToggle:"cartToggle"},decls:20,vars:6,consts:[[1,"fixed","w-full","transition-all","duration-300","z-30"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16","items-center"],[1,"flex-shrink-0"],[1,"text-2xl","font-bold","text-white"],[1,"hidden","md:block"],[1,"ml-10","flex","items-baseline","space-x-4"],["href","#",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],["href","#products",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],["href","#reviews",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],["href","#about",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],["href","#contact",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],[1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium",3,"click"]],template:function(r,i){r&1&&(N(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),k(5,"Nuts On Top"),M()(),N(6,"div",5)(7,"div",6)(8,"a",7),k(9,"Home"),M(),N(10,"a",8),k(11,"Products"),M(),N(12,"a",9),k(13,"Reviews"),M(),N(14,"a",10),k(15,"About"),M(),N(16,"a",11),k(17,"Contact"),M(),N(18,"a",12),Ie("click",function(){return i.toggleCart()}),k(19,"Cart"),M()()()()()()),r&2&&bn("scrolled",i.isScrolled)("bg-chocolate-800",i.isScrolled)("bg-transparent",!i.isScrolled)},dependencies:[Le],encapsulation:2})}}return t})();var aI=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-hero"]],decls:25,vars:0,consts:[[1,"relative","h-screen","w-screen","flex","items-center","overflow-hidden"],[1,"absolute","inset-0","z-0","bg-[#CBA35C]","h-full","hero-bg"],[1,"grid","grid-cols-2","w-full","h-full"],[1,"h-full","w-full","flex","relative","blur-[2px]"],["src","assets/images/strawberry.png","alt","",1,"absolute","right-40","top-10","floating","w-50","rotate-circle"],["src","assets/images/cherries.png","alt","",1,"absolute","left-30","bottom-30","floating","w-30","rotate-circle"],["src","assets/images/coco.png","alt","",1,"absolute","right-30","bottom-50","floating","w-30"],["src","assets/images/raisins.png","alt","",1,"absolute","left-20","top-50","floating","w-30","-rotate-15"],["src","assets/images/garbanzo.png","alt","",1,"absolute","left-100","bottom-30","floating","w-20"],["src","assets/images/garbanzo.png","alt","",1,"absolute","left-90","top-30","floating","w-20"],["src","assets/images/peanut.png","alt","",1,"absolute","right-0","top-50","floating","w-30"],[1,"h-full","w-full","flex","items-center","justify-center","relative"],["src","assets/images/hero-image-1.png","alt","",1,"absolute","left-0","-rotate-75","floating","w-150","z-5"],["src","assets/images/hero-image-2.png","alt","",1,"absolute","left-35","-rotate-35","floating","floating-delay","w-150","z-4"],["src","assets/images/hero-image-3.png","alt","",1,"absolute","left-70","floating","w-150","z-4"],[1,"relative","z-10","text-center","text-white","w-full"],[1,"grid","grid-cols-2","w-full"],[1,"h-full","w-full","flex","items-center","justify-center","flex-col"],[1,"poppins-bold","text-4xl","hearo-header","mb-4"],[1,"poppins-bold","text-8xl","hearo-header"],[1,"mt-12","text-xl"],[1,"h-full","w-full"]],template:function(r,i){r&1&&(N(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),Ee(4,"img",4)(5,"img",5)(6,"img",6)(7,"img",7)(8,"img",8)(9,"img",9)(10,"img",10),M(),N(11,"div",11),Ee(12,"img",12)(13,"img",13)(14,"img",14),M()()(),N(15,"div",15)(16,"div",16)(17,"div",17)(18,"h3",18),k(19,"Nutsontop"),M(),N(20,"h3",19),k(21,"TIME TO GET NUTTY!"),M(),N(22,"p",20),k(23,"Savor the finest handcrafted chocolates, made with love and the richest ingredients. Treat yourself to a moment of sweetness today!"),M()(),Ee(24,"div",21),M()()())},dependencies:[Le],encapsulation:2})}}return t})();var uI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mN=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],a=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},lI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],a=i+1<t.length,c=a?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=o>>2,m=(o&3)<<4|c>>4,D=(c&15)<<2|h>>6,T=h&63;u||(T=64,a||(D=64)),r.push(n[f],n[m],n[D],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let h=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||h==null||m==null)throw new Dh;let D=o<<2|c>>4;if(r.push(D),h!==64){let T=c<<4&240|h>>2;if(r.push(T),m!==64){let A=h<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Dh=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},gN=function(t){let e=uI(t);return lI.encodeByteArray(e,!0)},Mo=function(t){return gN(t).replace(/\./g,"")},bh=function(t){try{return lI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var vN=()=>yN().__FIREBASE_DEFAULTS__,_N=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&bh(t[1]);return e&&JSON.parse(e)},ic=()=>{try{return vN()||_N()||IN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dI=t=>{var e,n;return(n=(e=ic())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hI=t=>{let e=dI(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ch=()=>{var t;return(t=ic())===null||t===void 0?void 0:t.config},fI=t=>{var e;return(e=ic())===null||e===void 0?void 0:e[`_${t}`]};var rc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function pI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mo(JSON.stringify(n)),Mo(JSON.stringify(a)),""].join(".")}function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function EN(){var t;let e=(t=ic())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yI(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _I(){return!EN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sh(){try{return typeof indexedDB=="object"}catch{return!1}}function II(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var wN="FirebaseError",ht=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}},Zt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?DN(o,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new ht(i,c,r)}};function DN(t,e){return t.replace(TN,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var TN=/\{\$([^}]+)}/g;function ci(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],a=e[i];if(cI(o)&&cI(a)){if(!ci(o,a))return!1}else if(o!==a)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function cI(t){return t!==null&&typeof t=="object"}function Ah(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function EI(t,e){let n=new Th(t,e);return n.subscribe.bind(n)}var Th=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=wh),i.error===void 0&&(i.error=wh),i.complete===void 0&&(i.complete=wh);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function bN(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wh(){}var AL=4*60*60*1e3;function Ct(t){return t&&t._delegate?t._delegate:t}var ft=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var sr="[DEFAULT]";var Nh=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new rc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SN(e))try{this.getOrInitializeService({instanceIdentifier:sr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=sr){return this.instances.has(e)}getOptions(e=sr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&a.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sr){return this.component?this.component.multipleInstances?e:sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CN(t){return t===sr?void 0:t}function SN(t){return t.instantiationMode==="EAGER"}var oc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Nh(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var AN=[],Y=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Y||{}),NN={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},MN=Y.INFO,xN={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},RN=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=xN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Sn=class{constructor(e){this.name=e,this._logLevel=MN,this._logHandler=RN,this._userLogHandler=null,AN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}};var PN=(t,e)=>e.some(n=>t instanceof n),wI,DI;function kN(){return wI||(wI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ON(){return DI||(DI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TI=new WeakMap,xh=new WeakMap,bI=new WeakMap,Mh=new WeakMap,Ph=new WeakMap;function FN(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ot(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&TI.set(n,t)}).catch(()=>{}),Ph.set(e,t),e}function VN(t){if(xh.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});xh.set(t,e)}var Rh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ot(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CI(t){Rh=t(Rh)}function LN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(sc(this),e,...n);return bI.set(r,e.sort?e.sort():[e]),Ot(r)}:ON().includes(t)?function(...e){return t.apply(sc(this),e),Ot(TI.get(this))}:function(...e){return Ot(t.apply(sc(this),e))}}function jN(t){return typeof t=="function"?LN(t):(t instanceof IDBTransaction&&VN(t),PN(t,kN())?new Proxy(t,Rh):t)}function Ot(t){if(t instanceof IDBRequest)return FN(t);if(Mh.has(t))return Mh.get(t);let e=jN(t);return e!==t&&(Mh.set(t,e),Ph.set(e,t)),e}var sc=t=>Ph.get(t);function AI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(t,e),c=Ot(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Ot(a.result),u.oldVersion,u.newVersion,Ot(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var BN=["get","getKey","getAll","getAllKeys","count"],UN=["put","add","delete","clear"],kh=new Map;function SI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kh.get(e))return kh.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=UN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BN.includes(n)))return;let o=function(a,...c){return S(this,null,function*(){let u=this.transaction(a,i?"readwrite":"readonly"),h=u.store;return r&&(h=h.index(c.shift())),(yield Promise.all([h[n](...c),i&&u.done]))[0]})};return kh.set(e,o),o}CI(t=>ue($({},t),{get:(e,n,r)=>SI(e,n)||t.get(e,n,r),has:(e,n)=>!!SI(e,n)||t.has(e,n)}));var Fh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($N(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function $N(t){let e=t.getComponent();return e?.type==="VERSION"}var Vh="@firebase/app",NI="0.10.13";var Xt=new Sn("@firebase/app"),HN="@firebase/app-compat",qN="@firebase/analytics-compat",GN="@firebase/analytics",zN="@firebase/app-check-compat",WN="@firebase/app-check",KN="@firebase/auth",QN="@firebase/auth-compat",YN="@firebase/database",JN="@firebase/data-connect",ZN="@firebase/database-compat",XN="@firebase/functions",eM="@firebase/functions-compat",tM="@firebase/installations",nM="@firebase/installations-compat",rM="@firebase/messaging",iM="@firebase/messaging-compat",oM="@firebase/performance",sM="@firebase/performance-compat",aM="@firebase/remote-config",cM="@firebase/remote-config-compat",uM="@firebase/storage",lM="@firebase/storage-compat",dM="@firebase/firestore",hM="@firebase/vertexai-preview",fM="@firebase/firestore-compat",pM="firebase",mM="10.14.1";var Lh="[DEFAULT]",gM={[Vh]:"fire-core",[HN]:"fire-core-compat",[GN]:"fire-analytics",[qN]:"fire-analytics-compat",[WN]:"fire-app-check",[zN]:"fire-app-check-compat",[KN]:"fire-auth",[QN]:"fire-auth-compat",[YN]:"fire-rtdb",[JN]:"fire-data-connect",[ZN]:"fire-rtdb-compat",[XN]:"fire-fn",[eM]:"fire-fn-compat",[tM]:"fire-iid",[nM]:"fire-iid-compat",[rM]:"fire-fcm",[iM]:"fire-fcm-compat",[oM]:"fire-perf",[sM]:"fire-perf-compat",[aM]:"fire-rc",[cM]:"fire-rc-compat",[uM]:"fire-gcs",[lM]:"fire-gcs-compat",[dM]:"fire-fst",[fM]:"fire-fst-compat",[hM]:"fire-vertex","fire-js":"fire-js",[pM]:"fire-js-all"};var xo=new Map,yM=new Map,jh=new Map;function MI(t,e){try{t.container.addComponent(e)}catch(n){Xt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nn(t){let e=t.name;if(jh.has(e))return Xt.debug(`There were multiple attempts to register component ${e}.`),!1;jh.set(e,t);for(let n of xo.values())MI(n,t);for(let n of yM.values())MI(n,t);return!0}function Hh(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ui(t){return t.settings!==void 0}var vM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new Zt("app","Firebase",vM);var Bh=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}};var li=mM;function qh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Lh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=Ch()),!n)throw An.create("no-options");let o=xo.get(i);if(o){if(ci(n,o.options)&&ci(r,o.config))return o;throw An.create("duplicate-app",{appName:i})}let a=new oc(i);for(let u of jh.values())a.addComponent(u);let c=new Bh(n,r,a);return xo.set(i,c),c}function Po(t=Lh){let e=xo.get(t);if(!e&&t===Lh&&Ch())return qh();if(!e)throw An.create("no-app",{appName:t});return e}function ac(){return Array.from(xo.values())}function Re(t,e,n){var r;let i=(r=gM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xt.warn(c.join(" "));return}Nn(new ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var _M="firebase-heartbeat-database",IM=1,Ro="firebase-heartbeat-store",Oh=null;function kI(){return Oh||(Oh=AI(_M,IM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ro)}catch(n){console.warn(n)}}}}).catch(t=>{throw An.create("idb-open",{originalErrorMessage:t.message})})),Oh}function EM(t){return S(this,null,function*(){try{let n=(yield kI()).transaction(Ro),r=yield n.objectStore(Ro).get(OI(t));return yield n.done,r}catch(e){if(e instanceof ht)Xt.warn(e.message);else{let n=An.create("idb-get",{originalErrorMessage:e?.message});Xt.warn(n.message)}}})}function xI(t,e){return S(this,null,function*(){try{let r=(yield kI()).transaction(Ro,"readwrite");yield r.objectStore(Ro).put(e,OI(t)),yield r.done}catch(n){if(n instanceof ht)Xt.warn(n.message);else{let r=An.create("idb-set",{originalErrorMessage:n?.message});Xt.warn(r.message)}}})}function OI(t){return`${t.name}!${t.options.appId}`}var wM=1024,DM=30*24*60*60*1e3,Uh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new $h(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let c=new Date(a.date).valueOf();return Date.now()-c<=DM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xt.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=RI(),{heartbeatsToSend:r,unsentEntries:i}=TM(this._heartbeatsCache.heartbeats),o=Mo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Xt.warn(n),""}})}};function RI(){return new Date().toISOString().substring(0,10)}function TM(t,e=wM){let n=[],r=t.slice();for(let i of t){let o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),PI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var $h=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Sh()?II().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield EM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function PI(t){return Mo(JSON.stringify({version:2,heartbeats:t})).length}function bM(t){Nn(new ft("platform-logger",e=>new Fh(e),"PRIVATE")),Nn(new ft("heartbeat",e=>new Uh(e),"PRIVATE")),Re(Vh,NI,t),Re(Vh,NI,"esm2017"),Re("fire-js","")}bM("");var CM="firebase",SM="10.14.1";Re(CM,SM,"app");var hi=new En("ANGULARFIRE2_VERSION");function zh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Oo=(t,e)=>{let n=e?[e]:ac(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},ko=class{constructor(){return Oo(AM)}},AM="app-check";function di(){}var cc=class{zone;delegate;constructor(e,n=hl){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(a){i.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(o,n,r)}},Gh=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",di,{},di,di)),n.pipe(gl({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Fo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new cc(Zone.current)),this.insideAngular=n.run(()=>new cc(Zone.current,dl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(oe(ve))};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function NM(t){return uc().ngZone.runOutsideAngular(()=>t())}function ar(t){return uc().ngZone.run(()=>t())}function MM(t){return xM(uc())(t)}function xM(t){return function(n){return n=n.lift(new Gh(t.ngZone)),n.pipe(pn(t.outsideAngular),fn(t.insideAngular))}}var RM=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ar(()=>t.apply(void 0,r))},cr=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ar(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",di,{},di,di))),r[o]=RM(r[o],n));let i=NM(()=>t.apply(this,r));if(!e)if(i instanceof ye){let o=uc();return i.pipe(pn(o.outsideAngular),fn(o.insideAngular))}else return ar(()=>i);return i instanceof ye?i.pipe(MM):i instanceof Promise?ar(()=>new Promise((o,a)=>i.then(c=>ar(()=>o(c)),c=>ar(()=>a(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ar(()=>i)};var ur=class{constructor(e){return e}},Vo=class{constructor(){return ac()}};function PM(t){return t&&t.length===1?t[0]:new ur(Po())}var Wh=new H("angularfire2._apps"),kM={provide:ur,useFactory:PM,deps:[[new kt,Wh]]},OM={provide:Vo,deps:[[new kt,Wh]]};function FM(t){return(e,n)=>{let r=n.get(Dn);Re("angularfire",hi.full,"core"),Re("angularfire",hi.full,"app"),Re("angular",$_.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ur(i)}}function FI(t,...e){return wo([kM,OM,{provide:Wh,useFactory:FM(t),multi:!0,deps:[ve,It,Fo,...e]}])}var VI=cr(qh,!0);function GI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zI=GI,WI=new Zt("auth","Firebase",GI());var fc=new Sn("@firebase/auth");function LM(t,...e){fc.logLevel<=Y.WARN&&fc.warn(`Auth (${li}): ${t}`,...e)}function dc(t,...e){fc.logLevel<=Y.ERROR&&fc.error(`Auth (${li}): ${t}`,...e)}function LI(t,...e){throw sf(t,...e)}function of(t,...e){return sf(t,...e)}function KI(t,e,n){let r=Object.assign(Object.assign({},zI()),{[e]:n});return new Zt("auth","Firebase",r).create(e,{appName:t.name})}function hc(t){return KI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sf(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WI.create(t,...e)}function se(t,e,...n){if(!t)throw sf(e,...n)}function Lo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw dc(e),new Error(e)}function pc(t,e){t||Lo(e)}function jM(){return jI()==="http:"||jI()==="https:"}function jI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function BM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jM()||yI()||"connection"in navigator)?navigator.onLine:!0}function UM(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var dr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,pc(n>e,"Short delay should be less than long delay!"),this.isMobile=mI()||vI()}get(){return BM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $M(t,e){pc(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var mc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var HM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var qM=new dr(3e4,6e4);function QI(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function _c(o,a,c,u){return S(this,arguments,function*(t,e,n,r,i={}){return YI(t,i,()=>S(this,null,function*(){let h={},f={};r&&(e==="GET"?f=r:h={body:JSON.stringify(r)});let m=Ah(Object.assign({key:t.config.apiKey},f)).slice(1),D=yield t._getAdditionalHeaders();D["Content-Type"]="application/json",t.languageCode&&(D["X-Firebase-Locale"]=t.languageCode);let T=Object.assign({method:e,headers:D},h);return gI()||(T.referrerPolicy="no-referrer"),mc.fetch()(JI(t,t.config.apiHost,n,m),T)}))})}function YI(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},HM),e);try{let i=new Yh(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw lc(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let c=o.ok?a.errorMessage:a.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw lc(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw lc(t,"user-disabled",a);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw KI(t,f,h);LI(t,f)}}catch(i){if(i instanceof ht)throw i;LI(t,"network-request-failed",{message:String(i)})}})}function JI(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?$M(t.config,i):`${t.config.apiScheme}://${i}`}var Yh=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(of(this.auth,"network-request-failed")),qM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function lc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=of(t,e,r);return i.customData._tokenResponse=n,i}function GM(t,e){return S(this,null,function*(){return _c(t,"POST","/v1/accounts:delete",e)})}function ZI(t,e){return S(this,null,function*(){return _c(t,"POST","/v1/accounts:lookup",e)})}function jo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function af(t,e=!1){return S(this,null,function*(){let n=Ct(t),r=yield n.getIdToken(e),i=XI(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:jo(Kh(i.auth_time)),issuedAtTime:jo(Kh(i.iat)),expirationTime:jo(Kh(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Kh(t){return Number(t)*1e3}function XI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{let i=bh(n);return i?JSON.parse(i):(dc("Failed to decode base64 JWT payload"),null)}catch(i){return dc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function BI(t){let e=XI(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Jh(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ht&&zM(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function zM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Zh=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Uo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jo(this.lastLoginAt),this.creationTime=jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function gc(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Jh(t,ZI(n,{idToken:r}));se(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?eE(o.providerUserInfo):[],c=WM(t.providerData,a),u=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!c?.length,f=u?h:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Uo(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,m)})}function cf(t){return S(this,null,function*(){let e=Ct(t);yield gc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function WM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eE(t){return t.map(e=>{var{providerId:n}=e,r=fl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function KM(t,e){return S(this,null,function*(){let n=yield YI(t,{},()=>S(this,null,function*(){let r=Ah({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=JI(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",mc.fetch()(a,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function QM(t,e){return S(this,null,function*(){return _c(t,"POST","/v2/accounts:revokeToken",QI(t,e))})}var Bo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");let n=BI(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield KM(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new t;return r&&(se(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Lo("not implemented")}};function Mn(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var $o=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=fl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Uo(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield Jh(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return af(this,e)}reload(){return cf(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield gc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(ui(this.auth.app))return Promise.reject(hc(this.auth));let e=yield this.getIdToken();return yield Jh(this,GM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,c,u,h,f;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,D=(i=n.email)!==null&&i!==void 0?i:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(a=n.photoURL)!==null&&a!==void 0?a:void 0,F=(c=n.tenantId)!==null&&c!==void 0?c:void 0,O=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,B=(h=n.createdAt)!==null&&h!==void 0?h:void 0,q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:ie,isAnonymous:Oe,providerData:te,stsTokenManager:I}=n;se(Z&&I,e,"internal-error");let g=Bo.fromJSON(this.name,I);se(typeof Z=="string",e,"internal-error"),Mn(m,e.name),Mn(D,e.name),se(typeof ie=="boolean",e,"internal-error"),se(typeof Oe=="boolean",e,"internal-error"),Mn(T,e.name),Mn(A,e.name),Mn(F,e.name),Mn(O,e.name),Mn(B,e.name),Mn(q,e.name);let y=new t({uid:Z,auth:e,email:D,emailVerified:ie,displayName:m,isAnonymous:Oe,photoURL:A,phoneNumber:T,tenantId:F,stsTokenManager:g,createdAt:B,lastLoginAt:q});return te&&Array.isArray(te)&&(y.providerData=te.map(_=>Object.assign({},_))),O&&(y._redirectEventId=O),y}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new Bo;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield gc(o),o})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];se(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?eE(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,c=new Bo;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Uo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,h),u})}};var UI=new Map;function lr(t){pc(t instanceof Function,"Expected a class definition");let e=UI.get(t);return e?(pc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UI.set(t,e),e)}var YM=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Xh=YM;function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}var yc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Qh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?$o._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(lr(Xh),e,r);let i=(yield Promise.all(n.map(h=>S(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=i[0]||lr(Xh),a=Qh(r,e.config.apiKey,e.name),c=null;for(let h of n)try{let f=yield h._get(a);if(f){let m=$o._fromJSON(e,f);h!==o&&(c=m),o=h;break}}catch{}let u=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(a,c.toJSON())),yield Promise.all(n.map(h=>S(this,null,function*(){if(h!==o)try{yield h._remove(a)}catch{}}))),new t(o,e,r))})}};function $I(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ex(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nx(e))return"Blackberry";if(rx(e))return"Webos";if(ZM(e))return"Safari";if((e.includes("chrome/")||XM(e))&&!e.includes("edge/"))return"Chrome";if(tx(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function JM(t=st()){return/firefox\//i.test(t)}function ZM(t=st()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XM(t=st()){return/crios\//i.test(t)}function ex(t=st()){return/iemobile/i.test(t)}function tx(t=st()){return/android/i.test(t)}function nx(t=st()){return/blackberry/i.test(t)}function rx(t=st()){return/webos/i.test(t)}function tE(t,e=[]){let n;switch(t){case"Browser":n=$I(st());break;case"Worker":n=`${$I(st())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${li}/${r}`}var ef=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((a,c)=>{try{let u=e(o);a(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function ix(n){return S(this,arguments,function*(t,e={}){return _c(t,"GET","/v2/passwordPolicy",QI(t,e))})}var ox=6,tf=class{constructor(e){var n,r,i,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:ox,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var nf=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vc(this),this.idTokenSubscription=new vc(this),this.beforeStateQueue=new ef(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield yc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield ZI(this,{idToken:e}),r=yield $o._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(ui(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield gc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=UM()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(ui(this.app))return Promise.reject(hc(this));let n=e?Ct(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return ui(this.app)?Promise.reject(hc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ui(this.app)?Promise.reject(hc(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(lr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield ix(this),n=new tf(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield QM(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&lr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=yield yc.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{let u=e.addObserver(n);return()=>{a=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&LM(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function sx(t){return Ct(t)}var vc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=EI(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ax={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cx(t){ax=t}function ux(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function lx(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var b2=ux("rcb"),C2=new dr(3e4,6e4);var S2=new dr(2e3,1e4);var A2=10*60*1e3;var N2=new dr(3e4,6e4);var M2=new dr(5e3,15e3);var x2=encodeURIComponent("fac");var HI="@firebase/auth",qI="1.7.9";var rf=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function dx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hx(t){Nn(new ft("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;se(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tE(t)},h=new nf(r,i,o,u);return lx(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nn(new ft("auth-internal",e=>{let n=sx(e.getProvider("auth").getImmediate());return(r=>new rf(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(HI,qI,dx(t)),Re(HI,qI,"esm2017")}var fx=5*60,R2=fI("authIdTokenMaxAge")||fx;function px(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cx({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=of("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",px().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hx("Browser");var fR="auth";var Ic=class{constructor(){return Oo(fR)}};var nE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rE={};var uf,iE;(function(){var t;function e(I,g){function y(){}y.prototype=g.prototype,I.D=g.prototype,I.prototype=new y,I.prototype.constructor=I,I.C=function(_,E,b){for(var v=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)v[Ut-2]=arguments[Ut];return g.prototype[E].apply(_,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,g,y){y||(y=0);var _=Array(16);if(typeof g=="string")for(var E=0;16>E;++E)_[E]=g.charCodeAt(y++)|g.charCodeAt(y++)<<8|g.charCodeAt(y++)<<16|g.charCodeAt(y++)<<24;else for(E=0;16>E;++E)_[E]=g[y++]|g[y++]<<8|g[y++]<<16|g[y++]<<24;g=I.g[0],y=I.g[1],E=I.g[2];var b=I.g[3],v=g+(b^y&(E^b))+_[0]+3614090360&4294967295;g=y+(v<<7&4294967295|v>>>25),v=b+(E^g&(y^E))+_[1]+3905402710&4294967295,b=g+(v<<12&4294967295|v>>>20),v=E+(y^b&(g^y))+_[2]+606105819&4294967295,E=b+(v<<17&4294967295|v>>>15),v=y+(g^E&(b^g))+_[3]+3250441966&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(b^y&(E^b))+_[4]+4118548399&4294967295,g=y+(v<<7&4294967295|v>>>25),v=b+(E^g&(y^E))+_[5]+1200080426&4294967295,b=g+(v<<12&4294967295|v>>>20),v=E+(y^b&(g^y))+_[6]+2821735955&4294967295,E=b+(v<<17&4294967295|v>>>15),v=y+(g^E&(b^g))+_[7]+4249261313&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(b^y&(E^b))+_[8]+1770035416&4294967295,g=y+(v<<7&4294967295|v>>>25),v=b+(E^g&(y^E))+_[9]+2336552879&4294967295,b=g+(v<<12&4294967295|v>>>20),v=E+(y^b&(g^y))+_[10]+4294925233&4294967295,E=b+(v<<17&4294967295|v>>>15),v=y+(g^E&(b^g))+_[11]+2304563134&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(b^y&(E^b))+_[12]+1804603682&4294967295,g=y+(v<<7&4294967295|v>>>25),v=b+(E^g&(y^E))+_[13]+4254626195&4294967295,b=g+(v<<12&4294967295|v>>>20),v=E+(y^b&(g^y))+_[14]+2792965006&4294967295,E=b+(v<<17&4294967295|v>>>15),v=y+(g^E&(b^g))+_[15]+1236535329&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(E^b&(y^E))+_[1]+4129170786&4294967295,g=y+(v<<5&4294967295|v>>>27),v=b+(y^E&(g^y))+_[6]+3225465664&4294967295,b=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(b^g))+_[11]+643717713&4294967295,E=b+(v<<14&4294967295|v>>>18),v=y+(b^g&(E^b))+_[0]+3921069994&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(E^b&(y^E))+_[5]+3593408605&4294967295,g=y+(v<<5&4294967295|v>>>27),v=b+(y^E&(g^y))+_[10]+38016083&4294967295,b=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(b^g))+_[15]+3634488961&4294967295,E=b+(v<<14&4294967295|v>>>18),v=y+(b^g&(E^b))+_[4]+3889429448&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(E^b&(y^E))+_[9]+568446438&4294967295,g=y+(v<<5&4294967295|v>>>27),v=b+(y^E&(g^y))+_[14]+3275163606&4294967295,b=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(b^g))+_[3]+4107603335&4294967295,E=b+(v<<14&4294967295|v>>>18),v=y+(b^g&(E^b))+_[8]+1163531501&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(E^b&(y^E))+_[13]+2850285829&4294967295,g=y+(v<<5&4294967295|v>>>27),v=b+(y^E&(g^y))+_[2]+4243563512&4294967295,b=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(b^g))+_[7]+1735328473&4294967295,E=b+(v<<14&4294967295|v>>>18),v=y+(b^g&(E^b))+_[12]+2368359562&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(y^E^b)+_[5]+4294588738&4294967295,g=y+(v<<4&4294967295|v>>>28),v=b+(g^y^E)+_[8]+2272392833&4294967295,b=g+(v<<11&4294967295|v>>>21),v=E+(b^g^y)+_[11]+1839030562&4294967295,E=b+(v<<16&4294967295|v>>>16),v=y+(E^b^g)+_[14]+4259657740&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(y^E^b)+_[1]+2763975236&4294967295,g=y+(v<<4&4294967295|v>>>28),v=b+(g^y^E)+_[4]+1272893353&4294967295,b=g+(v<<11&4294967295|v>>>21),v=E+(b^g^y)+_[7]+4139469664&4294967295,E=b+(v<<16&4294967295|v>>>16),v=y+(E^b^g)+_[10]+3200236656&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(y^E^b)+_[13]+681279174&4294967295,g=y+(v<<4&4294967295|v>>>28),v=b+(g^y^E)+_[0]+3936430074&4294967295,b=g+(v<<11&4294967295|v>>>21),v=E+(b^g^y)+_[3]+3572445317&4294967295,E=b+(v<<16&4294967295|v>>>16),v=y+(E^b^g)+_[6]+76029189&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(y^E^b)+_[9]+3654602809&4294967295,g=y+(v<<4&4294967295|v>>>28),v=b+(g^y^E)+_[12]+3873151461&4294967295,b=g+(v<<11&4294967295|v>>>21),v=E+(b^g^y)+_[15]+530742520&4294967295,E=b+(v<<16&4294967295|v>>>16),v=y+(E^b^g)+_[2]+3299628645&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(E^(y|~b))+_[0]+4096336452&4294967295,g=y+(v<<6&4294967295|v>>>26),v=b+(y^(g|~E))+_[7]+1126891415&4294967295,b=g+(v<<10&4294967295|v>>>22),v=E+(g^(b|~y))+_[14]+2878612391&4294967295,E=b+(v<<15&4294967295|v>>>17),v=y+(b^(E|~g))+_[5]+4237533241&4294967295,y=E+(v<<21&4294967295|v>>>11),v=g+(E^(y|~b))+_[12]+1700485571&4294967295,g=y+(v<<6&4294967295|v>>>26),v=b+(y^(g|~E))+_[3]+2399980690&4294967295,b=g+(v<<10&4294967295|v>>>22),v=E+(g^(b|~y))+_[10]+4293915773&4294967295,E=b+(v<<15&4294967295|v>>>17),v=y+(b^(E|~g))+_[1]+2240044497&4294967295,y=E+(v<<21&4294967295|v>>>11),v=g+(E^(y|~b))+_[8]+1873313359&4294967295,g=y+(v<<6&4294967295|v>>>26),v=b+(y^(g|~E))+_[15]+4264355552&4294967295,b=g+(v<<10&4294967295|v>>>22),v=E+(g^(b|~y))+_[6]+2734768916&4294967295,E=b+(v<<15&4294967295|v>>>17),v=y+(b^(E|~g))+_[13]+1309151649&4294967295,y=E+(v<<21&4294967295|v>>>11),v=g+(E^(y|~b))+_[4]+4149444226&4294967295,g=y+(v<<6&4294967295|v>>>26),v=b+(y^(g|~E))+_[11]+3174756917&4294967295,b=g+(v<<10&4294967295|v>>>22),v=E+(g^(b|~y))+_[2]+718787259&4294967295,E=b+(v<<15&4294967295|v>>>17),v=y+(b^(E|~g))+_[9]+3951481745&4294967295,I.g[0]=I.g[0]+g&4294967295,I.g[1]=I.g[1]+(E+(v<<21&4294967295|v>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+b&4294967295}r.prototype.u=function(I,g){g===void 0&&(g=I.length);for(var y=g-this.blockSize,_=this.B,E=this.h,b=0;b<g;){if(E==0)for(;b<=y;)i(this,I,b),b+=this.blockSize;if(typeof I=="string"){for(;b<g;)if(_[E++]=I.charCodeAt(b++),E==this.blockSize){i(this,_),E=0;break}}else for(;b<g;)if(_[E++]=I[b++],E==this.blockSize){i(this,_),E=0;break}}this.h=E,this.o+=g},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var g=1;g<I.length-8;++g)I[g]=0;var y=8*this.o;for(g=I.length-8;g<I.length;++g)I[g]=y&255,y/=256;for(this.u(I),I=Array(16),g=y=0;4>g;++g)for(var _=0;32>_;_+=8)I[y++]=this.g[g]>>>_&255;return I};function o(I,g){var y=c;return Object.prototype.hasOwnProperty.call(y,I)?y[I]:y[I]=g(I)}function a(I,g){this.h=g;for(var y=[],_=!0,E=I.length-1;0<=E;E--){var b=I[E]|0;_&&b==g||(y[E]=b,_=!1)}this.g=y}var c={};function u(I){return-128<=I&&128>I?o(I,function(g){return new a([g|0],0>g?-1:0)}):new a([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return O(h(-I));for(var g=[],y=1,_=0;I>=y;_++)g[_]=I/y|0,y*=4294967296;return new a(g,0)}function f(I,g){if(I.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(I.charAt(0)=="-")return O(f(I.substring(1),g));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=h(Math.pow(g,8)),_=m,E=0;E<I.length;E+=8){var b=Math.min(8,I.length-E),v=parseInt(I.substring(E,E+b),g);8>b?(b=h(Math.pow(g,b)),_=_.j(b).add(h(v))):(_=_.j(y),_=_.add(h(v)))}return _}var m=u(0),D=u(1),T=u(16777216);t=a.prototype,t.m=function(){if(F(this))return-O(this).m();for(var I=0,g=1,y=0;y<this.g.length;y++){var _=this.i(y);I+=(0<=_?_:4294967296+_)*g,g*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(F(this))return"-"+O(this).toString(I);for(var g=h(Math.pow(I,6)),y=this,_="";;){var E=ie(y,g).g;y=B(y,E.j(g));var b=((0<y.g.length?y.g[0]:y.h)>>>0).toString(I);if(y=E,A(y))return b+_;for(;6>b.length;)b="0"+b;_=b+_}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var g=0;g<I.g.length;g++)if(I.g[g]!=0)return!1;return!0}function F(I){return I.h==-1}t.l=function(I){return I=B(this,I),F(I)?-1:A(I)?0:1};function O(I){for(var g=I.g.length,y=[],_=0;_<g;_++)y[_]=~I.g[_];return new a(y,~I.h).add(D)}t.abs=function(){return F(this)?O(this):this},t.add=function(I){for(var g=Math.max(this.g.length,I.g.length),y=[],_=0,E=0;E<=g;E++){var b=_+(this.i(E)&65535)+(I.i(E)&65535),v=(b>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);_=v>>>16,b&=65535,v&=65535,y[E]=v<<16|b}return new a(y,y[y.length-1]&-2147483648?-1:0)};function B(I,g){return I.add(O(g))}t.j=function(I){if(A(this)||A(I))return m;if(F(this))return F(I)?O(this).j(O(I)):O(O(this).j(I));if(F(I))return O(this.j(O(I)));if(0>this.l(T)&&0>I.l(T))return h(this.m()*I.m());for(var g=this.g.length+I.g.length,y=[],_=0;_<2*g;_++)y[_]=0;for(_=0;_<this.g.length;_++)for(var E=0;E<I.g.length;E++){var b=this.i(_)>>>16,v=this.i(_)&65535,Ut=I.i(E)>>>16,Li=I.i(E)&65535;y[2*_+2*E]+=v*Li,q(y,2*_+2*E),y[2*_+2*E+1]+=b*Li,q(y,2*_+2*E+1),y[2*_+2*E+1]+=v*Ut,q(y,2*_+2*E+1),y[2*_+2*E+2]+=b*Ut,q(y,2*_+2*E+2)}for(_=0;_<g;_++)y[_]=y[2*_+1]<<16|y[2*_];for(_=g;_<2*g;_++)y[_]=0;return new a(y,0)};function q(I,g){for(;(I[g]&65535)!=I[g];)I[g+1]+=I[g]>>>16,I[g]&=65535,g++}function Z(I,g){this.g=I,this.h=g}function ie(I,g){if(A(g))throw Error("division by zero");if(A(I))return new Z(m,m);if(F(I))return g=ie(O(I),g),new Z(O(g.g),O(g.h));if(F(g))return g=ie(I,O(g)),new Z(O(g.g),g.h);if(30<I.g.length){if(F(I)||F(g))throw Error("slowDivide_ only works with positive integers.");for(var y=D,_=g;0>=_.l(I);)y=Oe(y),_=Oe(_);var E=te(y,1),b=te(_,1);for(_=te(_,2),y=te(y,2);!A(_);){var v=b.add(_);0>=v.l(I)&&(E=E.add(y),b=v),_=te(_,1),y=te(y,1)}return g=B(I,E.j(g)),new Z(E,g)}for(E=m;0<=I.l(g);){for(y=Math.max(1,Math.floor(I.m()/g.m())),_=Math.ceil(Math.log(y)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),b=h(y),v=b.j(g);F(v)||0<v.l(I);)y-=_,b=h(y),v=b.j(g);A(b)&&(b=D),E=E.add(b),I=B(I,v)}return new Z(E,I)}t.A=function(I){return ie(this,I).h},t.and=function(I){for(var g=Math.max(this.g.length,I.g.length),y=[],_=0;_<g;_++)y[_]=this.i(_)&I.i(_);return new a(y,this.h&I.h)},t.or=function(I){for(var g=Math.max(this.g.length,I.g.length),y=[],_=0;_<g;_++)y[_]=this.i(_)|I.i(_);return new a(y,this.h|I.h)},t.xor=function(I){for(var g=Math.max(this.g.length,I.g.length),y=[],_=0;_<g;_++)y[_]=this.i(_)^I.i(_);return new a(y,this.h^I.h)};function Oe(I){for(var g=I.g.length+1,y=[],_=0;_<g;_++)y[_]=I.i(_)<<1|I.i(_-1)>>>31;return new a(y,I.h)}function te(I,g){var y=g>>5;g%=32;for(var _=I.g.length-y,E=[],b=0;b<_;b++)E[b]=0<g?I.i(b+y)>>>g|I.i(b+y+1)<<32-g:I.i(b+y);return new a(E,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iE=rE.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,uf=rE.Integer=a}).apply(typeof nE<"u"?nE:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},en={};var lf,pR,fi,df,Ho,wc,hf,ff,pf;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,l,d){return s==Array.prototype||s==Object.prototype||(s[l]=d.value),s};function n(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var l=0;l<s.length;++l){var d=s[l];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(s,l){if(l)e:{var d=r;s=s.split(".");for(var p=0;p<s.length-1;p++){var w=s[p];if(!(w in d))break e;d=d[w]}s=s[s.length-1],p=d[s],l=l(p),l!=p&&l!=null&&e(d,s,{configurable:!0,writable:!0,value:l})}}function o(s,l){s instanceof String&&(s+="");var d=0,p=!1,w={next:function(){if(!p&&d<s.length){var C=d++;return{value:l(C,s[C]),done:!1}}return p=!0,{done:!0,value:void 0}}};return w[Symbol.iterator]=function(){return w},w}i("Array.prototype.values",function(s){return s||function(){return o(this,function(l,d){return d})}});var a=a||{},c=this||self;function u(s){var l=typeof s;return l=l!="object"?l:s?Array.isArray(s)?"array":l:"null",l=="array"||l=="object"&&typeof s.length=="number"}function h(s){var l=typeof s;return l=="object"&&s!=null||l=="function"}function f(s,l,d){return s.call.apply(s.bind,arguments)}function m(s,l,d){if(!s)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var w=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(w,p),s.apply(l,w)}}return function(){return s.apply(l,arguments)}}function D(s,l,d){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,D.apply(null,arguments)}function T(s,l){var d=Array.prototype.slice.call(arguments,1);return function(){var p=d.slice();return p.push.apply(p,arguments),s.apply(this,p)}}function A(s,l){function d(){}d.prototype=l.prototype,s.aa=l.prototype,s.prototype=new d,s.prototype.constructor=s,s.Qb=function(p,w,C){for(var P=Array(arguments.length-2),de=2;de<arguments.length;de++)P[de-2]=arguments[de];return l.prototype[w].apply(p,P)}}function F(s){let l=s.length;if(0<l){let d=Array(l);for(let p=0;p<l;p++)d[p]=s[p];return d}return[]}function O(s,l){for(let d=1;d<arguments.length;d++){let p=arguments[d];if(u(p)){let w=s.length||0,C=p.length||0;s.length=w+C;for(let P=0;P<C;P++)s[w+P]=p[P]}else s.push(p)}}class B{constructor(l,d){this.i=l,this.j=d,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function q(s){return/^[\s\xa0]*$/.test(s)}function Z(){var s=c.navigator;return s&&(s=s.userAgent)?s:""}function ie(s){return ie[" "](s),s}ie[" "]=function(){};var Oe=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function te(s,l,d){for(let p in s)l.call(d,s[p],p,s)}function I(s,l){for(let d in s)l.call(void 0,s[d],d,s)}function g(s){let l={};for(let d in s)l[d]=s[d];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(s,l){let d,p;for(let w=1;w<arguments.length;w++){p=arguments[w];for(d in p)s[d]=p[d];for(let C=0;C<y.length;C++)d=y[C],Object.prototype.hasOwnProperty.call(p,d)&&(s[d]=p[d])}}function E(s){var l=1;s=s.split(":");let d=[];for(;0<l&&s.length;)d.push(s.shift()),l--;return s.length&&d.push(s.join(":")),d}function b(s){c.setTimeout(()=>{throw s},0)}function v(){var s=wu;let l=null;return s.g&&(l=s.g,s.g=s.g.next,s.g||(s.h=null),l.next=null),l}class Ut{constructor(){this.h=this.g=null}add(l,d){let p=Li.get();p.set(l,d),this.h?this.h.next=p:this.g=p,this.h=p}}var Li=new B(()=>new DD,s=>s.reset());class DD{constructor(){this.next=this.g=this.h=null}set(l,d){this.h=l,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let ji,Bi=!1,wu=new Ut,nm=()=>{let s=c.Promise.resolve(void 0);ji=()=>{s.then(TD)}};var TD=()=>{for(var s;s=v();){try{s.h.call(s.g)}catch(d){b(d)}var l=Li;l.j(s),100>l.h&&(l.h++,s.next=l.g,l.g=s)}Bi=!1};function sn(){this.s=this.s,this.C=this.C}sn.prototype.s=!1,sn.prototype.ma=function(){this.s||(this.s=!0,this.N())},sn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(s,l){this.type=s,this.g=this.target=l,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var bD=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var s=!1,l=Object.defineProperty({},"passive",{get:function(){s=!0}});try{let d=()=>{};c.addEventListener("test",d,l),c.removeEventListener("test",d,l)}catch{}return s}();function Ui(s,l){if(je.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var d=this.type=s.type,p=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=l,l=s.relatedTarget){if(Oe){e:{try{ie(l.nodeName);var w=!0;break e}catch{}w=!1}w||(l=null)}}else d=="mouseover"?l=s.fromElement:d=="mouseout"&&(l=s.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:CD[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Ui.aa.h.call(this)}}A(Ui,je);var CD={2:"touch",3:"pen",4:"mouse"};Ui.prototype.h=function(){Ui.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var $i="closure_listenable_"+(1e6*Math.random()|0),SD=0;function AD(s,l,d,p,w){this.listener=s,this.proxy=null,this.src=l,this.type=d,this.capture=!!p,this.ha=w,this.key=++SD,this.da=this.fa=!1}function cs(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function us(s){this.src=s,this.g={},this.h=0}us.prototype.add=function(s,l,d,p,w){var C=s.toString();s=this.g[C],s||(s=this.g[C]=[],this.h++);var P=Tu(s,l,p,w);return-1<P?(l=s[P],d||(l.fa=!1)):(l=new AD(l,this.src,C,!!p,w),l.fa=d,s.push(l)),l};function Du(s,l){var d=l.type;if(d in s.g){var p=s.g[d],w=Array.prototype.indexOf.call(p,l,void 0),C;(C=0<=w)&&Array.prototype.splice.call(p,w,1),C&&(cs(l),s.g[d].length==0&&(delete s.g[d],s.h--))}}function Tu(s,l,d,p){for(var w=0;w<s.length;++w){var C=s[w];if(!C.da&&C.listener==l&&C.capture==!!d&&C.ha==p)return w}return-1}var bu="closure_lm_"+(1e6*Math.random()|0),Cu={};function rm(s,l,d,p,w){if(p&&p.once)return om(s,l,d,p,w);if(Array.isArray(l)){for(var C=0;C<l.length;C++)rm(s,l[C],d,p,w);return null}return d=Mu(d),s&&s[$i]?s.K(l,d,h(p)?!!p.capture:!!p,w):im(s,l,d,!1,p,w)}function im(s,l,d,p,w,C){if(!l)throw Error("Invalid event type");var P=h(w)?!!w.capture:!!w,de=Au(s);if(de||(s[bu]=de=new us(s)),d=de.add(l,d,p,P,C),d.proxy)return d;if(p=ND(),d.proxy=p,p.src=s,p.listener=d,s.addEventListener)bD||(w=P),w===void 0&&(w=!1),s.addEventListener(l.toString(),p,w);else if(s.attachEvent)s.attachEvent(am(l.toString()),p);else if(s.addListener&&s.removeListener)s.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return d}function ND(){function s(d){return l.call(s.src,s.listener,d)}let l=MD;return s}function om(s,l,d,p,w){if(Array.isArray(l)){for(var C=0;C<l.length;C++)om(s,l[C],d,p,w);return null}return d=Mu(d),s&&s[$i]?s.L(l,d,h(p)?!!p.capture:!!p,w):im(s,l,d,!0,p,w)}function sm(s,l,d,p,w){if(Array.isArray(l))for(var C=0;C<l.length;C++)sm(s,l[C],d,p,w);else p=h(p)?!!p.capture:!!p,d=Mu(d),s&&s[$i]?(s=s.i,l=String(l).toString(),l in s.g&&(C=s.g[l],d=Tu(C,d,p,w),-1<d&&(cs(C[d]),Array.prototype.splice.call(C,d,1),C.length==0&&(delete s.g[l],s.h--)))):s&&(s=Au(s))&&(l=s.g[l.toString()],s=-1,l&&(s=Tu(l,d,p,w)),(d=-1<s?l[s]:null)&&Su(d))}function Su(s){if(typeof s!="number"&&s&&!s.da){var l=s.src;if(l&&l[$i])Du(l.i,s);else{var d=s.type,p=s.proxy;l.removeEventListener?l.removeEventListener(d,p,s.capture):l.detachEvent?l.detachEvent(am(d),p):l.addListener&&l.removeListener&&l.removeListener(p),(d=Au(l))?(Du(d,s),d.h==0&&(d.src=null,l[bu]=null)):cs(s)}}}function am(s){return s in Cu?Cu[s]:Cu[s]="on"+s}function MD(s,l){if(s.da)s=!0;else{l=new Ui(l,this);var d=s.listener,p=s.ha||s.src;s.fa&&Su(s),s=d.call(p,l)}return s}function Au(s){return s=s[bu],s instanceof us?s:null}var Nu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mu(s){return typeof s=="function"?s:(s[Nu]||(s[Nu]=function(l){return s.handleEvent(l)}),s[Nu])}function Be(){sn.call(this),this.i=new us(this),this.M=this,this.F=null}A(Be,sn),Be.prototype[$i]=!0,Be.prototype.removeEventListener=function(s,l,d,p){sm(this,s,l,d,p)};function ze(s,l){var d,p=s.F;if(p)for(d=[];p;p=p.F)d.push(p);if(s=s.M,p=l.type||l,typeof l=="string")l=new je(l,s);else if(l instanceof je)l.target=l.target||s;else{var w=l;l=new je(p,s),_(l,w)}if(w=!0,d)for(var C=d.length-1;0<=C;C--){var P=l.g=d[C];w=ls(P,p,!0,l)&&w}if(P=l.g=s,w=ls(P,p,!0,l)&&w,w=ls(P,p,!1,l)&&w,d)for(C=0;C<d.length;C++)P=l.g=d[C],w=ls(P,p,!1,l)&&w}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var s=this.i,l;for(l in s.g){for(var d=s.g[l],p=0;p<d.length;p++)cs(d[p]);delete s.g[l],s.h--}}this.F=null},Be.prototype.K=function(s,l,d,p){return this.i.add(String(s),l,!1,d,p)},Be.prototype.L=function(s,l,d,p){return this.i.add(String(s),l,!0,d,p)};function ls(s,l,d,p){if(l=s.i.g[String(l)],!l)return!0;l=l.concat();for(var w=!0,C=0;C<l.length;++C){var P=l[C];if(P&&!P.da&&P.capture==d){var de=P.listener,Fe=P.ha||P.src;P.fa&&Du(s.i,P),w=de.call(Fe,p)!==!1&&w}}return w&&!p.defaultPrevented}function cm(s,l,d){if(typeof s=="function")d&&(s=D(s,d));else if(s&&typeof s.handleEvent=="function")s=D(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(s,l||0)}function um(s){s.g=cm(()=>{s.g=null,s.i&&(s.i=!1,um(s))},s.l);let l=s.h;s.h=null,s.m.apply(null,l)}class xD extends sn{constructor(l,d){super(),this.m=l,this.l=d,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:um(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(s){sn.call(this),this.h=s,this.g={}}A(Hi,sn);var lm=[];function dm(s){te(s.g,function(l,d){this.g.hasOwnProperty(d)&&Su(l)},s),s.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),dm(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xu=c.JSON.stringify,RD=c.JSON.parse,PD=class{stringify(s){return c.JSON.stringify(s,void 0)}parse(s){return c.JSON.parse(s,void 0)}};function Ru(){}Ru.prototype.h=null;function hm(s){return s.h||(s.h=s.i())}function fm(){}var qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pu(){je.call(this,"d")}A(Pu,je);function ku(){je.call(this,"c")}A(ku,je);var Ln={},pm=null;function ds(){return pm=pm||new Be}Ln.La="serverreachability";function mm(s){je.call(this,Ln.La,s)}A(mm,je);function Gi(s){let l=ds();ze(l,new mm(l))}Ln.STAT_EVENT="statevent";function gm(s,l){je.call(this,Ln.STAT_EVENT,s),this.stat=l}A(gm,je);function We(s){let l=ds();ze(l,new gm(l,s))}Ln.Ma="timingevent";function ym(s,l){je.call(this,Ln.Ma,s),this.size=l}A(ym,je);function zi(s,l){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){s()},l)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function kD(s,l,d,p,w,C){s.info(function(){if(s.g)if(C)for(var P="",de=C.split("&"),Fe=0;Fe<de.length;Fe++){var ne=de[Fe].split("=");if(1<ne.length){var Ue=ne[0];ne=ne[1];var $e=Ue.split("_");P=2<=$e.length&&$e[1]=="type"?P+(Ue+"="+ne+"&"):P+(Ue+"=redacted&")}}else P=null;else P=C;return"XMLHTTP REQ ("+p+") [attempt "+w+"]: "+l+`
`+d+`
`+P})}function OD(s,l,d,p,w,C,P){s.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+w+"]: "+l+`
`+d+`
`+C+" "+P})}function Dr(s,l,d,p){s.info(function(){return"XMLHTTP TEXT ("+l+"): "+VD(s,d)+(p?" "+p:"")})}function FD(s,l){s.info(function(){return"TIMEOUT: "+l})}Wi.prototype.info=function(){};function VD(s,l){if(!s.g)return l;if(!l)return null;try{var d=JSON.parse(l);if(d){for(s=0;s<d.length;s++)if(Array.isArray(d[s])){var p=d[s];if(!(2>p.length)){var w=p[1];if(Array.isArray(w)&&!(1>w.length)){var C=w[0];if(C!="noop"&&C!="stop"&&C!="close")for(var P=1;P<w.length;P++)w[P]=""}}}}return xu(d)}catch{return l}}var hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ou;function fs(){}A(fs,Ru),fs.prototype.g=function(){return new XMLHttpRequest},fs.prototype.i=function(){return{}},Ou=new fs;function an(s,l,d,p){this.j=s,this.i=l,this.l=d,this.R=p||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _m}function _m(){this.i=null,this.g="",this.h=!1}var Im={},Fu={};function Vu(s,l,d){s.L=1,s.v=ys($t(l)),s.m=d,s.P=!0,Em(s,null)}function Em(s,l){s.F=Date.now(),ps(s),s.A=$t(s.v);var d=s.A,p=s.R;Array.isArray(p)||(p=[String(p)]),Om(d.i,"t",p),s.C=0,d=s.j.J,s.h=new _m,s.g=Xm(s.j,d?l:null,!s.m),0<s.O&&(s.M=new xD(D(s.Y,s,s.g),s.O)),l=s.U,d=s.g,p=s.ca;var w="readystatechange";Array.isArray(w)||(w&&(lm[0]=w.toString()),w=lm);for(var C=0;C<w.length;C++){var P=rm(d,w[C],p||l.handleEvent,!1,l.h||l);if(!P)break;l.g[P.key]=P}l=s.H?g(s.H):{},s.m?(s.u||(s.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,l)):(s.u="GET",s.g.ea(s.A,s.u,null,l)),Gi(),kD(s.i,s.u,s.A,s.l,s.R,s.m)}an.prototype.ca=function(s){s=s.target;let l=this.M;l&&Ht(s)==3?l.j():this.Y(s)},an.prototype.Y=function(s){try{if(s==this.g)e:{let $e=Ht(this.g);var l=this.g.Ba();let Cr=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||$m(this.g)))){this.J||$e!=4||l==7||(l==8||0>=Cr?Gi(3):Gi(2)),Lu(this);var d=this.g.Z();this.X=d;t:if(wm(this)){var p=$m(this.g);s="";var w=p.length,C=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),Ki(this);var P="";break t}this.h.i=new c.TextDecoder}for(l=0;l<w;l++)this.h.h=!0,s+=this.h.i.decode(p[l],{stream:!(C&&l==w-1)});p.length=0,this.h.g+=s,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=d==200,OD(this.i,this.u,this.A,this.l,this.R,$e,d),this.o){if(this.T&&!this.K){t:{if(this.g){var de,Fe=this.g;if((de=Fe.g?Fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(de)){var ne=de;break t}}ne=null}if(d=ne)Dr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ju(this,d);else{this.o=!1,this.s=3,We(12),jn(this),Ki(this);break e}}if(this.P){d=!0;let mt;for(;!this.J&&this.C<P.length;)if(mt=LD(this,P),mt==Fu){$e==4&&(this.s=4,We(14),d=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Im){this.s=4,We(15),Dr(this.i,this.l,P,"[Invalid Chunk]"),d=!1;break}else Dr(this.i,this.l,mt,null),ju(this,mt);if(wm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||P.length!=0||this.h.h||(this.s=1,We(16),d=!1),this.o=this.o&&d,!d)Dr(this.i,this.l,P,"[Invalid Chunked Response]"),jn(this),Ki(this);else if(0<P.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Gu(Ue),Ue.M=!0,We(11))}}else Dr(this.i,this.l,P,null),ju(this,P);$e==4&&jn(this),this.o&&!this.J&&($e==4?Qm(this.j,this):(this.o=!1,ps(this)))}else tT(this.g),d==400&&0<P.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),jn(this),Ki(this)}}}catch{}finally{}};function wm(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function LD(s,l){var d=s.C,p=l.indexOf(`
`,d);return p==-1?Fu:(d=Number(l.substring(d,p)),isNaN(d)?Im:(p+=1,p+d>l.length?Fu:(l=l.slice(p,p+d),s.C=p+d,l)))}an.prototype.cancel=function(){this.J=!0,jn(this)};function ps(s){s.S=Date.now()+s.I,Dm(s,s.I)}function Dm(s,l){if(s.B!=null)throw Error("WatchDog timer not null");s.B=zi(D(s.ba,s),l)}function Lu(s){s.B&&(c.clearTimeout(s.B),s.B=null)}an.prototype.ba=function(){this.B=null;let s=Date.now();0<=s-this.S?(FD(this.i,this.A),this.L!=2&&(Gi(),We(17)),jn(this),this.s=2,Ki(this)):Dm(this,this.S-s)};function Ki(s){s.j.G==0||s.J||Qm(s.j,s)}function jn(s){Lu(s);var l=s.M;l&&typeof l.ma=="function"&&l.ma(),s.M=null,dm(s.U),s.g&&(l=s.g,s.g=null,l.abort(),l.ma())}function ju(s,l){try{var d=s.j;if(d.G!=0&&(d.g==s||Bu(d.h,s))){if(!s.K&&Bu(d.h,s)&&d.G==3){try{var p=d.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var w=p;if(w[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<s.F)ws(d),Is(d);else break e;qu(d),We(18)}}else d.za=w[1],0<d.za-d.T&&37500>w[2]&&d.F&&d.v==0&&!d.C&&(d.C=zi(D(d.Za,d),6e3));if(1>=Cm(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Un(d,11)}else if((s.K||d.g==s)&&ws(d),!q(l))for(w=d.Da.g.parse(l),l=0;l<w.length;l++){let ne=w[l];if(d.T=ne[0],ne=ne[1],d.G==2)if(ne[0]=="c"){d.K=ne[1],d.ia=ne[2];let Ue=ne[3];Ue!=null&&(d.la=Ue,d.j.info("VER="+d.la));let $e=ne[4];$e!=null&&(d.Aa=$e,d.j.info("SVER="+d.Aa));let Cr=ne[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(p=1.5*Cr,d.L=p,d.j.info("backChannelRequestTimeoutMs_="+p)),p=d;let mt=s.g;if(mt){let Ts=mt.g?mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var C=p.h;C.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(Uu(C,C.h),C.h=null))}if(p.D){let zu=mt.g?mt.g.getResponseHeader("X-HTTP-Session-Id"):null;zu&&(p.ya=zu,me(p.I,p.D,zu))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-s.F,d.j.info("Handshake RTT: "+d.R+"ms")),p=d;var P=s;if(p.qa=Zm(p,p.J?p.ia:null,p.W),P.K){Sm(p.h,P);var de=P,Fe=p.L;Fe&&(de.I=Fe),de.B&&(Lu(de),ps(de)),p.g=P}else Wm(p);0<d.i.length&&Es(d)}else ne[0]!="stop"&&ne[0]!="close"||Un(d,7);else d.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?Un(d,7):Hu(d):ne[0]!="noop"&&d.l&&d.l.ta(ne),d.v=0)}}Gi(4)}catch{}}var jD=class{constructor(s,l){this.g=s,this.map=l}};function Tm(s){this.l=s||10,c.PerformanceNavigationTiming?(s=c.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bm(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function Cm(s){return s.h?1:s.g?s.g.size:0}function Bu(s,l){return s.h?s.h==l:s.g?s.g.has(l):!1}function Uu(s,l){s.g?s.g.add(l):s.h=l}function Sm(s,l){s.h&&s.h==l?s.h=null:s.g&&s.g.has(l)&&s.g.delete(l)}Tm.prototype.cancel=function(){if(this.i=Am(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let s of this.g.values())s.cancel();this.g.clear()}};function Am(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let l=s.i;for(let d of s.g.values())l=l.concat(d.D);return l}return F(s.i)}function BD(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(u(s)){for(var l=[],d=s.length,p=0;p<d;p++)l.push(s[p]);return l}l=[],d=0;for(p in s)l[d++]=s[p];return l}function UD(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(u(s)||typeof s=="string"){var l=[];s=s.length;for(var d=0;d<s;d++)l.push(d);return l}l=[],d=0;for(let p in s)l[d++]=p;return l}}}function Nm(s,l){if(s.forEach&&typeof s.forEach=="function")s.forEach(l,void 0);else if(u(s)||typeof s=="string")Array.prototype.forEach.call(s,l,void 0);else for(var d=UD(s),p=BD(s),w=p.length,C=0;C<w;C++)l.call(void 0,p[C],d&&d[C],s)}var Mm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $D(s,l){if(s){s=s.split("&");for(var d=0;d<s.length;d++){var p=s[d].indexOf("="),w=null;if(0<=p){var C=s[d].substring(0,p);w=s[d].substring(p+1)}else C=s[d];l(C,w?decodeURIComponent(w.replace(/\+/g," ")):"")}}}function Bn(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof Bn){this.h=s.h,ms(this,s.j),this.o=s.o,this.g=s.g,gs(this,s.s),this.l=s.l;var l=s.i,d=new Ji;d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),xm(this,d),this.m=s.m}else s&&(l=String(s).match(Mm))?(this.h=!1,ms(this,l[1]||"",!0),this.o=Qi(l[2]||""),this.g=Qi(l[3]||"",!0),gs(this,l[4]),this.l=Qi(l[5]||"",!0),xm(this,l[6]||"",!0),this.m=Qi(l[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}Bn.prototype.toString=function(){var s=[],l=this.j;l&&s.push(Yi(l,Rm,!0),":");var d=this.g;return(d||l=="file")&&(s.push("//"),(l=this.o)&&s.push(Yi(l,Rm,!0),"@"),s.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&s.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&s.push("/"),s.push(Yi(d,d.charAt(0)=="/"?GD:qD,!0))),(d=this.i.toString())&&s.push("?",d),(d=this.m)&&s.push("#",Yi(d,WD)),s.join("")};function $t(s){return new Bn(s)}function ms(s,l,d){s.j=d?Qi(l,!0):l,s.j&&(s.j=s.j.replace(/:$/,""))}function gs(s,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);s.s=l}else s.s=null}function xm(s,l,d){l instanceof Ji?(s.i=l,KD(s.i,s.h)):(d||(l=Yi(l,zD)),s.i=new Ji(l,s.h))}function me(s,l,d){s.i.set(l,d)}function ys(s){return me(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Qi(s,l){return s?l?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Yi(s,l,d){return typeof s=="string"?(s=encodeURI(s).replace(l,HD),d&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function HD(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Rm=/[#\/\?@]/g,qD=/[#\?:]/g,GD=/[#\?]/g,zD=/[#\?@]/g,WD=/#/g;function Ji(s,l){this.h=this.g=null,this.i=s||null,this.j=!!l}function cn(s){s.g||(s.g=new Map,s.h=0,s.i&&$D(s.i,function(l,d){s.add(decodeURIComponent(l.replace(/\+/g," ")),d)}))}t=Ji.prototype,t.add=function(s,l){cn(this),this.i=null,s=Tr(this,s);var d=this.g.get(s);return d||this.g.set(s,d=[]),d.push(l),this.h+=1,this};function Pm(s,l){cn(s),l=Tr(s,l),s.g.has(l)&&(s.i=null,s.h-=s.g.get(l).length,s.g.delete(l))}function km(s,l){return cn(s),l=Tr(s,l),s.g.has(l)}t.forEach=function(s,l){cn(this),this.g.forEach(function(d,p){d.forEach(function(w){s.call(l,w,p,this)},this)},this)},t.na=function(){cn(this);let s=Array.from(this.g.values()),l=Array.from(this.g.keys()),d=[];for(let p=0;p<l.length;p++){let w=s[p];for(let C=0;C<w.length;C++)d.push(l[p])}return d},t.V=function(s){cn(this);let l=[];if(typeof s=="string")km(this,s)&&(l=l.concat(this.g.get(Tr(this,s))));else{s=Array.from(this.g.values());for(let d=0;d<s.length;d++)l=l.concat(s[d])}return l},t.set=function(s,l){return cn(this),this.i=null,s=Tr(this,s),km(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[l]),this.h+=1,this},t.get=function(s,l){return s?(s=this.V(s),0<s.length?String(s[0]):l):l};function Om(s,l,d){Pm(s,l),0<d.length&&(s.i=null,s.g.set(Tr(s,l),F(d)),s.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let s=[],l=Array.from(this.g.keys());for(var d=0;d<l.length;d++){var p=l[d];let C=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var w=C;P[p]!==""&&(w+="="+encodeURIComponent(String(P[p]))),s.push(w)}}return this.i=s.join("&")};function Tr(s,l){return l=String(l),s.j&&(l=l.toLowerCase()),l}function KD(s,l){l&&!s.j&&(cn(s),s.i=null,s.g.forEach(function(d,p){var w=p.toLowerCase();p!=w&&(Pm(this,p),Om(this,w,d))},s)),s.j=l}function QD(s,l){let d=new Wi;if(c.Image){let p=new Image;p.onload=T(un,d,"TestLoadImage: loaded",!0,l,p),p.onerror=T(un,d,"TestLoadImage: error",!1,l,p),p.onabort=T(un,d,"TestLoadImage: abort",!1,l,p),p.ontimeout=T(un,d,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=s}else l(!1)}function YD(s,l){let d=new Wi,p=new AbortController,w=setTimeout(()=>{p.abort(),un(d,"TestPingServer: timeout",!1,l)},1e4);fetch(s,{signal:p.signal}).then(C=>{clearTimeout(w),C.ok?un(d,"TestPingServer: ok",!0,l):un(d,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(w),un(d,"TestPingServer: error",!1,l)})}function un(s,l,d,p,w){try{w&&(w.onload=null,w.onerror=null,w.onabort=null,w.ontimeout=null),p(d)}catch{}}function JD(){this.g=new PD}function ZD(s,l,d){let p=d||"";try{Nm(s,function(w,C){let P=w;h(w)&&(P=xu(w)),l.push(p+C+"="+encodeURIComponent(P))})}catch(w){throw l.push(p+"type="+encodeURIComponent("_badmap")),w}}function Zi(s){this.l=s.Ub||null,this.j=s.eb||!1}A(Zi,Ru),Zi.prototype.g=function(){return new vs(this.l,this.j)},Zi.prototype.i=function(s){return function(){return s}}({});function vs(s,l){Be.call(this),this.D=s,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(vs,Be),t=vs.prototype,t.open=function(s,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=l,this.readyState=1,eo(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(l.body=s),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},t.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,eo(this)),this.g&&(this.readyState=3,eo(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fm(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fm(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}t.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var l=s.value?s.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!s.done}))&&(this.response=this.responseText+=l)}s.done?Xi(this):eo(this),this.readyState==3&&Fm(this)}},t.Ra=function(s){this.g&&(this.response=this.responseText=s,Xi(this))},t.Qa=function(s){this.g&&(this.response=s,Xi(this))},t.ga=function(){this.g&&Xi(this)};function Xi(s){s.readyState=4,s.l=null,s.j=null,s.v=null,eo(s)}t.setRequestHeader=function(s,l){this.u.append(s,l)},t.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let s=[],l=this.h.entries();for(var d=l.next();!d.done;)d=d.value,s.push(d[0]+": "+d[1]),d=l.next();return s.join(`\r
`)};function eo(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function Vm(s){let l="";return te(s,function(d,p){l+=p,l+=":",l+=d,l+=`\r
`}),l}function $u(s,l,d){e:{for(p in d){var p=!1;break e}p=!0}p||(d=Vm(d),typeof s=="string"?d!=null&&encodeURIComponent(String(d)):me(s,l,d))}function _e(s){Be.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(_e,Be);var XD=/^https?$/i,eT=["POST","PUT"];t=_e.prototype,t.Ha=function(s){this.J=s},t.ea=function(s,l,d,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);l=l?l.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ou.g(),this.v=this.o?hm(this.o):hm(Ou),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(l,String(s),!0),this.B=!1}catch(C){Lm(this,C);return}if(s=d||"",d=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var w in p)d.set(w,p[w]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let C of p.keys())d.set(C,p.get(C));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(d.keys()).find(C=>C.toLowerCase()=="content-type"),w=c.FormData&&s instanceof c.FormData,!(0<=Array.prototype.indexOf.call(eT,l,void 0))||p||w||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,P]of d)this.g.setRequestHeader(C,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Um(this),this.u=!0,this.g.send(s),this.u=!1}catch(C){Lm(this,C)}};function Lm(s,l){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=l,s.m=5,jm(s),_s(s)}function jm(s){s.A||(s.A=!0,ze(s,"complete"),ze(s,"error"))}t.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,ze(this,"complete"),ze(this,"abort"),_s(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_s(this,!0)),_e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bm(this):this.bb())},t.bb=function(){Bm(this)};function Bm(s){if(s.h&&typeof a<"u"&&(!s.v[1]||Ht(s)!=4||s.Z()!=2)){if(s.u&&Ht(s)==4)cm(s.Ea,0,s);else if(ze(s,"readystatechange"),Ht(s)==4){s.h=!1;try{let P=s.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var d;if(!(d=l)){var p;if(p=P===0){var w=String(s.D).match(Mm)[1]||null;!w&&c.self&&c.self.location&&(w=c.self.location.protocol.slice(0,-1)),p=!XD.test(w?w.toLowerCase():"")}d=p}if(d)ze(s,"complete"),ze(s,"success");else{s.m=6;try{var C=2<Ht(s)?s.g.statusText:""}catch{C=""}s.l=C+" ["+s.Z()+"]",jm(s)}}finally{_s(s)}}}}function _s(s,l){if(s.g){Um(s);let d=s.g,p=s.v[0]?()=>{}:null;s.g=null,s.v=null,l||ze(s,"ready");try{d.onreadystatechange=p}catch{}}}function Um(s){s.I&&(c.clearTimeout(s.I),s.I=null)}t.isActive=function(){return!!this.g};function Ht(s){return s.g?s.g.readyState:0}t.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(s){if(this.g){var l=this.g.responseText;return s&&l.indexOf(s)==0&&(l=l.substring(s.length)),RD(l)}};function $m(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function tT(s){let l={};s=(s.g&&2<=Ht(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<s.length;p++){if(q(s[p]))continue;var d=E(s[p]);let w=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let C=l[w]||[];l[w]=C,C.push(d)}I(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function to(s,l,d){return d&&d.internalChannelParams&&d.internalChannelParams[s]||l}function Hm(s){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=to("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=to("baseRetryDelayMs",5e3,s),this.cb=to("retryDelaySeedMs",1e4,s),this.Wa=to("forwardChannelMaxRetries",2,s),this.wa=to("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new Tm(s&&s.concurrentRequestLimit),this.Da=new JD,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hm.prototype,t.la=8,t.G=1,t.connect=function(s,l,d,p){We(0),this.W=s,this.H=l||{},d&&p!==void 0&&(this.H.OSID=d,this.H.OAID=p),this.F=this.X,this.I=Zm(this,null,this.W),Es(this)};function Hu(s){if(qm(s),s.G==3){var l=s.U++,d=$t(s.I);if(me(d,"SID",s.K),me(d,"RID",l),me(d,"TYPE","terminate"),no(s,d),l=new an(s,s.j,l),l.L=2,l.v=ys($t(d)),d=!1,c.navigator&&c.navigator.sendBeacon)try{d=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!d&&c.Image&&(new Image().src=l.v,d=!0),d||(l.g=Xm(l.j,null),l.g.ea(l.v)),l.F=Date.now(),ps(l)}Jm(s)}function Is(s){s.g&&(Gu(s),s.g.cancel(),s.g=null)}function qm(s){Is(s),s.u&&(c.clearTimeout(s.u),s.u=null),ws(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&c.clearTimeout(s.s),s.s=null)}function Es(s){if(!bm(s.h)&&!s.s){s.s=!0;var l=s.Ga;ji||nm(),Bi||(ji(),Bi=!0),wu.add(l,s),s.B=0}}function nT(s,l){return Cm(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=l.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=zi(D(s.Ga,s,l),Ym(s,s.B)),s.B++,!0)}t.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;let w=new an(this,this.j,s),C=this.o;if(this.S&&(C?(C=g(C),_(C,this.S)):C=this.S),this.m!==null||this.O||(w.H=C,C=null),this.P)e:{for(var l=0,d=0;d<this.i.length;d++){t:{var p=this.i[d];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=d;break e}if(l===4096||d===this.i.length-1){l=d+1;break e}}l=1e3}else l=1e3;l=zm(this,w,l),d=$t(this.I),me(d,"RID",s),me(d,"CVER",22),this.D&&me(d,"X-HTTP-Session-Id",this.D),no(this,d),C&&(this.O?l="headers="+encodeURIComponent(String(Vm(C)))+"&"+l:this.m&&$u(d,this.m,C)),Uu(this.h,w),this.Ua&&me(d,"TYPE","init"),this.P?(me(d,"$req",l),me(d,"SID","null"),w.T=!0,Vu(w,d,null)):Vu(w,d,l),this.G=2}}else this.G==3&&(s?Gm(this,s):this.i.length==0||bm(this.h)||Gm(this))};function Gm(s,l){var d;l?d=l.l:d=s.U++;let p=$t(s.I);me(p,"SID",s.K),me(p,"RID",d),me(p,"AID",s.T),no(s,p),s.m&&s.o&&$u(p,s.m,s.o),d=new an(s,s.j,d,s.B+1),s.m===null&&(d.H=s.o),l&&(s.i=l.D.concat(s.i)),l=zm(s,d,1e3),d.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),Uu(s.h,d),Vu(d,p,l)}function no(s,l){s.H&&te(s.H,function(d,p){me(l,p,d)}),s.l&&Nm({},function(d,p){me(l,p,d)})}function zm(s,l,d){d=Math.min(s.i.length,d);var p=s.l?D(s.l.Na,s.l,s):null;e:{var w=s.i;let C=-1;for(;;){let P=["count="+d];C==-1?0<d?(C=w[0].g,P.push("ofs="+C)):C=0:P.push("ofs="+C);let de=!0;for(let Fe=0;Fe<d;Fe++){let ne=w[Fe].g,Ue=w[Fe].map;if(ne-=C,0>ne)C=Math.max(0,w[Fe].g-100),de=!1;else try{ZD(Ue,P,"req"+ne+"_")}catch{p&&p(Ue)}}if(de){p=P.join("&");break e}}}return s=s.i.splice(0,d),l.D=s,p}function Wm(s){if(!s.g&&!s.u){s.Y=1;var l=s.Fa;ji||nm(),Bi||(ji(),Bi=!0),wu.add(l,s),s.v=0}}function qu(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=zi(D(s.Fa,s),Ym(s,s.v)),s.v++,!0)}t.Fa=function(){if(this.u=null,Km(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=zi(D(this.ab,this),s)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),Is(this),Km(this))};function Gu(s){s.A!=null&&(c.clearTimeout(s.A),s.A=null)}function Km(s){s.g=new an(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var l=$t(s.qa);me(l,"RID","rpc"),me(l,"SID",s.K),me(l,"AID",s.T),me(l,"CI",s.F?"0":"1"),!s.F&&s.ja&&me(l,"TO",s.ja),me(l,"TYPE","xmlhttp"),no(s,l),s.m&&s.o&&$u(l,s.m,s.o),s.L&&(s.g.I=s.L);var d=s.g;s=s.ia,d.L=1,d.v=ys($t(l)),d.m=null,d.P=!0,Em(d,s)}t.Za=function(){this.C!=null&&(this.C=null,Is(this),qu(this),We(19))};function ws(s){s.C!=null&&(c.clearTimeout(s.C),s.C=null)}function Qm(s,l){var d=null;if(s.g==l){ws(s),Gu(s),s.g=null;var p=2}else if(Bu(s.h,l))d=l.D,Sm(s.h,l),p=1;else return;if(s.G!=0){if(l.o)if(p==1){d=l.m?l.m.length:0,l=Date.now()-l.F;var w=s.B;p=ds(),ze(p,new ym(p,d)),Es(s)}else Wm(s);else if(w=l.s,w==3||w==0&&0<l.X||!(p==1&&nT(s,l)||p==2&&qu(s)))switch(d&&0<d.length&&(l=s.h,l.i=l.i.concat(d)),w){case 1:Un(s,5);break;case 4:Un(s,10);break;case 3:Un(s,6);break;default:Un(s,2)}}}function Ym(s,l){let d=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(d*=2),d*l}function Un(s,l){if(s.j.info("Error code "+l),l==2){var d=D(s.fb,s),p=s.Xa;let w=!p;p=new Bn(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ms(p,"https"),ys(p),w?QD(p.toString(),d):YD(p.toString(),d)}else We(2);s.G=0,s.l&&s.l.sa(l),Jm(s),qm(s)}t.fb=function(s){s?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function Jm(s){if(s.G=0,s.ka=[],s.l){let l=Am(s.h);(l.length!=0||s.i.length!=0)&&(O(s.ka,l),O(s.ka,s.i),s.h.i.length=0,F(s.i),s.i.length=0),s.l.ra()}}function Zm(s,l,d){var p=d instanceof Bn?$t(d):new Bn(d);if(p.g!="")l&&(p.g=l+"."+p.g),gs(p,p.s);else{var w=c.location;p=w.protocol,l=l?l+"."+w.hostname:w.hostname,w=+w.port;var C=new Bn(null);p&&ms(C,p),l&&(C.g=l),w&&gs(C,w),d&&(C.l=d),p=C}return d=s.D,l=s.ya,d&&l&&me(p,d,l),me(p,"VER",s.la),no(s,p),p}function Xm(s,l,d){if(l&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=s.Ca&&!s.pa?new _e(new Zi({eb:d})):new _e(s.pa),l.Ha(s.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eg(){}t=eg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ds(){}Ds.prototype.g=function(s,l){return new nt(s,l)};function nt(s,l){Be.call(this),this.g=new Hm(l),this.l=s,this.h=l&&l.messageUrlParams||null,s=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(s?s["X-WebChannel-Content-Type"]=l.messageContentType:s={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(s?s["X-WebChannel-Client-Profile"]=l.va:s={"X-WebChannel-Client-Profile":l.va}),this.g.S=s,(s=l&&l.Sb)&&!q(s)&&(this.g.m=s),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!q(l)&&(this.g.D=l,s=this.h,s!==null&&l in s&&(s=this.h,l in s&&delete s[l])),this.j=new br(this)}A(nt,Be),nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nt.prototype.close=function(){Hu(this.g)},nt.prototype.o=function(s){var l=this.g;if(typeof s=="string"){var d={};d.__data__=s,s=d}else this.u&&(d={},d.__data__=xu(s),s=d);l.i.push(new jD(l.Ya++,s)),l.G==3&&Es(l)},nt.prototype.N=function(){this.g.l=null,delete this.j,Hu(this.g),delete this.g,nt.aa.N.call(this)};function tg(s){Pu.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var l=s.__sm__;if(l){e:{for(let d in l){s=d;break e}s=void 0}(this.i=s)&&(s=this.i,l=l!==null&&s in l?l[s]:void 0),this.data=l}else this.data=s}A(tg,Pu);function ng(){ku.call(this),this.status=1}A(ng,ku);function br(s){this.g=s}A(br,eg),br.prototype.ua=function(){ze(this.g,"a")},br.prototype.ta=function(s){ze(this.g,new tg(s))},br.prototype.sa=function(s){ze(this.g,new ng)},br.prototype.ra=function(){ze(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,nt.prototype.send=nt.prototype.o,nt.prototype.open=nt.prototype.m,nt.prototype.close=nt.prototype.close,pf=en.createWebChannelTransport=function(){return new Ds},ff=en.getStatEventTarget=function(){return ds()},hf=en.Event=Ln,wc=en.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Ho=en.ErrorCode=hs,vm.COMPLETE="complete",df=en.EventType=vm,fm.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",Be.prototype.listen=Be.prototype.K,fi=en.WebChannel=fm,pR=en.FetchXmlHttpFactory=Zi,_e.prototype.listenOnce=_e.prototype.L,_e.prototype.getLastError=_e.prototype.Ka,_e.prototype.getLastErrorCode=_e.prototype.Ba,_e.prototype.getStatus=_e.prototype.Z,_e.prototype.getResponseJson=_e.prototype.Oa,_e.prototype.getResponseText=_e.prototype.oa,_e.prototype.send=_e.prototype.ea,_e.prototype.setWithCredentials=_e.prototype.Ha,lf=en.XhrIo=_e}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});var oE="@firebase/firestore";var Pe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");var xi="10.14.0";var mr=new Sn("@firebase/firestore");function qo(){return mr.logLevel}function V(t,...e){if(mr.logLevel<=Y.DEBUG){let n=e.map(kp);mr.debug(`Firestore (${xi}): ${t}`,...n)}}function gr(t,...e){if(mr.logLevel<=Y.ERROR){let n=e.map(kp);mr.error(`Firestore (${xi}): ${t}`,...n)}}function Ac(t,...e){if(mr.logLevel<=Y.WARN){let n=e.map(kp);mr.warn(`Firestore (${xi}): ${t}`,...n)}}function kp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function J(t="Unexpected state"){let e=`FIRESTORE (${xi}) INTERNAL ASSERTION FAILED: `+t;throw gr(e),new Error(e)}function De(t,e){t||J()}function pe(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends ht{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var tn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Nc=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vf=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pe.UNAUTHENTICATED))}shutdown(){}},_f=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},If=class{constructor(e){this.t=e,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tn,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tn)}},0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Nc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Pe(e)}},Ef=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},wf=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ef(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Df=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Tf=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){De(this.o===void 0);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.R;return this.R=o.token,V("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new Df(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function mR(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Mc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=mR(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function he(t,e){return t<e?-1:t>e?1:0}function yi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ge=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var we=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ge(0,0))}static max(){return new t(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var xc=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ae=class t extends xc{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},gR=/^[_a-zA-Z][_a-zA-Z0-9]*$/,at=class t extends xc{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return gR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},a=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new L(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(o(),i++)}if(o(),a)throw new L(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ae.fromString(e))}static fromName(e){return new t(Ae.fromString(e).popFirst(5))}static empty(){return new t(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ae(e.slice()))}};var bf=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};bf.UNKNOWN_ID=-1;function yR(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new yr(i,z.empty(),e)}function vR(t){return new yr(t.readTime,t.key,-1)}var yr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(we.min(),z.empty(),-1)}static max(){return new t(we.max(),z.empty(),-1)}};function _R(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}var IR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cf=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function AE(t){return S(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==IR)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var R=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++o,a&&o===i&&n()},u=>r(u))}),a=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,a=new Array(o),c=0;for(let u=0;u<o;u++){let h=u;n(e[h]).next(f=>{a[h]=f,++c,c===o&&r(a)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function ER(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yc(t){return t.name==="IndexedDbTransactionError"}var wR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Op(t){return t==null}function Yo(t){return t===0&&1/t==-1/0}function DR(t){return typeof t=="number"&&Number.isInteger(t)&&!Yo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var TR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pj=[...TR,"documentOverlays"],bR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CR=bR,SR=[...CR,"indexConfiguration","indexState","indexEntries"];var kj=[...SR,"globals"];function sE(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function es(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NE(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ct=class t{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mi(this.root,e,this.comparator,!1)}getReverseIterator(){return new mi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mi(this.root,e,this.comparator,!0)}},mi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},jt=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();let e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}};jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,o){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ze=class t{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rc(this.data.getIterator())}getIteratorFrom(e){return new Rc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Rc=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Lt=class t{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ze(at.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yi(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Sf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var rn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Sf("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};rn.EMPTY_BYTE_STRING=new rn("");var AR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rn(t){if(De(!!t),typeof t=="string"){let e=0,n=AR.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vi(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}function Fp(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ME(t){let e=t.mapValue.fields.__previous_value__;return Fp(e)?ME(e):e}function Pc(t){let e=Rn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}var Af=class{constructor(e,n,r,i,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h}},Nf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fp(t)?4:RE(t)?9007199254740991:xE(t)?10:11:J()}function Bt(t,e){if(t===e)return!0;let n=_i(t);if(n!==_i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pc(t).isEqual(Pc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let a=Rn(i.timestampValue),c=Rn(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return vi(i.bytesValue).isEqual(vi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Se(i.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Se(i.integerValue)===Se(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let a=Se(i.doubleValue),c=Se(o.doubleValue);return a===c?Yo(a)===Yo(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return yi(t.arrayValue.values||[],e.arrayValue.values||[],Bt);case 10:case 11:return function(i,o){let a=i.mapValue.fields||{},c=o.mapValue.fields||{};if(sE(a)!==sE(c))return!1;for(let u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Bt(a[u],c[u])))return!1;return!0}(t,e);default:return J()}}function Jo(t,e){return(t.values||[]).find(n=>Bt(n,e))!==void 0}function Ii(t,e){if(t===e)return 0;let n=_i(t),r=_i(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(o,a){let c=Se(o.integerValue||o.doubleValue),u=Se(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return aE(t.timestampValue,e.timestampValue);case 4:return aE(Pc(t),Pc(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(o,a){let c=vi(o),u=vi(a);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){let c=o.split("/"),u=a.split("/");for(let h=0;h<c.length&&h<u.length;h++){let f=he(c[h],u[h]);if(f!==0)return f}return he(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){let c=he(Se(o.latitude),Se(a.latitude));return c!==0?c:he(Se(o.longitude),Se(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cE(t.arrayValue,e.arrayValue);case 10:return function(o,a){var c,u,h,f;let m=o.fields||{},D=a.fields||{},T=(c=m.value)===null||c===void 0?void 0:c.arrayValue,A=(u=D.value)===null||u===void 0?void 0:u.arrayValue,F=he(((h=T?.values)===null||h===void 0?void 0:h.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return F!==0?F:cE(T,A)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Dc.mapValue&&a===Dc.mapValue)return 0;if(o===Dc.mapValue)return 1;if(a===Dc.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),h=a.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){let D=he(u[m],f[m]);if(D!==0)return D;let T=Ii(c[u[m]],h[f[m]]);if(T!==0)return T}return he(u.length,f.length)}(t.mapValue,e.mapValue);default:throw J()}}function aE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);let n=Rn(t),r=Rn(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function cE(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ii(n[i],r[i]);if(o)return o}return he(n.length,r.length)}function Ei(t){return Mf(t)}function Mf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Rn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Mf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let a of r)o?o=!1:i+=",",i+=`${a}:${Mf(n.fields[a])}`;return i+"}"}(t.mapValue):J()}function xf(t){return!!t&&"integerValue"in t}function Vp(t){return!!t&&"arrayValue"in t}function Cc(t){return!!t&&"mapValue"in t}function xE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function zo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return es(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zo(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function RE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Vt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zo(n)}setAll(e){let n=at.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=zo(a):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){es(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(zo(this.value))}};function PE(t){let e=[];return es(t.fields,(n,r)=>{let i=new at([n]);if(Cc(r)){let o=PE(r.mapValue).fields;if(o.length===0)e.push(i);else for(let a of o)e.push(i.child(a))}else e.push(i)}),new Lt(e)}var wi=class t{constructor(e,n,r,i,o,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new t(e,0,we.min(),we.min(),we.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,we.min(),we.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,we.min(),we.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Di=class{constructor(e,n){this.position=e,this.inclusive=n}};function uE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],a=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(a.referenceValue),n.key):r=Ii(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function lE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bt(t.position[n],e.position[n]))return!1;return!0}var Ti=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function NR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var kc=class{},ke=class t extends kc{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Pf(e,n,r):n==="array-contains"?new Ff(e,r):n==="in"?new Vf(e,r):n==="not-in"?new Lf(e,r):n==="array-contains-any"?new jf(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kf(e,r):new Of(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ii(n,this.value)):n!==null&&_i(this.value)===_i(n)&&this.matchesComparison(Ii(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pn=class t extends kc{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return kE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function kE(t){return t.op==="and"}function OE(t){return MR(t)&&kE(t)}function MR(t){for(let e of t.filters)if(e instanceof Pn)return!1;return!0}function Rf(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+Ei(t.value);if(OE(t))return t.filters.map(e=>Rf(e)).join(",");{let e=t.filters.map(n=>Rf(n)).join(",");return`${t.op}(${e})`}}function FE(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&Bt(r.value,i.value)}(t,e):t instanceof Pn?function(r,i){return i instanceof Pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,c)=>o&&FE(a,i.filters[c]),!0):!1}(t,e):void J()}function VE(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Ei(n.value)}`}(t):t instanceof Pn?function(n){return n.op.toString()+" {"+n.getFilters().map(VE).join(" ,")+"}"}(t):"Filter"}var Pf=class extends ke{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},kf=class extends ke{constructor(e,n){super(e,"in",n),this.keys=LE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Of=class extends ke{constructor(e,n){super(e,"not-in",n),this.keys=LE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function LE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var Ff=class extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Vp(n)&&Jo(n.arrayValue,this.value)}},Vf=class extends ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Jo(this.value.arrayValue,n)}},Lf=class extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Jo(this.value.arrayValue,n)}},jf=class extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Vp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jo(this.value.arrayValue,r))}};var Bf=class{constructor(e,n=null,r=[],i=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=c,this.ue=null}};function dE(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Bf(t,e,n,r,i,o,a)}function Lp(t){let e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Op(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ei(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ei(r)).join(",")),e.ue=n}return e.ue}function jp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lE(t.startAt,e.startAt)&&lE(t.endAt,e.endAt)}var bi=class{constructor(e,n=null,r=[],i=[],o=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function xR(t,e,n,r,i,o,a,c){return new bi(t,e,n,r,i,o,a,c)}function RR(t){return new bi(t)}function hE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PR(t){return t.collectionGroup!==null}function Wo(t){let e=pe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Ze(at.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ti(o,r))}),n.has(at.keyField().canonicalString())||e.ce.push(new Ti(at.keyField(),r))}return e.ce}function fr(t){let e=pe(t);return e.le||(e.le=kR(e,Wo(t))),e.le}function kR(t,e){if(t.limitType==="F")return dE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ti(i.field,o)});let n=t.endAt?new Di(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Di(t.startAt.position,t.startAt.inclusive):null;return dE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Uf(t,e,n){return new bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jE(t,e){return jp(fr(t),fr(e))&&t.limitType===e.limitType}function BE(t){return`${Lp(fr(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VE(i)).join(", ")}]`),Op(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ei(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ei(i)).join(",")),`Target(${r})`}(fr(t))}; limitType=${t.limitType})`}function Bp(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Wo(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,u){let h=uE(a,c,u);return a.inclusive?h<=0:h<0}(r.startAt,Wo(r),i)||r.endAt&&!function(a,c,u){let h=uE(a,c,u);return a.inclusive?h>=0:h>0}(r.endAt,Wo(r),i))}(t,e)}function OR(t){return(e,n)=>{let r=!1;for(let i of Wo(t)){let o=FR(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function FR(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,a,c){let u=a.data.field(o),h=c.data.field(o);return u!==null&&h!==null?Ii(u,h):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}var kn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return NE(this.inner)}size(){return this.innerSize}};var VR=new ct(z.comparator);function Oc(){return VR}var UE=new ct(z.comparator);function Tc(...t){let e=UE;for(let n of t)e=e.insert(n.key,n);return e}function $E(t){let e=UE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hr(){return Ko()}function HE(){return Ko()}function Ko(){return new kn(t=>t.toString(),(t,e)=>t.isEqual(e))}var LR=new ct(z.comparator),jR=new Ze(z.comparator);function qe(...t){let e=jR;for(let n of t)e=e.add(n);return e}var BR=new Ze(he);function UR(){return BR}function Up(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yo(e)?"-0":e}}function qE(t){return{integerValue:""+t}}function $R(t,e){return DR(e)?qE(e):Up(t,e)}var Ci=class{constructor(){this._=void 0}};function HR(t,e,n){return t instanceof Si?function(i,o){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Fp(o)&&(o=ME(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof vr?zE(t,e):t instanceof _r?WE(t,e):function(i,o){let a=GE(i,o),c=fE(a)+fE(i.Pe);return xf(a)&&xf(i.Pe)?qE(c):Up(i.serializer,c)}(t,e)}function qR(t,e,n){return t instanceof vr?zE(t,e):t instanceof _r?WE(t,e):n}function GE(t,e){return t instanceof Ai?function(r){return xf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Si=class extends Ci{},vr=class extends Ci{constructor(e){super(),this.elements=e}};function zE(t,e){let n=KE(e);for(let r of t.elements)n.some(i=>Bt(i,r))||n.push(r);return{arrayValue:{values:n}}}var _r=class extends Ci{constructor(e){super(),this.elements=e}};function WE(t,e){let n=KE(e);for(let r of t.elements)n=n.filter(i=>!Bt(i,r));return{arrayValue:{values:n}}}var Ai=class extends Ci{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function fE(t){return Se(t.integerValue||t.doubleValue)}function KE(t){return Vp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vr&&i instanceof vr||r instanceof _r&&i instanceof _r?yi(r.elements,i.elements,Bt):r instanceof Ai&&i instanceof Ai?Bt(r.Pe,i.Pe):r instanceof Si&&i instanceof Si}(t.transform,e.transform)}var $f=class{constructor(e,n){this.version=e,this.transformResults=n}},pr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Sc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ni=class{};function QE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fc(t.key,pr.none()):new Ir(t.key,t.data,pr.none());{let n=t.data,r=Vt.empty(),i=new Ze(at.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new on(t.key,r,new Lt(i.toArray()),pr.none())}}function zR(t,e,n){t instanceof Ir?function(i,o,a){let c=i.value.clone(),u=mE(i.fieldTransforms,o,a.transformResults);c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof on?function(i,o,a){if(!Sc(i.precondition,o))return void o.convertToUnknownDocument(a.version);let c=mE(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(YE(i)),u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Qo(t,e,n,r){return t instanceof Ir?function(o,a,c,u){if(!Sc(o.precondition,a))return c;let h=o.value.clone(),f=gE(o.fieldTransforms,u,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof on?function(o,a,c,u){if(!Sc(o.precondition,a))return c;let h=gE(o.fieldTransforms,u,a),f=a.data;return f.setAll(YE(o)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,a,c){return Sc(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function WR(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=GE(r.transform,i||null);o!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,o))}return n||null}function pE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yi(r,i,(o,a)=>GR(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ir=class extends Ni{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},on=class extends Ni{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function YE(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function mE(t,e,n){let r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],a=o.transform,c=e.data.field(o.field);r.set(o.field,qR(a,c,n[i]))}return r}function gE(t,e,n){let r=new Map;for(let i of t){let o=i.transform,a=n.data.field(i.field);r.set(i.field,HR(o,a,e))}return r}var Fc=class extends Ni{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Hf=class extends Ni{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var qf=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&zR(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qo(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Qo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=HE();return this.mutations.forEach(i=>{let o=e.get(i.key),a=o.overlayedDocument,c=this.applyToLocalView(a,o.mutatedFields);c=n.has(i.key)?null:c;let u=QE(a,c);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&yi(this.mutations,e.mutations,(n,r)=>pE(n,r))&&yi(this.baseMutations,e.baseMutations,(n,r)=>pE(n,r))}},Gf=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return LR}(),o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)}};var zf=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var be,ee;function KR(t){switch(t){default:return J();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function QR(t){if(t===void 0)return gr("GRPC error has no .code"),x.UNKNOWN;switch(t){case be.OK:return x.OK;case be.CANCELLED:return x.CANCELLED;case be.UNKNOWN:return x.UNKNOWN;case be.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case be.INTERNAL:return x.INTERNAL;case be.UNAVAILABLE:return x.UNAVAILABLE;case be.UNAUTHENTICATED:return x.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case be.NOT_FOUND:return x.NOT_FOUND;case be.ALREADY_EXISTS:return x.ALREADY_EXISTS;case be.PERMISSION_DENIED:return x.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case be.ABORTED:return x.ABORTED;case be.OUT_OF_RANGE:return x.OUT_OF_RANGE;case be.UNIMPLEMENTED:return x.UNIMPLEMENTED;case be.DATA_LOSS:return x.DATA_LOSS;default:return J()}}(ee=be||(be={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";var Fj=new uf([4294967295,4294967295],0);var Wf=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JR(t,e){return Kf(t,e.toTimestamp())}function gi(t){return De(!!t),we.fromTimestamp(function(n){let r=Rn(n);return new Ge(r.seconds,r.nanos)}(t))}function JE(t,e){return Qf(t,e).canonicalString()}function Qf(t,e){let n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZR(t){let e=Ae.fromString(t);return De(sP(e)),e}function Yf(t,e){return JE(t.databaseId,e.path)}function XR(t){let e=ZR(t);return e.length===4?Ae.emptyPath():tP(e)}function eP(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tP(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yE(t,e,n){return{name:Yf(t,e),fields:n.value.mapValue.fields}}function nP(t,e){let n;if(e instanceof Ir)n={update:yE(t,e.key,e.value)};else if(e instanceof Fc)n={delete:Yf(t,e.key)};else if(e instanceof on)n={update:yE(t,e.key,e.data),updateMask:oP(e.fieldMask)};else{if(!(e instanceof Hf))return J();n={verify:Yf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){let c=a.transform;if(c instanceof Si)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vr)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _r)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ai)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:JR(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:J()}(t,e.precondition)),n}function rP(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?gi(i.updateTime):gi(o);return a.isEqual(we.min())&&(a=gi(o)),new $f(a,i.transformResults||[])}(n,e))):[]}function iP(t){let e=XR(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){De(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(m){let D=ZE(m);return D instanceof Pn&&OE(D)?D.getFilters():[D]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(D=>function(A){return new Ti(pi(A.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(D))}(n.orderBy));let c=null;n.limit&&(c=function(m){let D;return D=typeof m=="object"?m.value:m,Op(D)?null:D}(n.limit));let u=null;n.startAt&&(u=function(m){let D=!!m.before,T=m.values||[];return new Di(T,D)}(n.startAt));let h=null;return n.endAt&&(h=function(m){let D=!m.before,T=m.values||[];return new Di(T,D)}(n.endAt)),xR(e,i,a,o,c,"F",u,h)}function ZE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=pi(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=pi(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=pi(n.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=pi(n.unaryFilter.field);return ke.create(a,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(pi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pn.create(n.compositeFilter.filters.map(r=>ZE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function pi(t){return at.fromServerFormat(t.fieldPath)}function oP(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Jf=class{constructor(e){this.ct=e}};function aP(t){let e=iP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uf(e,e.limit,"L"):e}var Vc=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Yo(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Rn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(vi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?RE(e)?this.dt(n,Number.MAX_SAFE_INTEGER):xE(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):J()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let a="value",c=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(c)),this.Vt(a,n),this.Tt(o[a],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Vc.vt=new Vc;var Zf=class{constructor(){this.un=new Xf}addToCollectionParentIndex(e,n){return this.un.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(yr.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}},Xf=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(Ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Ae.comparator)).toArray()}};var Vj=new Uint8Array(0);var Ft=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(41943040,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);var Zo=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var ep=class{constructor(){this.changes=new kn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var tp=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var np=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qo(r.mutation,i,Lt.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=qe()){let i=hr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Tc();return o.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){let r=hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,qe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let o=Oc(),a=Ko(),c=function(){return Ko()}();return n.forEach((u,h)=>{let f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof on)?o=o.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Qo(f.mutation,h,f.mutation.getFieldMask(),Ge.now())):a.set(h.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,f)=>a.set(h,f)),n.forEach((h,f)=>{var m;return c.set(h,new tp(f,(m=a.get(h))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Ko(),i=new ct((a,c)=>a-c),o=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(let c of a)c.keys().forEach(u=>{let h=n.get(u);if(h===null)return;let f=r.get(u)||Lt.empty();f=c.applyToLocalView(h,f),r.set(u,f);let m=(i.get(c.batchId)||qe()).add(u);i=i.insert(c.batchId,m)})}).next(()=>{let a=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),h=u.key,f=u.value,m=HE();f.forEach(D=>{if(!o.has(D)){let T=QE(n.get(D),r.get(D));T!==null&&m.set(D,T),o=o.add(D)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,m))}return R.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return z.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):R.resolve(hr()),c=-1,u=o;return a.next(h=>R.forEach(h,(f,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),o.get(f)?R.resolve():this.remoteDocumentCache.getEntry(e,f).next(D=>{u=u.insert(f,D)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,qe())).next(f=>({batchId:c,changes:$E(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=Tc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,a=Tc();return this.indexManager.getCollectionParents(e,o).next(c=>R.forEach(c,u=>{let h=function(m,D){return new bi(D,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((m,D)=>{a=a.insert(m,D)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((u,h)=>{let f=h.getKey();a.get(f)===null&&(a=a.insert(f,wi.newInvalidDocument(f)))});let c=Tc();return a.forEach((u,h)=>{let f=o.get(u);f!==void 0&&Qo(f.mutation,h,Lt.empty(),Ge.now()),Bp(n,h)&&(c=c.insert(u,h))}),c})}};var rp=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return R.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:aP(i.bundledQuery),readTime:gi(i.readTime)}}(n)),R.resolve()}};var ip=class{constructor(){this.overlays=new ct(z.comparator),this.Ir=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){let r=hr();return R.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),R.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){let i=hr(),o=n.length+1,a=new z(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){let u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ct((h,f)=>h-f),a=this.overlays.getIterator();for(;a.hasNext();){let h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=o.get(h.largestBatchId);f===null&&(f=hr(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}let c=hr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>c.set(h,f)),!(c.size()>=i)););return R.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new zf(n,r));let o=this.Ir.get(n);o===void 0&&(o=qe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var op=class{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,R.resolve()}};var Xo=class{constructor(){this.Tr=new Ze(Ce.Er),this.dr=new Ze(Ce.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ce(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ce(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new z(new Ae([])),r=new Ce(n,e),i=new Ce(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new z(new Ae([])),r=new Ce(n,e),i=new Ce(n,e+1),o=qe();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){let n=new Ce(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ce=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return z.comparator(e.key,n.key)||he(e.wr,n.wr)}static Ar(e,n){return he(e.wr,n.wr)||z.comparator(e.key,n.key)}};var sp=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ze(Ce.Er)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new qf(o,n,r,i);this.mutationQueue.push(a);for(let c of i)this.br=this.br.add(new Ce(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return R.resolve(a)}lookupMutationBatch(e,n){return R.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ce(n,0),i=new Ce(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{let c=this.Dr(a.wr);o.push(c)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(he);return n.forEach(i=>{let o=new Ce(i,0),a=new Ce(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],c=>{r=r.add(c.wr)})}),R.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let a=new Ce(new z(o),0),c=new Ze(he);return this.br.forEachWhile(u=>{let h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.wr)),!0)},a),R.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return R.forEach(n.mutations,i=>{let o=new Ce(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ce(n,0),i=this.br.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var ap=class{constructor(e){this.Mr=e,this.docs=function(){return new ct(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():wi.newInvalidDocument(n))}getEntries(e,n){let r=Oc();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wi.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Oc(),a=n.path,c=new z(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:h,value:{document:f}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||_R(vR(f),r)<=0||(i.has(f.key)||Bp(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,n,r,i){J()}Or(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cp(this)}getSize(e){return R.resolve(this.size)}},cp=class extends ep{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var up=class{constructor(e){this.persistence=e,this.Nr=new kn(n=>Lp(n),jp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xo,this.targetCount=0,this.kr=Zo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),R.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.Kn(n),R.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),R.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Br.containsKey(n))}};var lp=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new wR(0),this.Kr=!1,this.Kr=!0,this.$r=new op,this.referenceDelegate=e(this),this.Ur=new up(this),this.indexManager=new Zf,this.remoteDocumentCache=function(i){return new ap(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Jf(n),this.Gr=new rp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ip,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new sp(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new dp(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return R.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},dp=class extends Cf{constructor(e){super(),this.currentSequenceNumber=e}},hp=class t{constructor(e){this.persistence=e,this.Jr=new Xo,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Xr,r=>{let i=z.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,we.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return R.or([()=>R.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var fp=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=qe(),i=qe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var pp=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var mp=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _I()?8:ER(st())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new pp;return this.Xi(e,n,a).next(c=>{if(o.result=c,this.zi)return this.es(e,n,a,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(qo()<=Y.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),R.resolve()):(qo()<=Y.DEBUG&&V("QueryEngine","Query:",Go(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(qo()<=Y.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):R.resolve())}Yi(e,n){if(hE(n))return R.resolve(null);let r=fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Uf(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let a=qe(...o);return this.Ji.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let h=this.ts(n,c);return this.ns(n,h,a,u.readTime)?this.Yi(e,Uf(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,i){return hE(n)||i.isEqual(we.min())?R.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let a=this.ts(n,o);return this.ns(n,a,r,i)?R.resolve(null):(qo()<=Y.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Go(n)),this.rs(e,a,n,yR(i,-1)).next(c=>c))})}ts(e,n){let r=new Ze(OR(e));return n.forEach((i,o)=>{Bp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return qo()<=Y.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Go(n)),this.Ji.getDocumentsMatchingQuery(e,n,yr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}};var gp=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ct(he),this._s=new kn(o=>Lp(o),jp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new np(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function cP(t,e,n,r){return new gp(t,e,n,r)}function XE(t,e){return S(this,null,function*(){let n=pe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let a=[],c=[],u=qe();for(let h of i){a.push(h.batchId);for(let f of h.mutations)u=u.add(f.key)}for(let h of o){c.push(h.batchId);for(let f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:a,addedBatchIds:c}))})})})}function uP(t,e){let n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,h,f){let m=h.batch,D=m.keys(),T=R.resolve();return D.forEach(A=>{T=T.next(()=>f.getEntry(u,A)).next(F=>{let O=h.docVersions.get(A);De(O!==null),F.version.compareTo(O)<0&&(m.applyToRemoteDocument(F,h),F.isValidDocument()&&(F.setReadTime(h.commitVersion),f.addEntry(F)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=qe();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lP(t){let e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function dP(t,e){let n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Lc=class{constructor(){this.activeTargetIds=UR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var yp=class{constructor(){this.so=new Lc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Lc,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var vp=class{_o(e){}shutdown(){}};var jc=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var bc=null;function mf(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}var hP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var _p=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var He="WebChannelConnection",Ip=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){let c=mf(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,o,a),this.No(n,u,h,i).then(f=>(V("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Ac("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,a,c){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){let i=hP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=mf();return new Promise((a,c)=>{let u=new lf;u.setWithCredentials(!0),u.listenOnce(df.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ho.NO_ERROR:let f=u.getResponseJson();V(He,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Ho.TIMEOUT:V(He,`RPC '${e}' ${o} timed out`),c(new L(x.DEADLINE_EXCEEDED,"Request time out"));break;case Ho.HTTP_ERROR:let m=u.getStatus();if(V(He,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let D=u.getResponseJson();Array.isArray(D)&&(D=D[0]);let T=D?.error;if(T&&T.status&&T.message){let A=function(O){let B=O.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(B)>=0?B:x.UNKNOWN}(T.status);c(new L(A,T.message))}else c(new L(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new L(x.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{V(He,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(i);V(He,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Bo(e,n,r){let i=mf(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=pf(),c=ff(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");V(He,`Creating RPC '${e}' stream ${i}: ${f}`,u);let m=a.createWebChannel(f,u),D=!1,T=!1,A=new _p({Io:O=>{T?V(He,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(D||(V(He,`Opening RPC '${e}' stream ${i} transport.`),m.open(),D=!0),V(He,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},To:()=>m.close()}),F=(O,B,q)=>{O.listen(B,Z=>{try{q(Z)}catch(ie){setTimeout(()=>{throw ie},0)}})};return F(m,fi.EventType.OPEN,()=>{T||(V(He,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),F(m,fi.EventType.CLOSE,()=>{T||(T=!0,V(He,`RPC '${e}' stream ${i} transport closed`),A.So())}),F(m,fi.EventType.ERROR,O=>{T||(T=!0,Ac(He,`RPC '${e}' stream ${i} transport errored:`,O),A.So(new L(x.UNAVAILABLE,"The operation could not be completed")))}),F(m,fi.EventType.MESSAGE,O=>{var B;if(!T){let q=O.data[0];De(!!q);let Z=q,ie=Z.error||((B=Z[0])===null||B===void 0?void 0:B.error);if(ie){V(He,`RPC '${e}' stream ${i} received error:`,ie);let Oe=ie.status,te=function(y){let _=be[y];if(_!==void 0)return QR(_)}(Oe),I=ie.message;te===void 0&&(te=x.INTERNAL,I="Unknown error status: "+Oe+" with message "+ie.message),T=!0,A.So(new L(te,I)),m.close()}else V(He,`RPC '${e}' stream ${i} received:`,q),A.bo(q)}}),F(c,hf.STAT_EVENT,O=>{O.stat===wc.PROXY?V(He,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===wc.NOPROXY&&V(He,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function gf(){return typeof document<"u"?document:null}function Jc(t){return new Wf(t,!0)}var Bc=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ep=class{constructor(e,n,r,i,o,a,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bc(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var wp=class extends Ep{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=rP(e.writeResults,e.commitTime),r=gi(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=eP(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>nP(this.serializer,r))};this.a_(n)}};var Dp=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Qf(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(x.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(e,Qf(n,r),i,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new L(x.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Tp=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gr(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var bp=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(()=>S(this,null,function*(){ns(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let h=pe(u);h.L_.add(4),yield ts(h),h.q_.set("Unknown"),h.L_.delete(4),yield Zc(h)})}(this))}))}),this.q_=new Tp(r,i)}};function Zc(t){return S(this,null,function*(){if(ns(t))for(let e of t.B_)yield e(!0)})}function ts(t){return S(this,null,function*(){for(let e of t.B_)yield e(!1)})}function ns(t){return pe(t).L_.size===0}function ew(t,e,n){return S(this,null,function*(){if(!Yc(e))throw e;t.L_.add(1),yield ts(t),t.q_.set("Offline"),n||(n=()=>lP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Zc(t)}))})}function tw(t,e){return e().catch(n=>ew(t,n,e))}function Xc(t){return S(this,null,function*(){let e=pe(t),n=On(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fP(e);)try{let i=yield dP(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,pP(e,i)}catch(i){yield ew(e,i)}nw(e)&&rw(e)})}function fP(t){return ns(t)&&t.O_.length<10}function pP(t,e){t.O_.push(e);let n=On(t);n.r_()&&n.V_&&n.m_(e.mutations)}function nw(t){return ns(t)&&!On(t).n_()&&t.O_.length>0}function rw(t){On(t).start()}function mP(t){return S(this,null,function*(){On(t).p_()})}function gP(t){return S(this,null,function*(){let e=On(t);for(let n of t.O_)e.m_(n.mutations)})}function yP(t,e,n){return S(this,null,function*(){let r=t.O_.shift(),i=Gf.from(r,e,n);yield tw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Xc(t)})}function vP(t,e){return S(this,null,function*(){e&&On(t).V_&&(yield function(r,i){return S(this,null,function*(){if(function(a){return KR(a)&&a!==x.ABORTED}(i.code)){let o=r.O_.shift();On(r).s_(),yield tw(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Xc(r)}})}(t,e)),nw(t)&&rw(t)})}function vE(t,e){return S(this,null,function*(){let n=pe(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=ns(n);n.L_.add(3),yield ts(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Zc(n)})}function _P(t,e){return S(this,null,function*(){let n=pe(t);e?(n.L_.delete(2),yield Zc(n)):e||(n.L_.add(2),yield ts(n),n.q_.set("Unknown"))})}function On(t){return t.U_||(t.U_=function(n,r,i){let o=pe(n);return o.w_(),new wp(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mP.bind(null,t),mo:vP.bind(null,t),f_:gP.bind(null,t),g_:yP.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.U_.s_(),yield Xc(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Cp=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let a=Date.now()+r,c=new t(e,n,a,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function iw(t,e){if(gr("AsyncQueue",`${e}: ${t}`),Yc(t))return new L(x.UNAVAILABLE,`${e}: ${t}`);throw t}var Sp=class{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=pe(n),o=i.queries;i.queries=_E(),o.forEach((a,c)=>{for(let u of c.j_)u.onError(r)})})(this,new L(x.ABORTED,"Firestore shutting down"))}};function _E(){return new kn(t=>BE(t),jE)}function IP(t){t.Y_.forEach(e=>{e.next()})}var IE,EE;(EE=IE||(IE={})).ea="default",EE.Cache="cache";var Ap=class{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new kn(c=>BE(c),jE),this.Ma=new Map,this.xa=new Set,this.Oa=new ct(z.comparator),this.Na=new Map,this.La=new Xo,this.Ba={},this.ka=new Map,this.qa=Zo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function EP(t,e,n){return S(this,null,function*(){let r=bP(t);try{let i=yield function(a,c){let u=pe(a),h=Ge.now(),f=c.reduce((T,A)=>T.add(A.key),qe()),m,D;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=Oc(),F=qe();return u.cs.getEntries(T,f).next(O=>{A=O,A.forEach((B,q)=>{q.isValidDocument()||(F=F.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,A)).next(O=>{m=O;let B=[];for(let q of c){let Z=WR(q,m.get(q.key).overlayedDocument);Z!=null&&B.push(new on(q.key,Z,PE(Z.value.mapValue),pr.exists(!0)))}return u.mutationQueue.addMutationBatch(T,h,B,c)}).next(O=>{D=O;let B=O.applyToLocalDocumentSet(m,F);return u.documentOverlayCache.saveOverlays(T,O.batchId,B)})}).then(()=>({batchId:D.batchId,changes:$E(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,u){let h=a.Ba[a.currentUser.toKey()];h||(h=new ct(he)),h=h.insert(c,u),a.Ba[a.currentUser.toKey()]=h}(r,i.batchId,n),yield eu(r,i.changes),yield Xc(r.remoteStore)}catch(i){let o=iw(i,"Failed to persist write");n.reject(o)}})}function wE(t,e,n){let r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,a)=>{let c=a.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){let u=pe(a);u.onlineState=c;let h=!1;u.queries.forEach((f,m)=>{for(let D of m.j_)D.Z_(c)&&(h=!0)}),h&&IP(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wP(t,e){return S(this,null,function*(){let n=pe(t),r=e.batch.batchId;try{let i=yield uP(n.localStore,e);sw(n,r,null),ow(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield eu(n,i)}catch(i){yield AE(i)}})}function DP(t,e,n){return S(this,null,function*(){let r=pe(t);try{let i=yield function(a,c){let u=pe(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,c).next(m=>(De(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);sw(r,e,n),ow(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield eu(r,i)}catch(i){yield AE(i)}})}function ow(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function sw(t,e,n){let r=pe(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function eu(t,e,n){return S(this,null,function*(){let r=pe(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{a.push(r.Ka(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){let m=h?!h.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);let m=fp.Wi(u.targetId,h);o.push(m)}}))}),yield Promise.all(a),r.Ca.d_(i),yield function(u,h){return S(this,null,function*(){let f=pe(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>R.forEach(h,D=>R.forEach(D.$i,T=>f.persistence.referenceDelegate.addReference(m,D.targetId,T)).next(()=>R.forEach(D.Ui,T=>f.persistence.referenceDelegate.removeReference(m,D.targetId,T)))))}catch(m){if(!Yc(m))throw m;V("LocalStore","Failed to update sequence numbers: "+m)}for(let m of h){let D=m.targetId;if(!m.fromCache){let T=f.os.get(D),A=T.snapshotVersion,F=T.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(D,F)}}})}(r.localStore,o))})}function TP(t,e){return S(this,null,function*(){let n=pe(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield XE(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new L(x.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield eu(n,r.hs)}})}function bP(t){let e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DP.bind(null,e),e}var DE=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=Jc(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return cP(this.persistence,new mp,n.initialUser,this.serializer)}Ga(n){return new lp(hp.Zr,this.serializer)}Wa(n){return new yp}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var CP=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=TP.bind(null,this.syncEngine),yield _P(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Sp}()}createDatastore(n){let r=Jc(n.databaseInfo.databaseId),i=function(a){return new Ip(a)}(n.databaseInfo);return function(a,c,u,h){return new Dp(a,c,u,h)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,a,c,u){return new bp(i,o,a,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>wE(this.syncEngine,r,0),function(){return jc.D()?new jc:new vp}())}createSyncEngine(n,r){return function(o,a,c,u,h,f,m){let D=new Ap(o,a,c,u,h,f);return m&&(D.Qa=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield function(o){return S(this,null,function*(){let a=pe(o);V("RemoteStore","RemoteStore shutting down."),a.L_.add(5),yield ts(a),a.k_.shutdown(),a.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Np=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pe.UNAUTHENTICATED,this.clientId=Mc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,a=>S(this,null,function*(){V("FirestoreClient","Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,a=>(V("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=iw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function yf(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield XE(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function TE(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield SP(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vE(e.remoteStore,i)),t._onlineComponents=e})}function SP(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yf(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ac("Error using user provided cache. Falling back to memory cache: "+n),yield yf(t,new DE)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield yf(t,new DE);return t._offlineComponents})}function AP(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield TE(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield TE(t,new CP))),t._onlineComponents})}function NP(t){return AP(t).then(e=>e.syncEngine)}function aw(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var bE=new Map;function cw(t,e,n){if(!n)throw new L(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MP(t,e,n,r){if(e===!0&&r===!0)throw new L(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CE(t){if(!z.isDocumentKey(t))throw new L(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SE(t){if(z.isDocumentKey(t))throw new L(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $p(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function uw(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=$p(t);throw new L(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Uc=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Mi=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uc({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uc(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vf;switch(r.type){case"firstParty":return new wf(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=bE.get(n);r&&(V("ComponentProvider","Removing Datastore"),bE.delete(n),r.terminate())}(this),Promise.resolve()}};function lw(t,e,n,r={}){var i;let o=(t=uw(t,Mi))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Pe.MOCK_USER;else{c=pI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new L(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Pe(h)}t._authCredentials=new _f(new Nc(c,u))}}var Mp=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},nn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},xn=class t extends Mp{constructor(e,n,r){super(e,n,RR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function dw(t,e,...n){if(t=Ct(t),cw("collection","path",e),t instanceof Mi){let r=Ae.fromString(e,...n);return SE(r),new xn(t,null,r)}{if(!(t instanceof nn||t instanceof xn))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return SE(r),new xn(t.firestore,null,r)}}function hw(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=Mc.newId()),cw("doc","path",e),t instanceof Mi){let r=Ae.fromString(e,...n);return CE(r),new nn(t,null,new z(r))}{if(!(t instanceof nn||t instanceof xn))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return CE(r),new nn(t.firestore,t instanceof xn?t.converter:null,new z(r))}}var $c=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bc(this,"async_queue_retry"),this.Vu=()=>{let r=gf();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=gf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=gf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new tn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yc(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw gr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Cp.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&J()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Hc=class extends Mi{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $c,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new $c(e),this._firestoreClient=void 0,yield e}})}};function fw(t,e){let n=typeof t=="object"?t:Po(),r=typeof t=="string"?t:e||"(default)",i=Hh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=hI("firestore");o&&lw(i,...o)}return i}function xP(t){if(t._terminated)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RP(t),t._firestoreClient}function RP(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,h,f){return new Af(c,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,aw(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Np(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var qc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(rn.fromBase64String(e))}catch(n){throw new L(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Gc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var zc=class{constructor(e){this._methodName=e}};var Wc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var Kc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var PP=/^__.*__$/,xp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new on(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ir(e,this.data,n,this.fieldTransforms)}};function pw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}var Rp=class t{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Qc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(pw(this.Cu)&&PP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Pp=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jc(e)}Qu(e,n,r,i=!1){return new Rp({Cu:e,methodName:n,qu:r,path:at.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function kP(t){let e=t._freezeSettings(),n=Jc(t._databaseId);return new Pp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OP(t,e,n,r,i,o={}){let a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);vw("Data must be an object, but it was:",a,r);let c=gw(r,a),u,h;if(o.merge)u=new Lt(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){let f=[];for(let m of o.mergeFields){let D=FP(e,m,n);if(!a.contains(D))throw new L(x.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);jP(f,D)||f.push(D)}u=new Lt(f),h=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=a.fieldTransforms;return new xp(new Vt(c),u,h)}function mw(t,e){if(yw(t=Ct(t)))return vw("Unsupported field value:",e,t),gw(t,e);if(t instanceof zc)return function(r,i){if(!pw(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],a=0;for(let c of r){let u=mw(c,i.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $R(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ge.fromDate(r);return{timestampValue:Kf(i.serializer,o)}}if(r instanceof Ge){let o=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kf(i.serializer,o)}}if(r instanceof Wc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qc)return{bytesValue:YR(i.serializer,r._byteString)};if(r instanceof nn){let o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:JE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kc)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Up(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${$p(r)}`)}(t,e)}function gw(t,e){let n={};return NE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(t,(r,i)=>{let o=mw(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function yw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Wc||t instanceof qc||t instanceof nn||t instanceof zc||t instanceof Kc)}function vw(t,e,n){if(!yw(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=$p(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function FP(t,e,n){if((e=Ct(e))instanceof Gc)return e._internalPath;if(typeof e=="string")return LP(t,e);throw Qc("Field path arguments must be of type string or ",t,!1,void 0,n)}var VP=new RegExp("[~\\*/\\[\\]]");function LP(t,e,n){if(e.search(VP)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gc(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qc(t,e,n,r,i){let o=r&&!r.isEmpty(),a=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new L(x.INVALID_ARGUMENT,c+t+u)}function jP(t,e){return t.some(n=>n.isEqual(e))}function BP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function _w(t,e){let n=uw(t.firestore,Hc),r=hw(t),i=BP(t.converter,e);return UP(n,[OP(kP(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function UP(t,e){return function(r,i){let o=new tn;return r.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return EP(yield NP(r),i,o)})),o.promise}(xP(t),e)}(function(e,n=!0){(function(i){xi=i})(li),Nn(new ft("firestore",(r,{instanceIdentifier:i,options:o})=>{let a=r.getProvider("app").getImmediate(),c=new Hc(new If(r.getProvider("auth-internal")),new Tf(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new L(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nf(h.options.projectId,f)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Re(oE,"4.7.3",e),Re(oE,"4.7.3","esm2017")})();var Er=class{constructor(e){return e}},Iw="firestore",Hp=class{constructor(){return Oo(Iw)}};var qp=new H("angularfire2.firestore-instances");function $P(t,e){let n=zh(Iw,t,e);return n&&new Er(n)}function HP(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Er(r)}}var qP={provide:Hp,deps:[[new kt,qp]]},GP={provide:Er,useFactory:$P,deps:[[new kt,qp],ur]};function Ew(t,...e){return Re("angularfire",hi.full,"fst"),wo([GP,qP,{provide:qp,useFactory:HP(t),multi:!0,deps:[ve,It,Fo,Vo,[new kt,Ic],[new kt,ko],...e]}])}var ww=cr(_w,!0);var Dw=cr(dw,!0);var Tw=cr(fw,!0);var Ri=(()=>{class t{constructor(n){this.firestore=n,this.cartItems=new Gn([]),this.storageKey="chocolate_cart",this.loadCart()}loadCart(){let n=localStorage.getItem(this.storageKey);n&&this.cartItems.next(JSON.parse(n))}saveCart(n){localStorage.setItem(this.storageKey,JSON.stringify(n)),this.cartItems.next(n)}getCartItems(){return this.cartItems.asObservable()}addToCart(n){let r=this.cartItems.value,i=r.find(o=>o.id===n.id);i?(i.quantity+=1,this.saveCart([...r])):this.saveCart([...r,ue($({},n),{quantity:1})])}removeFromCart(n){let i=this.cartItems.value.filter(o=>o.id!==n);this.saveCart(i)}updateQuantity(n,r){let i=this.cartItems.value,o=i.find(a=>a.id===n);o&&(o.quantity=r,this.saveCart([...i]))}clearCart(){this.saveCart([])}getTotal(){return this.cartItems.value.reduce((n,r)=>n+r.price*r.quantity,0)}saveOrderToFirestore(n){return S(this,null,function*(){let r=Dw(this.firestore,"orders");return(yield ww(r,ue($({},n),{items:this.cartItems.value,total:this.getTotal(),date:new Date}))).id})}static{this.\u0275fac=function(r){return new(r||t)(oe(Er))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var tu=(()=>{class t{constructor(){this.products=[{id:1,name:"Crunchmaster",price:1200,image:"assets/images/crunch-master.png",description:"Crunchy and delicious, this chocolate bar is a perfect blend of nuts and chocolate.",isFeatured:!1},{id:2,name:"Cheri Cheri Lady",price:650,image:"assets/images/cherry-cherry.png",description:"A delightful chocolate bar with a burst of cherry flavor in every bite.",isFeatured:!1},{id:3,name:"Coffee Craze",price:850,image:"assets/images/coffee-craze.png",description:"A rich and creamy coffee-flavored chocolate bar that will keep you coming back for more.",isFeatured:!1},{id:4,name:"Truffle Box",price:1849,image:"assets/images/Truffle-Box Post.JPG",description:"A rich and creamy coffee-flavored chocolate bar that will keep you coming back for more.",isFeatured:!0}]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function KP(t,e){if(t&1){let n=Ka();N(0,"div",9)(1,"div",10)(2,"h3",11),k(3),M(),N(4,"div",12),Ee(5,"img",13),M(),N(6,"div",14)(7,"button",15),Ie("click",function(){let i=Zr(n).$implicit,o=ii(2);return Xr(o.addToCart(i))}),k(8),M()()()()}if(t&2){let n=e.$implicit;fe(3),Tt(n.name),fe(2),Qa("src",n.image,ni),Qa("alt",n.name),fe(3),oi("Add to Cart LKR ",n.price,"")}}function QP(t,e){if(t&1&&(N(0,"div",7),Jt(1,KP,9,4,"div",8),M()),t&2){let n=e.$implicit;fe(),Ye("ngForOf",n)}}var bw=(()=>{class t{constructor(){this.cartService=G(Ri),this.productService=G(tu),this.products=this.productService.products,this.productGroups=[this.products,this.products]}addToCart(n){console.log("Adding to cart:",n),this.cartService.addToCart({id:n.id,name:n.name,price:n.price,image:n.image,quantity:1})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-products"]],decls:9,vars:1,consts:[["id","products",1,"py-20","bg-chocolate-50"],[1,"container","text-center"],[1,"text-4xl","font-bold","text-chocolate-900","text-center","mb-12"],[1,"text-xl","text-chocolate-700","leading-relaxed","max-w-2xl","mx-auto","justify-center"],[1,"overflow-hidden","relative","mt-6"],[1,"flex","animate-scroll"],["class","product-slide flex gap-6 me-6",4,"ngFor","ngForOf"],[1,"product-slide","flex","gap-6","me-6"],["class","w-72 flex-shrink-0 bg-chocolate-100 rounded-xl shadow-lg overflow-hidden transform transition-transform duration-300 hover:scale-105",4,"ngFor","ngForOf"],[1,"w-72","flex-shrink-0","bg-chocolate-100","rounded-xl","shadow-lg","overflow-hidden","transform","transition-transform","duration-300","hover:scale-105"],[1,"group","cursor-pointer","rounded-xl","p-5"],[1,"pt-4","text-xl","font-medium","mb-2","text-chocolate-900","text-center"],[1,"relative","overflow-hidden","mb-6"],[1,"w-full","h-[400px]","object-cover","transition-transform","duration-700","group-hover:scale-110",3,"src","alt"],[1,"flex","justify-center","items-center"],["type","button",1,"bg-chocolate-900","self-center","font-medium","rounded-lg","text-sm","px-4","py-2","text-white","cursor-pointer",3,"click"]],template:function(r,i){r&1&&(N(0,"section",0)(1,"div",1)(2,"h2",2),k(3,"Signature Chocolate Bars"),M(),N(4,"p",3),k(5," Discover our handcrafted chocolate collection, made with organic ingredients and love. "),M(),N(6,"div",4)(7,"div",5),Jt(8,QP,2,1,"div",6),M()()()()),r&2&&(fe(8),Ye("ngForOf",i.productGroups))},dependencies:[Le,ai],styles:[".animate-scroll[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scroll 40s linear infinite}@keyframes _ngcontent-%COMP%_scroll{0%{transform:translate(0)}to{transform:translate(-100%)}}.product-slide[_ngcontent-%COMP%]{flex:0 0 auto}"]})}}return t})();var YP=()=>[];function JP(t,e){t&1&&(N(0,"span",13),k(1,"\u2605"),M())}function ZP(t,e){if(t&1&&(N(0,"div",6)(1,"div",7),Ee(2,"img",8),N(3,"div")(4,"h3",9),k(5),M(),N(6,"div",10),Jt(7,JP,2,0,"span",11),M()()(),N(8,"p",12),k(9),M()()),t&2){let n=e.$implicit;fe(2),Ye("src",n.avatar,ni)("alt",n.name),fe(3),Tt(n.name),fe(2),Ye("ngForOf",U_(5,YP).constructor(n.rating)),fe(2),Tt(n.content)}}var Cw=(()=>{class t{constructor(){this.reviews=[{id:1,name:"Sarah Johnson",avatar:"https://i.pravatar.cc/150?img=1",content:"The dark chocolate truffles are absolutely divine! The smooth texture and rich flavor make them the perfect treat.",rating:5},{id:2,name:"Michael Chen",avatar:"https://i.pravatar.cc/150?img=2",content:"I ordered the Fruit & Nut Collection for my mothers birthday, and she loved every piece. The quality is exceptional",rating:5},{id:3,name:"Emma Davis",avatar:"https://i.pravatar.cc/150?img=3",content:"The hazelnut pralines are incredible. The perfect balance of chocolate and nuts. Will definitely order again!",rating:4}]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-reviews"]],decls:8,vars:1,consts:[["id","reviews",1,"py-20","bg-chocolate-100"],[1,"container","text-center"],[1,"text-4xl","font-bold","text-chocolate-900","text-center","mb-12"],[1,"text-xl","text-chocolate-700","leading-relaxed","max-w-2xl","mx-auto","justify-center","mb-6"],[1,"grid","md:grid-cols-3","gap-8"],["class","bg-white p-6 rounded-xl shadow-lg transform transition-transform duration-300 hover:-translate-y-2",4,"ngFor","ngForOf"],[1,"bg-white","p-6","rounded-xl","shadow-lg","transform","transition-transform","duration-300","hover:-translate-y-2"],[1,"flex","items-center","mb-4"],[1,"w-12","h-12","rounded-full","object-cover","mr-4",3,"src","alt"],[1,"font-semibold","text-chocolate-900"],[1,"flex","text-yellow-400"],["class","text-lg",4,"ngFor","ngForOf"],[1,"text-chocolate-700"],[1,"text-lg"]],template:function(r,i){r&1&&(N(0,"section",0)(1,"div",1)(2,"h2",2),k(3,"Sweet Words from Our Happy Customers"),M(),N(4,"p",3),k(5," Indulgence meets perfection! Don\u2019t just take our word for it, See what our chocolate lovers have to say. "),M(),N(6,"div",4),Jt(7,ZP,10,6,"div",5),M()()()),r&2&&(fe(7),Ye("ngForOf",i.reviews))},dependencies:[Le,ai],encapsulation:2})}}return t})();var Sw=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-about"]],decls:18,vars:0,consts:[["videoElement",""],["id","about",1,"py-20","bg-white"],[1,"container"],[1,"grid","md:grid-cols-2","gap-12","items-end"],[1,"about-image","relative","h-full"],[1,"h-full"],["playsinline","true","loop","loop","muted","muted","preload","metadata","src",qv`https://www.youtube.com/embed/GMVkTRB4B08`,1,"rounded-xl","h-full"],[1,"about-content"],[1,"text-4xl","font-bold","text-chocolate-900","mb-6"],[1,"text-lg","text-chocolate-700","mb-6"],[1,"text-lg","text-chocolate-700","leading-relaxed","mb-6"],[1,"text-lg","text-chocolate-700","leading-relaxed"]],template:function(r,i){r&1&&(N(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),Ee(5,"iframe",6,0),M()(),N(7,"div",7)(8,"h2",8),k(9,"Our Story"),M(),N(10,"p",9),k(11," Since 1998, we've been crafting the finest chocolates using traditional techniques and the highest quality ingredients. Our passion for chocolate-making has been passed down through generations, ensuring each piece is a masterpiece of flavor and artistry. "),M(),N(12,"p",10),k(13," At NutsOnTop, we don\u2019t just make chocolate\u2014we create experiences. Our handcrafted, bold, and fun flavors are designed to excite your taste buds. From Sri Lanka\u2019s first Peanut Butter & Jelly Truffle to our Coffee Craze bar, we push the boundaries of chocolate. "),M(),N(14,"p",10),k(15," We focus on affordable indulgence, high-quality ingredients, and flavors that stand out. Every bar, truffle, and bite is made with passion to give you a chocolate experience like no other. "),M(),N(16,"p",11),k(17," \u{1F680} Handmade. Bold. Delicious. "),M()()()()())},dependencies:[Le],encapsulation:2})}}return t})();var Fw=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ce(To),ce(ti))};static \u0275dir=Dt({type:t})}return t})(),XP=(()=>{class t extends Fw{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Tv(t)))(i||t)}})();static \u0275dir=Dt({type:t,features:[Tn]})}return t})(),Vw=new H("");var ek={provide:Vw,useExisting:Yr(()=>du),multi:!0};function tk(){let t=si()?si().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var nk=new H(""),du=(()=>{class t extends Fw{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!tk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ce(To),ce(ti),ce(nk,8))};static \u0275dir=Dt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ie("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[Ya([ek]),Tn]})}return t})();function Fn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Lw(t){return t!=null&&typeof t.length=="number"}var jw=new H(""),Bw=new H(""),rk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,wr=class{static min(e){return ik(e)}static max(e){return ok(e)}static required(e){return sk(e)}static requiredTrue(e){return ak(e)}static email(e){return ck(e)}static minLength(e){return uk(e)}static maxLength(e){return lk(e)}static pattern(e){return dk(e)}static nullValidator(e){return Uw(e)}static compose(e){return Ww(e)}static composeAsync(e){return Qw(e)}};function ik(t){return e=>{if(Fn(e.value)||Fn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function ok(t){return e=>{if(Fn(e.value)||Fn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function sk(t){return Fn(t.value)?{required:!0}:null}function ak(t){return t.value===!0?null:{required:!0}}function ck(t){return Fn(t.value)||rk.test(t.value)?null:{email:!0}}function uk(t){return e=>Fn(e.value)||!Lw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function lk(t){return e=>Lw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function dk(t){if(!t)return Uw;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Fn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Uw(t){return null}function $w(t){return t!=null}function Hw(t){return ri(t)?pl(t):t}function qw(t){let e={};return t.forEach(n=>{e=n!=null?$($({},e),n):e}),Object.keys(e).length===0?null:e}function Gw(t,e){return e.map(n=>n(t))}function hk(t){return!t.validate}function zw(t){return t.map(e=>hk(e)?e:n=>e.validate(n))}function Ww(t){if(!t)return null;let e=t.filter($w);return e.length==0?null:function(n){return qw(Gw(n,e))}}function Kw(t){return t!=null?Ww(zw(t)):null}function Qw(t){if(!t)return null;let e=t.filter($w);return e.length==0?null:function(n){let r=Gw(n,e).map(Hw);return ml(r).pipe(Wn(qw))}}function Yw(t){return t!=null?Qw(zw(t)):null}function Aw(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Jw(t){return t._rawValidators}function Zw(t){return t._rawAsyncValidators}function Gp(t){return t?Array.isArray(t)?t:[t]:[]}function iu(t,e){return Array.isArray(t)?t.includes(e):t===e}function Nw(t,e){let n=Gp(e);return Gp(t).forEach(i=>{iu(n,i)||n.push(i)}),n}function Mw(t,e){return Gp(e).filter(n=>!iu(t,n))}var ou=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Kw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Yw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Oi=class extends ou{name;get formDirective(){return null}get path(){return null}},as=class extends ou{_parent=null;name=null;valueAccessor=null},su=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},fk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},VU=ue($({},fk),{"[class.ng-submitted]":"isSubmitted"}),Xw=(()=>{class t extends su{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ce(as,2))};static \u0275dir=Dt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&bn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Tn]})}return t})(),eD=(()=>{class t extends su{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ce(Oi,10))};static \u0275dir=Dt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&bn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Tn]})}return t})();var rs="VALID",nu="INVALID",Pi="PENDING",is="DISABLED",Vn=class{},au=class extends Vn{value;source;constructor(e,n){super(),this.value=e,this.source=n}},os=class extends Vn{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},ss=class extends Vn{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ki=class extends Vn{status;source;constructor(e,n){super(),this.status=e,this.source=n}},zp=class extends Vn{source;constructor(e){super(),this.source=e}},Wp=class extends Vn{source;constructor(e){super(),this.source=e}};function Yp(t){return(hu(t)?t.validators:t)||null}function pk(t){return Array.isArray(t)?Kw(t):t||null}function Jp(t,e){return(hu(e)?e.asyncValidators:t)||null}function mk(t){return Array.isArray(t)?Yw(t):t||null}function hu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function tD(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[n])throw new U(1001,"")}function nD(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new U(1002,"")})}var Fi=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bt(this.statusReactive)}set status(e){bt(()=>this.statusReactive.set(e))}_status=Co(()=>this.statusReactive());statusReactive=ir(void 0);get valid(){return this.status===rs}get invalid(){return this.status===nu}get pending(){return this.status==Pi}get disabled(){return this.status===is}get enabled(){return this.status!==is}errors;get pristine(){return bt(this.pristineReactive)}set pristine(e){bt(()=>this.pristineReactive.set(e))}_pristine=Co(()=>this.pristineReactive());pristineReactive=ir(!0);get dirty(){return!this.pristine}get touched(){return bt(this.touchedReactive)}set touched(e){bt(()=>this.touchedReactive.set(e))}_touched=Co(()=>this.touchedReactive());touchedReactive=ir(!1);get untouched(){return!this.touched}_events=new qt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Nw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Nw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Mw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Mw(e,this._rawAsyncValidators))}hasValidator(e){return iu(this._rawValidators,e)}hasAsyncValidator(e){return iu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue($({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ss(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ss(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue($({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new os(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new os(!0,r))}markAsPending(e={}){this.status=Pi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ki(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue($({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=is,this.errors=null,this._forEachChild(i=>{i.disable(ue($({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new au(this.value,r)),this._events.next(new ki(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue($({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=rs,this._forEachChild(r=>{r.enable(ue($({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue($({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rs||this.status===Pi)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new au(this.value,n)),this._events.next(new ki(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue($({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?is:rs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Pi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Hw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ki(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new it,this.statusChanges=new it}_calculateStatus(){return this._allControlsDisabled()?is:this.errors?nu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pi)?Pi:this._anyControlsHaveStatus(nu)?nu:rs}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new os(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ss(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=pk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=mk(this._rawAsyncValidators)}},cu=class extends Fi{constructor(e,n,r){super(Yp(n),Jp(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){nD(this,!0,e),Object.keys(e).forEach(r=>{tD(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Kp=class extends cu{};var Zp=new H("CallSetDisabledState",{providedIn:"root",factory:()=>fu}),fu="always";function gk(t,e){return[...e.path,t]}function xw(t,e,n=fu){Xp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),vk(t,e),Ik(t,e),_k(t,e),yk(t,e)}function Rw(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),lu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function uu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function yk(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Xp(t,e){let n=Jw(t);e.validator!==null?t.setValidators(Aw(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Zw(t);e.asyncValidator!==null?t.setAsyncValidators(Aw(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();uu(e._rawValidators,i),uu(e._rawAsyncValidators,i)}function lu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Jw(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Zw(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return uu(e._rawValidators,r),uu(e._rawAsyncValidators,r),n}function vk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&rD(t,e)})}function _k(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&rD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function rD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ik(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Ek(t,e){t==null,Xp(t,e)}function wk(t,e){return lu(t,e)}function Dk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Tk(t){return Object.getPrototypeOf(t.constructor)===XP}function bk(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ck(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===du?n=o:Tk(o)?r=o:i=o}),i||r||n||null}function Sk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Pw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ru=class extends Fi{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(Yp(n),Jp(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(kw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Pw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Pw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ak=t=>t instanceof ru;var iD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Dt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var oD=new H("");var Nk={provide:Oi,useExisting:Yr(()=>em)},em=(()=>{class t extends Oi{callSetDisabledState;get submitted(){return bt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Co(()=>this._submittedReactive());_submittedReactive=ir(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new it;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return xw(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Rw(n.control||null,n,!1),Sk(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),bk(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new zp(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Wp(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(Rw(r||null,n),Ak(i)&&(xw(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);Ek(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&wk(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xp(this.form,this),this._oldForm&&lu(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||t)(ce(jw,10),ce(Bw,10),ce(Zp,8))};static \u0275dir=Dt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ie("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ya([Nk]),Tn,Va]})}return t})();var Mk={provide:as,useExisting:Yr(()=>tm)},tm=(()=>{class t extends as{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new it;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,a){super(),this._ngModelWarningConfig=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ck(this,o)}ngOnChanges(n){this._added||this._setUpControl(),Dk(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return gk(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(ce(Oi,13),ce(jw,10),ce(Bw,10),ce(Vw,10),ce(oD,8))};static \u0275dir=Dt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ya([Mk]),Tn,Va]})}return t})();var sD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=or({type:t});static \u0275inj=rr({})}return t})(),Qp=class extends Fi{constructor(e,n,r){super(Yp(n),Jp(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){nD(this,!1,e),e.forEach((r,i)=>{tD(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Ow(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var aD=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return Ow(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new cu(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Kp(i,r)}control(n,r,i){let o={};return this.useNonNullable?(Ow(r)?o=r:(o.validators=r,o.asyncValidators=i),new ru(n,ue($({},o),{nonNullable:!0}))):new ru(n,r,i)}array(n,r,i){let o=n.map(a=>this._createControl(a));return new Qp(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof ru)return n;if(n instanceof Fi)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var cD=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Zp,useValue:n.callSetDisabledState??fu}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=or({type:t});static \u0275inj=rr({imports:[sD]})}return t})(),uD=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:oD,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Zp,useValue:n.callSetDisabledState??fu}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=or({type:t});static \u0275inj=rr({imports:[sD]})}return t})();var pt=class{constructor(e=0,n="Network Error"){this.status=e,this.text=n}};var lD=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}};var Te={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:lD()};var Vi=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{};var dD=(t,e="https://api.emailjs.com")=>{if(!t)return;let n=Vi(t);Te.publicKey=n.publicKey,Te.blockHeadless=n.blockHeadless,Te.storageProvider=n.storageProvider,Te.blockList=n.blockList,Te.limitRate=n.limitRate,Te.origin=n.origin||e};var pu=(r,i,...o)=>S(void 0,[r,i,...o],function*(t,e,n={}){let a=yield fetch(Te.origin+t,{method:"POST",headers:n,body:e}),c=yield a.text(),u=new pt(a.status,c);if(a.ok)return u;throw u});var mu=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"};var hD=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"};var gu=t=>t.webdriver||!t.languages||t.languages.length===0;var yu=()=>new pt(451,"Unavailable For Headless Browser");var fD=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"};var Rk=t=>!t.list?.length||!t.watchVariable,Pk=(t,e)=>t instanceof FormData?t.get(e):t[e],vu=(t,e)=>{if(Rk(t))return!1;fD(t.list,t.watchVariable);let n=Pk(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)};var _u=()=>new pt(403,"Forbidden");var pD=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"};var kk=(t,e,n)=>S(void 0,null,function*(){let r=Number((yield n.get(t))||0);return e-Date.now()+r}),Iu=(t,e,n)=>S(void 0,null,function*(){if(!e.throttle||!n)return!1;pD(e.throttle,e.id);let r=e.id||t;return(yield kk(r,e.throttle,n))>0?!0:(yield n.set(r,Date.now().toString()),!1)});var Eu=()=>new pt(429,"Too Many Requests");var mD=(t,e,n,r)=>S(void 0,null,function*(){let i=Vi(r),o=i.publicKey||Te.publicKey,a=i.blockHeadless||Te.blockHeadless,c=i.storageProvider||Te.storageProvider,u=$($({},Te.blockList),i.blockList),h=$($({},Te.limitRate),i.limitRate);return a&&gu(navigator)?Promise.reject(yu()):(mu(o,t,e),hD(n),n&&vu(u,n)?Promise.reject(_u()):(yield Iu(location.pathname,h,c))?Promise.reject(Eu()):pu("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))});var gD=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"};var Ok=t=>typeof t=="string"?document.querySelector(t):t,yD=(t,e,n,r)=>S(void 0,null,function*(){let i=Vi(r),o=i.publicKey||Te.publicKey,a=i.blockHeadless||Te.blockHeadless,c=Te.storageProvider||i.storageProvider,u=$($({},Te.blockList),i.blockList),h=$($({},Te.limitRate),i.limitRate);if(a&&gu(navigator))return Promise.reject(yu());let f=Ok(n);mu(o,t,e),gD(f);let m=new FormData(f);return vu(u,m)?Promise.reject(_u()):(yield Iu(location.pathname,h,c))?Promise.reject(Eu()):(m.append("lib_version","4.4.1"),m.append("service_id",t),m.append("template_id",e),m.append("user_id",o),pu("/api/v1.0/email/send-form",m))});var vD={init:dD,send:mD,sendForm:yD,EmailJSResponseStatus:pt};var _D=(()=>{class t{constructor(n){this.fb=n,this.isSubmitting=!1,this.contactForm=this.fb.group({name:["",wr.required],email:["",[wr.required,wr.email]],message:["",wr.required]})}onSubmit(){return S(this,null,function*(){if(this.contactForm.valid){this.isSubmitting=!0;try{yield vD.send("service_gt5zaur","template_91r34yw",{from_name:this.contactForm.value.name,from_email:this.contactForm.value.email,message:this.contactForm.value.message},"EBd1beACoFjqT4f04"),this.contactForm.reset(),alert("Message sent successfully!")}catch(n){console.error("Error sending message:",n),alert("Failed to send message. Please try again.")}finally{this.isSubmitting=!1}}})}openWhatsapp(){window.open("https://wa.me/+94740946220","_blank")}static{this.\u0275fac=function(r){return new(r||t)(ce(aD))}}static{this.\u0275cmp=xe({type:t,selectors:[["app-footer"]],decls:69,vars:3,consts:[[1,"bg-chocolate-900","text-white","py-12"],[1,"container","mx-auto","px-4"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-8"],[1,"text-2xl","font-bold","mb-4"],[1,"text-chocolate-200","mb-4"],[1,"space-y-2"],[1,"flex","items-center"],[1,"mr-2"],[1,"flex","items-center","cursor-pointer",3,"click"],["href","mailto:hello@nutsontop.com",1,"text-chocolate-200","hover:text-white","transition-colors"],[1,"text-xl","font-semibold","mb-4"],["href","#",1,"text-chocolate-200","hover:text-white","transition-colors"],["href","#products",1,"text-chocolate-200","hover:text-white","transition-colors"],["href","#about",1,"text-chocolate-200","hover:text-white","transition-colors"],["href","#reviews",1,"text-chocolate-200","hover:text-white","transition-colors"],[1,"text-chocolate-200","hover:text-white","transition-colors"],[1,"mb-4"],["href","https://www.instagram.com/nutsontopchocolates/",1,"hover:underline"],["href","https://www.tiktok.com/@nutsontop",1,"hover:underline"],["href","https://www.facebook.com/nutsontop/",1,"hover:underline"],["href","https://www.youtube.com/channel/UCBVfFkxrHOqKua2ybmKURHw",1,"hover:underline"],[1,"col-span-2"],[1,"space-y-4",3,"ngSubmit","formGroup"],["type","text","formControlName","name","placeholder","Your Name",1,"w-full","px-4","py-2","rounded","bg-chocolate-800","text-white","placeholder-chocolate-400","border","border-chocolate-700","focus:outline-none","focus:border-chocolate-500"],["type","email","formControlName","email","placeholder","Your Email",1,"w-full","px-4","py-2","rounded","bg-chocolate-800","text-white","placeholder-chocolate-400","border","border-chocolate-700","focus:outline-none","focus:border-chocolate-500"],["formControlName","message","placeholder","Your Message","rows","4",1,"w-full","px-4","py-2","rounded","bg-chocolate-800","text-white","placeholder-chocolate-400","border","border-chocolate-700","focus:outline-none","focus:border-chocolate-500"],["type","submit",1,"w-full","bg-chocolate-600","text-white","py-2","rounded","hover:bg-chocolate-700","transition-colors","disabled:opacity-50",3,"disabled"],[1,"mt-8","pt-8","border-t","border-chocolate-700","text-center","text-chocolate-400"]],template:function(r,i){r&1&&(N(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),k(5,"Nuts On Top"),M(),N(6,"p",4),k(7," Handmade. Bold. Delicious. "),M(),N(8,"div",5)(9,"p",6)(10,"span",7),k(11,"\u{1F4CD}"),M(),k(12," 123 Chocolate Avenue, Colombo 05 "),M(),N(13,"p",8),Ie("click",function(){return i.openWhatsapp()}),N(14,"span",7),k(15,"\u{1F4DE}"),M(),k(16," +94 74 094 6220 "),M(),N(17,"p",6)(18,"span",7),k(19,"\u2709\uFE0F"),M(),N(20,"a",9),k(21,"hello@nutsontop.com"),M()()()(),N(22,"div")(23,"h3",10),k(24,"Quick Links"),M(),N(25,"ul",5)(26,"li")(27,"a",11),k(28,"Home"),M()(),N(29,"li")(30,"a",12),k(31,"Products"),M()(),N(32,"li")(33,"a",13),k(34,"About Us"),M()(),N(35,"li")(36,"a",14),k(37,"Reviews"),M()()()(),N(38,"div")(39,"h3",10),k(40,"Follow us"),M(),N(41,"ul",15)(42,"li",16)(43,"a",17),k(44,"Instagram"),M()(),N(45,"li",16)(46,"a",18),k(47,"TikTok"),M()(),N(48,"li",16)(49,"a",19),k(50,"Facebook"),M()(),N(51,"li")(52,"a",20),k(53,"YouTube"),M()()()(),N(54,"div",21)(55,"h3",10),k(56,"Contact Us"),M(),N(57,"form",22),Ie("ngSubmit",function(){return i.onSubmit()}),N(58,"div"),Ee(59,"input",23),M(),N(60,"div"),Ee(61,"input",24),M(),N(62,"div"),Ee(63,"textarea",25),M(),N(64,"button",26),k(65),M()()()(),N(66,"div",27)(67,"p"),k(68,"\xA9 2025 Nuts On Top. All rights reserved."),M()()()()),r&2&&(fe(57),Ye("formGroup",i.contactForm),fe(7),Ye("disabled",!i.contactForm.valid||i.isSubmitting),fe(),oi(" ",i.isSubmitting?"Sending...":"Send Message"," "))},dependencies:[Le,cD,iD,du,Xw,eD,uD,em,tm],encapsulation:2})}}return t})();function Fk(t,e){if(t&1){let n=Ka();N(0,"div",11),Ee(1,"img",12),N(2,"div",13)(3,"h3",14),k(4),M(),N(5,"p",15),k(6),M(),N(7,"div",16)(8,"button",17),Ie("click",function(){let i=Zr(n).$implicit,o=ii();return Xr(o.updateQuantity(i.id,i.quantity-1))}),k(9,"-"),M(),N(10,"span"),k(11),M(),N(12,"button",18),Ie("click",function(){let i=Zr(n).$implicit,o=ii();return Xr(o.updateQuantity(i.id,i.quantity+1))}),k(13,"+"),M(),N(14,"button",19),Ie("click",function(){let i=Zr(n).$implicit,o=ii();return Xr(o.removeFromCart(i.id))}),k(15," Remove "),M()()()()}if(t&2){let n=e.$implicit;fe(),Ye("src",n.image,ni)("alt",n.name),fe(3),Tt(n.name),fe(2),Tt(n.price),fe(2),Ye("disabled",n.quantity<=1),fe(3),Tt(n.quantity)}}var ID=(()=>{class t{constructor(n){this.cartService=n,this.isOpen=A_(!1),this.cartItems$=this.cartService.getCartItems(),this.total$=new ye(r=>{this.cartItems$.subscribe(()=>{r.next(this.cartService.getTotal())})})}ngOnInit(){}toggleCart(){this.isOpen.update(n=>!n)}removeFromCart(n){this.cartService.removeFromCart(n)}updateQuantity(n,r){r>0&&this.cartService.updateQuantity(n,r)}checkout(){console.log("Proceeding to checkout")}static{this.\u0275fac=function(r){return new(r||t)(ce(Ri))}}static{this.\u0275cmp=xe({type:t,selectors:[["app-cart"]],inputs:{isOpen:[1,"isOpen"]},outputs:{isOpen:"isOpenChange"},decls:20,vars:10,consts:[[1,"fixed","right-0","top-0","h-screen","w-96","bg-white","shadow-lg","transform","transition-transform","duration-300","z-50"],[1,"p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-chocolate-900"],[1,"text-chocolate-600","hover:text-chocolate-900",3,"click"],[1,"text-2xl"],[1,"space-y-4"],["class","flex items-center space-x-4 p-4 bg-chocolate-50 rounded-lg",4,"ngFor","ngForOf"],[1,"mt-6","border-t","pt-4"],[1,"flex","justify-between","text-lg","font-semibold","mb-4"],[1,"w-full","bg-chocolate-600","text-white","py-3","rounded-lg","hover:bg-chocolate-700","transition-colors",3,"click"],[1,"flex","items-center","space-x-4","p-4","bg-chocolate-50","rounded-lg"],[1,"w-16","h-16","object-cover","rounded",3,"src","alt"],[1,"flex-1"],[1,"font-semibold","text-chocolate-900"],[1,"text-chocolate-600"],[1,"flex","items-center","space-x-2","mt-2"],[1,"px-2","py-1","bg-chocolate-200","rounded",3,"click","disabled"],[1,"px-2","py-1","bg-chocolate-200","rounded",3,"click"],[1,"ml-4","text-red-500","hover:text-red-700",3,"click"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),k(4,"Your Cart"),M(),N(5,"button",4),Ie("click",function(){return i.toggleCart()}),N(6,"span",5),k(7,"\xD7"),M()()(),N(8,"div",6),Jt(9,Fk,16,6,"div",7),sh(10,"async"),M(),N(11,"div",8)(12,"div",9)(13,"span"),k(14,"Total:"),M(),N(15,"span"),k(16),sh(17,"async"),M()(),N(18,"button",10),Ie("click",function(){return i.checkout()}),k(19," Proceed to Checkout "),M()()()()),r&2&&(bn("translate-x-0",i.isOpen())("translate-x-full",!i.isOpen()),fe(9),Ye("ngForOf",ah(10,6,i.cartItems$)),fe(7),Tt(ah(17,8,i.total$)))},dependencies:[Le,ai,K_],encapsulation:2})}}return t})();var ED=(()=>{class t{constructor(){this.productService=G(tu),this.featuredProduct=this.productService.products.find(n=>n.isFeatured),this.cartService=G(Ri)}addToCart(){console.log("Adding to cart:",this.featuredProduct),this.featuredProduct&&this.cartService.addToCart({id:this.featuredProduct.id,name:this.featuredProduct.name,price:this.featuredProduct.price,image:this.featuredProduct.image,quantity:1})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-featuring-item"]],decls:38,vars:0,consts:[[1,"pt-24","bg-chocolate-100","mx-auto"],[1,"text-center","mb-16"],[1,"text-4xl","font-bold","text-chocolate-900","text-center","mb-12"],[1,"text-xl","text-chocolate-700","leading-relaxed","max-w-2xl","mx-auto","justify-center"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-16","items-center","text-chocolate-900"],[1,"px-20"],[1,"text-4xl","font-bold","text-chocolate-900","mb-8"],[1,"text-lg","leading-relaxed","mb-6"],[1,"text-lg","leading-relaxed"],[1,"list-disc","list-inside","ps-5","text-lg"],[1,"text-2xl","leading-relaxed","mt-8","text-center","font-semibold"],[1,"flex","justify-center","items-center","mt-4"],["type","button",1,"bg-chocolate-900","self-center","font-medium","rounded-lg","text-sm","px-4","py-2","text-white","cursor-pointer",3,"click"],["src","assets/images/Truffle-Box Post.JPG","alt","Chocolate making process",1,"w-full","h-full","object-cover"]],template:function(r,i){r&1&&(N(0,"section",0)(1,"div",1)(2,"h2",2),k(3,"Limited Edition Indulgence"),M(),N(4,"p",3),k(5," A Rare Treat - Here for a Limited Time!. "),M()(),N(6,"div",4)(7,"div",5)(8,"h2",6),k(9,"Valentine\u2019s Edition Truffle Box \u2764\uFE0F\u{1F36B}"),M(),N(10,"p",7),k(11," 6 Decadent Flavors, One Unforgettable Box! "),M(),N(12,"p",7),k(13," Indulge in Sri Lanka\u2019s first-ever Peanut Butter & Jelly truffle and Coconut Fudge truffle, alongside 4 other decadent, handcrafted flavors\u2014all wrapped up in the perfect Valentine\u2019s treat. "),M(),N(14,"p",7),k(15," A Truffle Box That Loves You Back! Perfect for gifting, sharing, or indulging solo. "),M(),N(16,"p",8),k(17," Flavors Inside: "),M(),N(18,"ul",9)(19,"li"),k(20,"Sri Lanka\u2019s First PB&J Truffle"),M(),N(21,"li"),k(22,"Sri Lanka\u2019s First Coconut Fudge Truffle"),M(),N(23,"li"),k(24,"Strawberry Filling"),M(),N(25,"li"),k(26,"Cherry Filling"),M(),N(27,"li"),k(28,"Butterscotch Filling"),M(),N(29,"li"),k(30,"Chocolate Fudge"),M()(),N(31,"p",10),k(32," \u{1F4E6} Limited Edition \u2013 Order Now "),M(),N(33,"div",11)(34,"button",12),Ie("click",function(){return i.addToCart()}),k(35,"Add to Cart LKR 1849.00 "),M()()(),N(36,"div"),Ee(37,"img",13),M()()())},encapsulation:2})}}return t})();var wD=(()=>{class t{constructor(){this.title="NutsonTop",this.isOpen=ir(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"min-h-screen","bg-white"],[3,"cartToggle"],[3,"isOpenChange","isOpen"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"app-navbar",1),Ie("cartToggle",function(a){return i.isOpen.set(a)}),M(),Ee(2,"app-hero")(3,"app-featuring-item")(4,"app-products")(5,"app-reviews")(6,"app-about")(7,"app-footer"),N(8,"app-cart",2),oh("isOpenChange",function(a){return j_(i.isOpen,a)||(i.isOpen=a),a}),M()()),r&2&&(fe(8),ih("isOpen",i.isOpen))},dependencies:[Le,sI,aI,bw,Cw,Sw,_D,ID,ED],encapsulation:2})}}return t})();var Vk={apiKey:"your-api-key",authDomain:"your-auth-domain",projectId:"your-project-id",storageBucket:"your-storage-bucket",messagingSenderId:"your-messaging-sender-id",appId:"your-app-id"};oI(wD,{providers:[FI(()=>VI(Vk)),Ew(()=>Tw())]}).catch(t=>console.error(t));
