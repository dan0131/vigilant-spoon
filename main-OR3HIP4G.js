var $b=Object.defineProperty,Hb=Object.defineProperties;var qb=Object.getOwnPropertyDescriptors;var zg=Object.getOwnPropertySymbols;var zb=Object.prototype.hasOwnProperty,Gb=Object.prototype.propertyIsEnumerable;var Gg=(t,e,n)=>e in t?$b(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$=(t,e)=>{for(var n in e||={})zb.call(e,n)&&Gg(t,n,e[n]);if(zg)for(var n of zg(e))Gb.call(e,n)&&Gg(t,n,e[n]);return t},he=(t,e)=>Hb(t,qb(e));var T=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(d){i(d)}},s=u=>{try{c(n.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function El(t,e){return Object.is(t,e)}var ke=null,Hs=!1,Dl=1,ht=Symbol("SIGNAL");function ee(t){let e=ke;return ke=t,e}function Wg(){return ke}var Eo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zs(t){if(Hs)throw new Error("");if(ke===null)return;ke.consumerOnSignalRead(t);let e=ke.nextProducerIndex++;if(Ks(ke),e<ke.producerNode.length&&ke.producerNode[e]!==t&&wo(ke)){let n=ke.producerNode[e];Ws(n,ke.producerIndexOfThis[e])}ke.producerNode[e]!==t&&(ke.producerNode[e]=t,ke.producerIndexOfThis[e]=wo(ke)?Yg(t,ke,e):0),ke.producerLastReadVersion[e]=t.version}function Wb(){Dl++}function bl(t){if(!(wo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Dl)){if(!t.producerMustRecompute(t)&&!Cl(t)){wl(t);return}t.producerRecomputeValue(t),wl(t)}}function Kg(t){if(t.liveConsumerNode===void 0)return;let e=Hs;Hs=!0;try{for(let n of t.liveConsumerNode)n.dirty||Kb(n)}finally{Hs=e}}function Qg(){return ke?.consumerAllowSignalWrites!==!1}function Kb(t){t.dirty=!0,Kg(t),t.consumerMarkedDirty?.(t)}function wl(t){t.dirty=!1,t.lastCleanEpoch=Dl}function Gs(t){return t&&(t.nextProducerIndex=0),ee(t)}function Tl(t,e){if(ee(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(wo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ws(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Cl(t){Ks(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(bl(n),r!==n.version))return!0}return!1}function Sl(t){if(Ks(t),wo(t))for(let e=0;e<t.producerNode.length;e++)Ws(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yg(t,e,n){if(Jg(t),t.liveConsumerNode.length===0&&Zg(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Yg(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ws(t,e){if(Jg(t),t.liveConsumerNode.length===1&&Zg(t))for(let r=0;r<t.producerNode.length;r++)Ws(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ks(i),i.producerIndexOfThis[r]=e}}function wo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ks(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Jg(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Zg(t){return t.producerNode!==void 0}function Xg(t){let e=Object.create(Qb);e.computation=t;let n=()=>{if(bl(e),zs(e),e.value===qs)throw e.error;return e.value};return n[ht]=e,n}var _l=Symbol("UNSET"),Il=Symbol("COMPUTING"),qs=Symbol("ERRORED"),Qb=he($({},Eo),{value:_l,dirty:!0,error:null,equal:El,producerMustRecompute(t){return t.value===_l||t.value===Il},producerRecomputeValue(t){if(t.value===Il)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Il;let n=Gs(t),r;try{r=t.computation()}catch(i){r=qs,t.error=i}finally{Tl(t,n)}if(e!==_l&&e!==qs&&r!==qs&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Yb(){throw new Error}var ey=Yb;function ty(){ey()}function ny(t){ey=t}var Jb=null;function ry(t){let e=Object.create(Al);e.value=t;let n=()=>(zs(e),e.value);return n[ht]=e,n}function Do(t,e){Qg()||ty(),t.equal(t.value,e)||(t.value=e,Zb(t))}function iy(t,e){Qg()||ty(),Do(t,e(t.value))}var Al=he($({},Eo),{equal:El,value:void 0});function Zb(t){t.version++,Wb(),Kg(t),Jb?.()}function se(t){return typeof t=="function"}function Qs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ys=Qs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function rr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(o){e=o instanceof Ys?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{oy(o)}catch(s){e=e??[],s instanceof Ys?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ys(e)}}add(e){var n;if(e&&e!==this)if(this.closed)oy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&rr(n,e)}remove(e){let{_finalizers:n}=this;n&&rr(n,e),e instanceof t&&e._removeParent(this)}};Be.EMPTY=(()=>{let t=new Be;return t.closed=!0,t})();var Nl=Be.EMPTY;function Js(t){return t instanceof Be||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function oy(t){se(t)?t():t.unsubscribe()}var At={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yr={setTimeout(t,e,...n){let{delegate:r}=Yr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Yr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Zs(t){Yr.setTimeout(()=>{let{onUnhandledError:e}=At;if(e)e(t);else throw t})}function xl(){}var sy=Ml("C",void 0,void 0);function ay(t){return Ml("E",void 0,t)}function cy(t){return Ml("N",t,void 0)}function Ml(t,e,n){return{kind:t,value:e,error:n}}var ir=null;function Jr(t){if(At.useDeprecatedSynchronousErrorHandling){let e=!ir;if(e&&(ir={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ir;if(ir=null,n)throw r}}else t()}function uy(t){At.useDeprecatedSynchronousErrorHandling&&ir&&(ir.errorThrown=!0,ir.error=t)}var or=class extends Be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Js(e)&&e.add(this)):this.destination=tT}static create(e,n,r){return new Zr(e,n,r)}next(e){this.isStopped?Pl(cy(e),this):this._next(e)}error(e){this.isStopped?Pl(ay(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pl(sy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Xb=Function.prototype.bind;function Rl(t,e){return Xb.call(t,e)}var kl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Xs(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Xs(r)}else Xs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xs(n)}}},Zr=class extends or{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&At.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Rl(e.next,o),error:e.error&&Rl(e.error,o),complete:e.complete&&Rl(e.complete,o)}):i=e}this.destination=new kl(i)}};function Xs(t){At.useDeprecatedSynchronousErrorHandling?uy(t):Zs(t)}function eT(t){throw t}function Pl(t,e){let{onStoppedNotification:n}=At;n&&Yr.setTimeout(()=>n(t,e))}var tT={closed:!0,next:xl,error:eT,complete:xl};var Xr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ea(t){return t}function ly(t){return t.length===0?ea:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=rT(n)?n:new Zr(n,r,i);return Jr(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=dy(r),new r((i,o)=>{let s=new Zr({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Xr](){return this}pipe(...n){return ly(n)(this)}toPromise(n){return n=dy(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function dy(t){var e;return(e=t??At.Promise)!==null&&e!==void 0?e:Promise}function nT(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function rT(t){return t&&t instanceof or||nT(t)&&Js(t)}function iT(t){return se(t?.lift)}function In(t){return e=>{if(iT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function wn(t,e,n,r,i){return new Ol(t,e,n,r,i)}var Ol=class extends or{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var hy=Qs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tn=(()=>{class t extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ta(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new hy}next(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Nl:(this.currentObservers=null,o.push(n),new Be(()=>{this.currentObservers=null,rr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ge;return n.source=this,n}}return t.create=(e,n)=>new ta(e,n),t})(),ta=class extends tn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Nl}};var sr=class extends tn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fl={now(){return(Fl.delegate||Date).now()},delegate:void 0};var na=class extends Be{constructor(e,n){super()}schedule(e,n=0){return this}};var bo={setInterval(t,e,...n){let{delegate:r}=bo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=bo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ei=class extends na{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return bo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&bo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,rr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ti=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ti.now=Fl.now;var ni=class extends ti{constructor(e,n=ti.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Vl=new ni(ei);var ra=class extends ei{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ia=class extends ni{};var Ll=new ia(ra);function oT(t){return t[t.length-1]}function fy(t){return se(oT(t))?t.pop():void 0}function jl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function my(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{d(r.next(f))}catch(m){s(m)}}function u(f){try{d(r.throw(f))}catch(m){s(m)}}function d(f){f.done?o(f.value):i(f.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function py(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ar(t){return this instanceof ar?(this.v=t,this):new ar(t)}function gy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(D){return function(N){return Promise.resolve(N).then(D,m)}}function c(D,N){r[D]&&(i[D]=function(F){return new Promise(function(O,U){o.push([D,F,O,U])>1||u(D,F)})},N&&(i[D]=N(i[D])))}function u(D,N){try{d(r[D](N))}catch(F){I(o[0][3],F)}}function d(D){D.value instanceof ar?Promise.resolve(D.value.v).then(f,m):I(o[0][2],D)}function f(D){u("next",D)}function m(D){u("throw",D)}function I(D,N){D(N),o.shift(),o.length&&u(o[0][0],o[0][1])}}function yy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof py=="function"?py(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},s)}}var oa=t=>t&&typeof t.length=="number"&&typeof t!="function";function sa(t){return se(t?.then)}function aa(t){return se(t[Xr])}function ca(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function ua(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var la=sT();function da(t){return se(t?.[la])}function ha(t){return gy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ar(n.read());if(i)return yield ar(void 0);yield yield ar(r)}}finally{n.releaseLock()}})}function fa(t){return se(t?.getReader)}function En(t){if(t instanceof ge)return t;if(t!=null){if(aa(t))return aT(t);if(oa(t))return cT(t);if(sa(t))return uT(t);if(ca(t))return vy(t);if(da(t))return lT(t);if(fa(t))return dT(t)}throw ua(t)}function aT(t){return new ge(e=>{let n=t[Xr]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cT(t){return new ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function uT(t){return new ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Zs)})}function lT(t){return new ge(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function vy(t){return new ge(e=>{hT(t,e).catch(n=>e.error(n))})}function dT(t){return vy(ha(t))}function hT(t,e){var n,r,i,o;return my(this,void 0,void 0,function*(){try{for(n=yy(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function kt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Dn(t,e=0){return In((n,r)=>{n.subscribe(wn(r,i=>kt(r,t,()=>r.next(i),e),()=>kt(r,t,()=>r.complete(),e),i=>kt(r,t,()=>r.error(i),e)))})}function bn(t,e=0){return In((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _y(t,e){return En(t).pipe(bn(e),Dn(e))}function Iy(t,e){return En(t).pipe(bn(e),Dn(e))}function wy(t,e){return new ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ey(t,e){return new ge(n=>{let r;return kt(n,e,()=>{r=t[la](),kt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function pa(t,e){if(!t)throw new Error("Iterable cannot be null");return new ge(n=>{kt(n,e,()=>{let r=t[Symbol.asyncIterator]();kt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Dy(t,e){return pa(ha(t),e)}function by(t,e){if(t!=null){if(aa(t))return _y(t,e);if(oa(t))return wy(t,e);if(sa(t))return Iy(t,e);if(ca(t))return pa(t,e);if(da(t))return Ey(t,e);if(fa(t))return Dy(t,e)}throw ua(t)}function Bl(t,e){return e?by(t,e):En(t)}function cr(t,e){return In((n,r)=>{let i=0;n.subscribe(wn(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:fT}=Array;function pT(t,e){return fT(e)?t(...e):t(e)}function Ty(t){return cr(e=>pT(t,e))}var{isArray:mT}=Array,{getPrototypeOf:gT,prototype:yT,keys:vT}=Object;function Cy(t){if(t.length===1){let e=t[0];if(mT(e))return{args:e,keys:null};if(_T(e)){let n=vT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function _T(t){return t&&typeof t=="object"&&gT(t)===yT}function Sy(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ul(...t){let e=fy(t),{args:n,keys:r}=Cy(t),i=new ge(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,d=s;for(let f=0;f<s;f++){let m=!1;En(n[f]).subscribe(wn(o,I=>{m||(m=!0,d--),c[f]=I},()=>u--,void 0,()=>{(!u||!m)&&(d||o.next(r?Sy(r,c):c),o.complete())}))}});return e?i.pipe(Ty(e)):i}function $l(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?In((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(wn(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):ea}var hv="https://g.co/ng/security#xss",H=class extends Error{code;constructor(e,n){super(Gd(e,n)),this.code=e}};function Gd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var fv=Symbol("InputSignalNode#UNSET"),IT=he($({},Al),{transformFn:void 0,applyValueToInputSignal(t,e){Do(t,e)}});function jo(t){return{toString:t}.toString()}var ma="__parameters__";function wT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function pv(t,e,n){return jo(()=>{let r=wT(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,d,f){let m=u.hasOwnProperty(ma)?u[ma]:Object.defineProperty(u,ma,{value:[]})[ma];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var td=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function ET(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Ay(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var DT=we({__forward_ref__:we});function yi(t){return t.__forward_ref__=yi,t.toString=function(){return ft(this())},t}function Xe(t){return mv(t)?t():t}function mv(t){return typeof t=="function"&&t.hasOwnProperty(DT)&&t.__forward_ref__===yi}function ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _r(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wd(t){return Ny(t,gv)||Ny(t,yv)}function Ny(t,e){return t.hasOwnProperty(e)?t[e]:null}function bT(t){let e=t&&(t[gv]||t[yv]);return e||null}function xy(t){return t&&(t.hasOwnProperty(My)||t.hasOwnProperty(TT))?t[My]:null}var gv=we({\u0275prov:we}),My=we({\u0275inj:we}),yv=we({ngInjectableDef:we}),TT=we({ngInjectorDef:we}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vv(t){return t&&!!t.\u0275providers}var CT=we({\u0275cmp:we}),ST=we({\u0275dir:we}),AT=we({\u0275pipe:we});var ba=we({\u0275fac:we}),Ao=we({__NG_ELEMENT_ID__:we}),Ry=we({__NG_ENV_ID__:we});function Kd(t){return typeof t=="string"?t:t==null?"":String(t)}function NT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Kd(t)}function xT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new H(-200,t)}function Qd(t,e){throw new H(-201,!1)}var Y=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Y||{}),nd;function _v(){return nd}function it(t){let e=nd;return nd=t,e}function Iv(t,e,n){let r=Wd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Y.Optional)return null;if(e!==void 0)return e;Qd(t,"Injector")}var MT={},No=MT,rd="__NG_DI_FLAG__",Ta="ngTempTokenPath",RT="ngTokenPath",PT=/\n/gm,kT="\u0275",Py="__source",si;function OT(){return si}function Tn(t){let e=si;return si=t,e}function FT(t,e=Y.Default){if(si===void 0)throw new H(-203,!1);return si===null?Iv(t,void 0,e):si.get(t,e&Y.Optional?null:void 0,e)}function te(t,e=Y.Default){return(_v()||FT)(Xe(t),e)}function z(t,e=Y.Default){return te(t,Qa(e))}function Qa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function id(t){let e=[];for(let n=0;n<t.length;n++){let r=Xe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=Y.Default;for(let s=0;s<r.length;s++){let c=r[s],u=VT(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(te(i,o))}else e.push(te(r))}return e}function wv(t,e){return t[rd]=e,t.prototype[rd]=e,t}function VT(t){return t[rd]}function LT(t,e,n,r){let i=t[Ta];throw e[Py]&&i.unshift(e[Py]),t.message=jT(`
`+t.message,i,n,r),t[RT]=i,t[Ta]=null,t}function jT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==kT?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):ft(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(PT,`
  `)}`}var gt=wv(pv("Optional"),8);var BT=wv(pv("SkipSelf"),4);function lr(t,e){let n=t.hasOwnProperty(ba);return n?t[ba]:null}function Yd(t,e){t.forEach(n=>Array.isArray(n)?Yd(n,e):e(n))}function Ev(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ca(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function UT(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function $T(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function HT(t,e,n){let r=Bo(t,e);return r>=0?t[r|1]=n:(r=~r,$T(t,r,e,n)),r}function Hl(t,e){let n=Bo(t,e);if(n>=0)return t[n|1]}function Bo(t,e){return qT(t,e,1)}function qT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ci={},Et=[],xo=new B(""),Dv=new B("",-1),bv=new B(""),Sa=class{get(e,n=No){if(n===No){let r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}};function dr(t){return t[CT]||null}function Tv(t){return t[ST]||null}function Cv(t){return t[AT]||null}function zT(t){let e=dr(t)||Tv(t)||Cv(t);return e!==null&&e.standalone}function Ir(t){return{\u0275providers:t}}function GT(...t){return{\u0275providers:Sv(!0,t),\u0275fromNgModule:!0}}function Sv(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Yd(e,s=>{let c=s;od(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Av(i,o),n}function Av(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Jd(i,o=>{e(o,r)})}}function od(t,e,n,r){if(t=Xe(t),!t)return!1;let i=null,o=xy(t),s=!o&&dr(t);if(!o&&!s){let u=t.ngModule;if(o=xy(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)od(d,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let d;try{Yd(o.imports,f=>{od(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&Av(d,e)}if(!c){let d=lr(i)||(()=>new i);e({provide:i,useFactory:d,deps:Et},i),e({provide:bv,useValue:i,multi:!0},i),e({provide:xo,useValue:()=>te(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let d=t;Jd(u,f=>{e(f,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Jd(t,e){for(let n of t)vv(n)&&(n=n.\u0275providers),Array.isArray(n)?Jd(n,e):e(n)}var WT=we({provide:String,useValue:we});function Nv(t){return t!==null&&typeof t=="object"&&WT in t}function KT(t){return!!(t&&t.useExisting)}function QT(t){return!!(t&&t.useFactory)}function ui(t){return typeof t=="function"}function YT(t){return!!t.useClass}var Ya=new B(""),_a={},JT={},ql;function Ja(){return ql===void 0&&(ql=new Sa),ql}var Vt=class{},Mo=class extends Vt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ad(e,s=>this.processProvider(s)),this.records.set(Dv,ri(void 0,this)),i.has("environment")&&this.records.set(Vt,ri(void 0,this));let o=this.records.get(Ya);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bv,Et,Y.Self))}destroy(){Co(this),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return Co(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Co(this);let n=Tn(this),r=it(void 0),i;try{return e()}finally{Tn(n),it(r)}}get(e,n=No,r=Y.Default){if(Co(this),e.hasOwnProperty(Ry))return e[Ry](this);r=Qa(r);let i,o=Tn(this),s=it(void 0);try{if(!(r&Y.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=nC(e)&&Wd(e);d&&this.injectableDefInScope(d)?u=ri(sd(e),_a):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&Y.Self?Ja():this.parent;return n=r&Y.Optional&&n===No?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Ta]=c[Ta]||[]).unshift(ft(e)),o)throw c;return LT(c,e,"R3InjectorError",this.source)}else throw c}finally{it(s),Tn(o)}}resolveInjectorInitializers(){let e=ee(null),n=Tn(this),r=it(void 0),i;try{let o=this.get(xo,Et,Y.Self);for(let s of o)s()}finally{Tn(n),it(r),ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Xe(e);let n=ui(e)?e:Xe(e&&e.provide),r=XT(e);if(!ui(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ri(void 0,_a,!0),i.factory=()=>id(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ee(null);try{return n.value===_a&&(n.value=JT,n.value=n.factory()),typeof n.value=="object"&&n.value&&tC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Xe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function sd(t){let e=Wd(t),n=e!==null?e.factory:lr(t);if(n!==null)return n;if(t instanceof B)throw new H(204,!1);if(t instanceof Function)return ZT(t);throw new H(204,!1)}function ZT(t){if(t.length>0)throw new H(204,!1);let n=bT(t);return n!==null?()=>n.factory(t):()=>new t}function XT(t){if(Nv(t))return ri(void 0,t.useValue);{let e=xv(t);return ri(e,_a)}}function xv(t,e,n){let r;if(ui(t)){let i=Xe(t);return lr(i)||sd(i)}else if(Nv(t))r=()=>Xe(t.useValue);else if(QT(t))r=()=>t.useFactory(...id(t.deps||[]));else if(KT(t))r=()=>te(Xe(t.useExisting));else{let i=Xe(t&&(t.useClass||t.provide));if(eC(t))r=()=>new i(...id(t.deps));else return lr(i)||sd(i)}return r}function Co(t){if(t.destroyed)throw new H(205,!1)}function ri(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function eC(t){return!!t.deps}function tC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nC(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function ad(t,e){for(let n of t)Array.isArray(n)?ad(n,e):n&&vv(n)?ad(n.\u0275providers,e):e(n)}function Mv(t,e){t instanceof Mo&&Co(t);let n,r=Tn(t),i=it(void 0);try{return e()}finally{Tn(r),it(i)}}function rC(){return _v()!==void 0||OT()!=null}function iC(t){return typeof t=="function"}var sn=0,Q=1,j=2,tt=3,xt=4,ot=5,Ro=6,Aa=7,Mt=8,li=9,nn=10,Ae=11,Po=12,ky=13,vi=14,bt=15,di=16,ii=17,hi=18,Za=19,Rv=20,Cn=21,zl=22,Na=23,pt=24,Tt=25,Pv=1;var hr=7,xa=8,Ma=9,Dt=10,Ra=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ra||{});function Sn(t){return Array.isArray(t)&&typeof t[Pv]=="object"}function an(t){return Array.isArray(t)&&t[Pv]===!0}function kv(t){return(t.flags&4)!==0}function Xa(t){return t.componentOffset>-1}function Zd(t){return(t.flags&1)===1}function An(t){return!!t.template}function cd(t){return(t[j]&512)!==0}var ud=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ov(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ec=(()=>{let t=()=>Fv;return t.ngInherit=!0,t})();function Fv(t){return t.type.prototype.ngOnChanges&&(t.setInput=sC),oC}function oC(){let t=Lv(this),e=t?.current;if(e){let n=t.previous;if(n===ci)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sC(t,e,n,r,i){let o=this.declaredInputs[r],s=Lv(t)||aC(t,{previous:ci,current:null}),c=s.current||(s.current={}),u=s.previous,d=u[o];c[o]=new ud(d&&d.currentValue,n,u===ci),Ov(t,e,i,n)}var Vv="__ngSimpleChanges__";function Lv(t){return t[Vv]||null}function aC(t,e){return t[Vv]=e}var Oy=null;var Ot=function(t,e,n){Oy?.(t,e,n)},jv="svg",cC="math";function Lt(t){for(;Array.isArray(t);)t=t[sn];return t}function Bv(t,e){return Lt(e[t])}function Rt(t,e){return Lt(e[t.index])}function Uv(t,e){return t.data[e]}function uC(t,e){return t[e]}function Rn(t,e){let n=e[t];return Sn(n)?n:n[sn]}function Xd(t){return(t[j]&128)===128}function lC(t){return an(t[tt])}function Pa(t,e){return e==null?null:t[e]}function $v(t){t[ii]=0}function eh(t){t[j]&1024||(t[j]|=1024,Xd(t)&&nc(t))}function dC(t,e){for(;t>0;)e=e[vi],t--;return e}function tc(t){return!!(t[j]&9216||t[pt]?.dirty)}function ld(t){t[nn].changeDetectionScheduler?.notify(9),t[j]&64&&(t[j]|=1024),tc(t)&&nc(t)}function nc(t){t[nn].changeDetectionScheduler?.notify(0);let e=fr(t);for(;e!==null&&!(e[j]&8192||(e[j]|=8192,!Xd(e)));)e=fr(e)}function Hv(t,e){if((t[j]&256)===256)throw new H(911,!1);t[Cn]===null&&(t[Cn]=[]),t[Cn].push(e)}function hC(t,e){if(t[Cn]===null)return;let n=t[Cn].indexOf(e);n!==-1&&t[Cn].splice(n,1)}function fr(t){let e=t[tt];return an(e)?e[tt]:e}var W={lFrame:Xv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var dd=!1;function fC(){return W.lFrame.elementDepthCount}function pC(){W.lFrame.elementDepthCount++}function mC(){W.lFrame.elementDepthCount--}function qv(){return W.bindingsEnabled}function zv(){return W.skipHydrationRootTNode!==null}function gC(t){return W.skipHydrationRootTNode===t}function yC(){W.skipHydrationRootTNode=null}function fe(){return W.lFrame.lView}function nt(){return W.lFrame.tView}function Pn(t){return W.lFrame.contextLView=t,t[Mt]}function kn(t){return W.lFrame.contextLView=null,t}function st(){let t=Gv();for(;t!==null&&t.type===64;)t=t.parent;return t}function Gv(){return W.lFrame.currentTNode}function vC(){let t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Uo(t,e){let n=W.lFrame;n.currentTNode=t,n.isParent=e}function Wv(){return W.lFrame.isParent}function Kv(){W.lFrame.isParent=!1}function Qv(){return dd}function Fy(t){let e=dd;return dd=t,e}function _C(){let t=W.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function IC(t){return W.lFrame.bindingIndex=t}function th(){return W.lFrame.bindingIndex++}function wC(t){let e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function EC(){return W.lFrame.inI18n}function DC(t,e){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,hd(e)}function bC(){return W.lFrame.currentDirectiveIndex}function hd(t){W.lFrame.currentDirectiveIndex=t}function TC(t){let e=W.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Yv(t){W.lFrame.currentQueryIndex=t}function CC(t){let e=t[Q];return e.type===2?e.declTNode:e.type===1?t[ot]:null}function Jv(t,e,n){if(n&Y.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Y.Host);)if(i=CC(o),i===null||(o=o[vi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=W.lFrame=Zv();return r.currentTNode=e,r.lView=t,!0}function nh(t){let e=Zv(),n=t[Q];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Zv(){let t=W.lFrame,e=t===null?null:t.child;return e===null?Xv(t):e}function Xv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function e_(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var t_=e_;function rh(){let t=e_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function SC(t){return(W.lFrame.contextLView=dC(t,W.lFrame.contextLView))[Mt]}function _i(){return W.lFrame.selectedIndex}function pr(t){W.lFrame.selectedIndex=t}function ih(){let t=W.lFrame;return Uv(t.tView,t.selectedIndex)}function n_(){W.lFrame.currentNamespace=jv}function AC(){return W.lFrame.currentNamespace}var r_=!0;function oh(){return r_}function sh(t){r_=t}function NC(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Fv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ah(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Ia(t,e,n){i_(t,e,3,n)}function wa(t,e,n,r){(t[j]&3)===n&&i_(t,e,n,r)}function Gl(t,e){let n=t[j];(n&3)===e&&(n&=16383,n+=1,t[j]=n)}function i_(t,e,n,r){let i=r!==void 0?t[ii]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[ii]+=65536),(c<o||o==-1)&&(xC(t,n,e,u),t[ii]=(t[ii]&4294901760)+u+2),u++}function Vy(t,e){Ot(4,t,e);let n=ee(null);try{e.call(t)}finally{ee(n),Ot(5,t,e)}}function xC(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[j]>>14<t[ii]>>16&&(t[j]&3)===e&&(t[j]+=16384,Vy(c,o)):Vy(c,o)}var ai=-1,mr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function MC(t){return t instanceof mr}function RC(t){return(t.flags&8)!==0}function PC(t){return(t.flags&16)!==0}function fd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];OC(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function kC(t){return t===3||t===4||t===6}function OC(t){return t.charCodeAt(0)===64}function ko(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ly(t,n,i,null,e[++r]):Ly(t,n,i,null,null))}}return t}function Ly(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Wl={},pd=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Qa(r);let i=this.injector.get(e,Wl,r);return i!==Wl||n===Wl?i:this.parentInjector.get(e,n,r)}};function o_(t){return t!==ai}function ka(t){return t&32767}function FC(t){return t>>16}function Oa(t,e){let n=FC(t),r=e;for(;n>0;)r=r[vi],n--;return r}var md=!0;function Fa(t){let e=md;return md=t,e}var VC=256,s_=VC-1,a_=5,LC=0,Ft={};function jC(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ao)&&(r=n[Ao]),r==null&&(r=n[Ao]=LC++);let i=r&s_,o=1<<i;e.data[t+(i>>a_)]|=o}function Va(t,e){let n=c_(t,e);if(n!==-1)return n;let r=e[Q];r.firstCreatePass&&(t.injectorIndex=e.length,Kl(r.data,t),Kl(e,null),Kl(r.blueprint,null));let i=ch(t,e),o=t.injectorIndex;if(o_(i)){let s=ka(i),c=Oa(i,e),u=c[Q].data;for(let d=0;d<8;d++)e[o+d]=c[s+d]|u[s+d]}return e[o+8]=i,o}function Kl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function c_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ch(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=p_(i),r===null)return ai;if(n++,i=i[vi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ai}function gd(t,e,n){jC(t,e,n)}function u_(t,e,n){if(n&Y.Optional||t!==void 0)return t;Qd(e,"NodeInjector")}function l_(t,e,n,r){if(n&Y.Optional&&r===void 0&&(r=null),!(n&(Y.Self|Y.Host))){let i=t[li],o=it(void 0);try{return i?i.get(e,r,n&Y.Optional):Iv(e,r,n&Y.Optional)}finally{it(o)}}return u_(r,e,n)}function d_(t,e,n,r=Y.Default,i){if(t!==null){if(e[j]&2048&&!(r&Y.Self)){let s=qC(t,e,n,r,Ft);if(s!==Ft)return s}let o=h_(t,e,n,r,Ft);if(o!==Ft)return o}return l_(e,n,r,i)}function h_(t,e,n,r,i){let o=$C(n);if(typeof o=="function"){if(!Jv(e,t,r))return r&Y.Host?u_(i,n,r):l_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Y.Optional))Qd(n);else return s}finally{t_()}}else if(typeof o=="number"){let s=null,c=c_(t,e),u=ai,d=r&Y.Host?e[bt][ot]:null;for((c===-1||r&Y.SkipSelf)&&(u=c===-1?ch(t,e):e[c+8],u===ai||!By(r,!1)?c=-1:(s=e[Q],c=ka(u),e=Oa(u,e)));c!==-1;){let f=e[Q];if(jy(o,c,f.data)){let m=BC(c,e,n,s,r,d);if(m!==Ft)return m}u=e[c+8],u!==ai&&By(r,e[Q].data[c+8]===d)&&jy(o,c,e)?(s=f,c=ka(u),e=Oa(u,e)):c=-1}}return i}function BC(t,e,n,r,i,o){let s=e[Q],c=s.data[t+8],u=r==null?Xa(c)&&md:r!=s&&(c.type&3)!==0,d=i&Y.Host&&o===c,f=UC(c,s,n,u,d);return f!==null?fi(e,s,f,c):Ft}function UC(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,d=t.directiveEnd,f=o>>20,m=r?c:c+f,I=i?c+f:d;for(let D=m;D<I;D++){let N=s[D];if(D<u&&n===N||D>=u&&N.type===n)return D}if(i){let D=s[u];if(D&&An(D)&&D.type===n)return u}return null}function fi(t,e,n,r){let i=t[n],o=e.data;if(MC(i)){let s=i;s.resolving&&xT(NT(o[n]));let c=Fa(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?it(s.injectImpl):null,f=Jv(t,r,Y.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&NC(n,o[n],e)}finally{d!==null&&it(d),Fa(c),s.resolving=!1,t_()}}return i}function $C(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ao)?t[Ao]:void 0;return typeof e=="number"?e>=0?e&s_:HC:e}function jy(t,e,n){let r=1<<t;return!!(n[e+(t>>a_)]&r)}function By(t,e){return!(t&Y.Self)&&!(t&Y.Host&&e)}var ur=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return d_(this._tNode,this._lView,e,Qa(r),n)}};function HC(){return new ur(st(),fe())}function f_(t){return jo(()=>{let e=t.prototype.constructor,n=e[ba]||yd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ba]||yd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function yd(t){return mv(t)?()=>{let e=yd(Xe(t));return e&&e()}:lr(t)}function qC(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[j]&2048&&!(s[j]&512);){let c=h_(o,s,n,r|Y.Self,Ft);if(c!==Ft)return c;let u=o.parent;if(!u){let d=s[Rv];if(d){let f=d.get(n,Ft,r);if(f!==Ft)return f}u=p_(s),s=s[vi]}o=u}return i}function p_(t){let e=t[Q],n=e.type;return n===2?e.declTNode:n===1?t[ot]:null}function Uy(t,e=null,n=null,r){let i=zC(t,e,n,r);return i.resolveInjectorInitializers(),i}function zC(t,e=null,n=null,r,i=new Set){let o=[n||Et,GT(t)];return r=r||(typeof t=="object"?void 0:ft(t)),new Mo(o,e||Ja(),r||null,i)}var mt=class t{static THROW_IF_NOT_FOUND=No;static NULL=new Sa;static create(e,n){if(Array.isArray(e))return Uy({name:""},n,e,"");{let r=e.name??"";return Uy({name:r},e.parent,e.providers,r)}}static \u0275prov=ae({token:t,providedIn:"any",factory:()=>te(Dv)});static __NG_ELEMENT_ID__=-1};var GC=new B("");GC.__NG_ELEMENT_ID__=t=>{let e=st();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(t&Y.Optional)return null;throw new H(204,!1)};var m_=!1,uh=(()=>{class t{static __NG_ELEMENT_ID__=WC;static __NG_ENV_ID__=n=>n}return t})(),vd=class extends uh{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Hv(this._lView,e),()=>hC(this._lView,e)}};function WC(){return new vd(fe())}var Oo=class{},lh=new B("",{providedIn:"root",factory:()=>!1});var g_=new B(""),y_=new B(""),rc=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new sr(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})();var _d=class extends tn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,rC()&&(this.destroyRef=z(uh,{optional:!0})??void 0,this.pendingTasks=z(rc,{optional:!0})??void 0)}emit(e){let n=ee(null);try{super.next(e)}finally{ee(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Be&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},et=_d;function La(...t){}function v_(t){let e,n;function r(){t=La;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function $y(t){return queueMicrotask(()=>t()),()=>{t=La}}var dh="isAngularZone",ja=dh+"_ID",KC=0,Ie=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new et(!1);onMicrotaskEmpty=new et(!1);onStable=new et(!1);onError=new et(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=m_}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,JC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,QC,La,La);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},QC={};function hh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function YC(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){v_(()=>{t.callbackScheduled=!1,Id(t),t.isCheckStableRunning=!0,hh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Id(t)}function JC(t){let e=()=>{YC(t)},n=KC++;t._inner=t._inner.fork({name:"angular",properties:{[dh]:!0,[ja]:n,[ja+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(ZC(u))return r.invokeTask(o,s,c,u);try{return Hy(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qy(t)}},onInvoke:(r,i,o,s,c,u,d)=>{try{return Hy(t),r.invoke(o,s,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!XC(u)&&e(),qy(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Id(t),hh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Id(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Hy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qy(t){t._nesting--,hh(t)}var wd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new et;onMicrotaskEmpty=new et;onStable=new et;onError=new et;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ZC(t){return __(t,"__ignore_ng_zone__")}function XC(t){return __(t,"__scheduler_tick__")}function __(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var rn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},eS=new B("",{providedIn:"root",factory:()=>{let t=z(Ie),e=z(rn);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),Ba=class{destroyed=!1;listeners=null;errorHandler=z(rn,{optional:!0});destroyRef=z(uh);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new H(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new H(953,!1);if(this.listeners===null)return;let n=ee(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{ee(n)}}};function I_(t){return new Ba}function tS(){return ic(st(),fe())}function ic(t,e){return new On(Rt(t,e))}var On=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=tS}return t})();function w_(t){return(t.flags&128)===128}var E_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(E_||{}),D_=new Map,nS=0;function rS(){return nS++}function iS(t){D_.set(t[Za],t)}function Ed(t){D_.delete(t[Za])}var zy="__ngContext__";function gr(t,e){Sn(e)?(t[zy]=e[Za],iS(e)):t[zy]=e}function b_(t){return C_(t[Po])}function T_(t){return C_(t[xt])}function C_(t){for(;t!==null&&!an(t);)t=t[xt];return t}var Dd;function S_(t){Dd=t}function oS(){if(Dd!==void 0)return Dd;if(typeof document<"u")return document;throw new H(210,!1)}var fh=new B("",{providedIn:"root",factory:()=>sS}),sS="ng",ph=new B(""),Fn=new B("",{providedIn:"platform",factory:()=>"unknown"});var mh=new B("",{providedIn:"root",factory:()=>oS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var aS="h",cS="b";var A_=!1,uS=new B("",{providedIn:"root",factory:()=>A_});var N_=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(N_||{}),x_=new B(""),Gy=new Set;function oc(t){Gy.has(t)||(Gy.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var lS=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})();var dS=()=>null;function gh(t,e,n=!1){return dS(t,e,n)}var jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(jt||{}),ga;function hS(){if(ga===void 0&&(ga=null,td.trustedTypes))try{ga=td.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ga}function fS(t){return hS()?.createScriptURL(t)||t}var Ua=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hv})`}};function sc(t){return t instanceof Ua?t.changingThisBreaksApplicationSecurity:t}function M_(t,e){let n=pS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${hv})`)}return n===e}function pS(t){return t instanceof Ua&&t.getTypeName()||null}var mS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function R_(t){return t=String(t),t.match(mS)?t:"unsafe:"+t}var yh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yh||{});function Ii(t){let e=gS();return e?e.sanitize(yh.URL,t)||"":M_(t,"URL")?sc(t):R_(Kd(t))}function P_(t){return fS(t[0])}function gS(){let t=fe();return t&&t[nn].sanitizer}function k_(t){return t.ownerDocument.defaultView}var Nn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Nn||{}),on=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(on||{}),yS;function vh(t,e){return yS(t,e)}function oi(t,e,n,r,i){if(r!=null){let o,s=!1;an(r)?o=r:Sn(r)&&(s=!0,r=r[sn]);let c=Lt(r);t===0&&n!==null?i==null?B_(e,n,c):$a(e,n,c,i||null,!0):t===1&&n!==null?$a(e,n,c,i||null,!0):t===2?xS(e,c,s):t===3&&e.destroyNode(c),o!=null&&RS(e,t,o,n,i)}}function vS(t,e){return t.createText(e)}function _S(t,e,n){t.setValue(e,n)}function O_(t,e,n){return t.createElement(e,n)}function IS(t,e){F_(t,e),e[sn]=null,e[ot]=null}function wS(t,e,n,r,i,o){r[sn]=i,r[ot]=e,ac(t,r,n,1,i,o)}function F_(t,e){e[nn].changeDetectionScheduler?.notify(10),ac(t,e,e[Ae],2,null,null)}function ES(t){let e=t[Po];if(!e)return Ql(t[Q],t);for(;e;){let n=null;if(Sn(e))n=e[Po];else{let r=e[Dt];r&&(n=r)}if(!n){for(;e&&!e[xt]&&e!==t;)Sn(e)&&Ql(e[Q],e),e=e[tt];e===null&&(e=t),Sn(e)&&Ql(e[Q],e),n=e&&e[xt]}e=n}}function DS(t,e,n,r){let i=Dt+r,o=n.length;r>0&&(n[i-1][xt]=e),r<o-Dt?(e[xt]=n[i],Ev(n,Dt+r,e)):(n.push(e),e[xt]=null),e[tt]=n;let s=e[di];s!==null&&n!==s&&V_(s,e);let c=e[hi];c!==null&&c.insertView(t),ld(e),e[j]|=128}function V_(t,e){let n=t[Ma],r=e[tt];if(Sn(r))t[j]|=Ra.HasTransplantedViews;else{let i=r[tt][bt];e[bt]!==i&&(t[j]|=Ra.HasTransplantedViews)}n===null?t[Ma]=[e]:n.push(e)}function _h(t,e){let n=t[Ma],r=n.indexOf(e);n.splice(r,1)}function bd(t,e){if(t.length<=Dt)return;let n=Dt+e,r=t[n];if(r){let i=r[di];i!==null&&i!==t&&_h(i,r),e>0&&(t[n-1][xt]=r[xt]);let o=Ca(t,Dt+e);IS(r[Q],r);let s=o[hi];s!==null&&s.detachView(o[Q]),r[tt]=null,r[xt]=null,r[j]&=-129}return r}function L_(t,e){if(!(e[j]&256)){let n=e[Ae];n.destroyNode&&ac(t,e,n,3,null,null),ES(e)}}function Ql(t,e){if(e[j]&256)return;let n=ee(null);try{e[j]&=-129,e[j]|=256,e[pt]&&Sl(e[pt]),TS(t,e),bS(t,e),e[Q].type===1&&e[Ae].destroy();let r=e[di];if(r!==null&&an(e[tt])){r!==e[tt]&&_h(r,e);let i=e[hi];i!==null&&i.detachView(t)}Ed(e)}finally{ee(n)}}function bS(t,e){let n=t.cleanup,r=e[Aa];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Aa]=null);let i=e[Cn];if(i!==null){e[Cn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Na];if(o!==null){e[Na]=null;for(let s of o)s.destroy()}}function TS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof mr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Ot(4,c,u);try{u.call(c)}finally{Ot(5,c,u)}}else{Ot(4,i,o);try{o.call(i)}finally{Ot(5,i,o)}}}}}function j_(t,e,n){return CS(t,e.parent,n)}function CS(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[sn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===jt.None||o===jt.Emulated)return null}return Rt(r,n)}}function $a(t,e,n,r,i){t.insertBefore(e,n,r,i)}function B_(t,e,n){t.appendChild(e,n)}function Wy(t,e,n,r,i){r!==null?$a(t,e,n,r,i):B_(t,e,n)}function U_(t,e){return t.parentNode(e)}function SS(t,e){return t.nextSibling(e)}function $_(t,e,n){return NS(t,e,n)}function AS(t,e,n){return t.type&40?Rt(t,n):null}var NS=AS,Ky;function Ih(t,e,n,r){let i=j_(t,r,e),o=e[Ae],s=r.parent||e[ot],c=$_(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Wy(o,i,n[u],c,!1);else Wy(o,i,n,c,!1);Ky!==void 0&&Ky(o,r,e,n,i)}function So(t,e){if(e!==null){let n=e.type;if(n&3)return Rt(e,t);if(n&4)return Td(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return So(t,r);{let i=t[e.index];return an(i)?Td(-1,i):Lt(i)}}else{if(n&128)return So(t,e.next);if(n&32)return vh(e,t)()||Lt(t[e.index]);{let r=H_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fr(t[bt]);return So(i,r)}else return So(t,e.next)}}}return null}function H_(t,e){if(e!==null){let r=t[bt][ot],i=e.projection;return r.projection[i]}return null}function Td(t,e){let n=Dt+t+1;if(n<e.length){let r=e[n],i=r[Q].firstChild;if(i!==null)return So(r,i)}return e[hr]}function xS(t,e,n){t.removeChild(null,e,n)}function wh(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&gr(Lt(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)wh(t,e,n.child,r,i,o,!1),oi(e,t,i,c,o);else if(u&32){let d=vh(n,r),f;for(;f=d();)oi(e,t,i,f,o);oi(e,t,i,c,o)}else u&16?q_(t,e,r,n,i,o):oi(e,t,i,c,o);n=s?n.projectionNext:n.next}}function ac(t,e,n,r,i,o){wh(n,r,t.firstChild,e,i,o,!1)}function MS(t,e,n){let r=e[Ae],i=j_(t,n,e),o=n.parent||e[ot],s=$_(o,n,e);q_(r,0,e,n,i,s)}function q_(t,e,n,r,i,o){let s=n[bt],u=s[ot].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];oi(e,t,i,f,o)}else{let d=u,f=s[tt];w_(r)&&(d.flags|=128),wh(t,e,d,f,i,o,!0)}}function RS(t,e,n,r,i){let o=n[hr],s=Lt(n);o!==s&&oi(e,t,r,o,i);for(let c=Dt;c<n.length;c++){let u=n[c];ac(u[Q],u,t,e,r,o)}}function PS(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:on.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=on.Important),t.setStyle(n,r,i,o))}}function kS(t,e,n){t.setAttribute(e,"style",n)}function z_(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function G_(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&fd(t,e,r),i!==null&&z_(t,e,i),o!==null&&kS(t,e,o)}function OS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var W_="ng-template";function FS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&OS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Eh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Eh(t){return t.type===4&&t.value!==W_}function VS(t,e,n){let r=t.type===4&&!n?W_:t.value;return e===r}function LS(t,e,n){let r=4,i=t.attrs,o=i!==null?US(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Nt(r)&&!Nt(u))return!1;if(s&&Nt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!VS(t,u,n)||u===""&&e.length===1){if(Nt(r))return!1;s=!0}}else if(r&8){if(i===null||!FS(t,i,u,n)){if(Nt(r))return!1;s=!0}}else{let d=e[++c],f=jS(u,i,Eh(t),n);if(f===-1){if(Nt(r))return!1;s=!0;continue}if(d!==""){let m;if(f>o?m="":m=i[f+1].toLowerCase(),r&2&&d!==m){if(Nt(r))return!1;s=!0}}}}return Nt(r)||s}function Nt(t){return(t&1)===0}function jS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return $S(e,t)}function K_(t,e,n=!1){for(let r=0;r<e.length;r++)if(LS(t,e[r],n))return!0;return!1}function BS(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function US(t){for(let e=0;e<t.length;e++){let n=t[e];if(kC(n))return e}return t.length}function $S(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function HS(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Qy(t,e){return t?":not("+e.trim()+")":e}function qS(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Nt(s)&&(e+=Qy(o,i),i=""),r=s,o=o||!Nt(r);n++}return i!==""&&(e+=Qy(o,i)),e}function zS(t){return t.map(qS).join(",")}function GS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Nt(i))break;i=o}r++}return{attrs:e,classes:n}}var Vn={};function re(t=1){Q_(nt(),fe(),_i()+t,!1)}function Q_(t,e,n,r){if(!r)if((e[j]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ia(e,o,n)}else{let o=t.preOrderHooks;o!==null&&wa(e,o,0,n)}pr(n)}function q(t,e=Y.Default){let n=fe();if(n===null)return te(t,e);let r=st();return d_(r,n,Xe(t),e)}function Y_(t,e,n,r,i,o){let s=ee(null);try{let c=null;i&Nn.SignalBased&&(c=e[r][ht]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&Nn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):Ov(e,c,r,o)}finally{ee(s)}}function WS(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)pr(~i);else{let o=i,s=n[++r],c=n[++r];DC(s,o);let u=e[o];c(2,u)}}}finally{pr(-1)}}function cc(t,e,n,r,i,o,s,c,u,d,f){let m=e.blueprint.slice();return m[sn]=i,m[j]=r|4|128|8|64|1024,(d!==null||t&&t[j]&2048)&&(m[j]|=2048),$v(m),m[tt]=m[vi]=t,m[Mt]=n,m[nn]=s||t&&t[nn],m[Ae]=c||t&&t[Ae],m[li]=u||t&&t[li]||null,m[ot]=o,m[Za]=rS(),m[Ro]=f,m[Rv]=d,m[bt]=e.type==2?t[bt]:m,m}function $o(t,e,n,r,i){let o=t.data[e];if(o===null)o=KS(t,e,n,r,i),EC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=vC();o.injectorIndex=s===null?-1:s.injectorIndex}return Uo(o,!0),o}function KS(t,e,n,r,i){let o=Gv(),s=Wv(),c=s?o:o&&o.parent,u=t.data[e]=XS(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function J_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Z_(t,e,n,r,i){let o=_i(),s=r&2;try{pr(-1),s&&e.length>Tt&&Q_(t,e,Tt,!1),Ot(s?2:0,i),n(r,i)}finally{pr(o),Ot(s?3:1,i)}}function X_(t,e,n){if(kv(e)){let r=ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{ee(r)}}}function eI(t,e,n){qv()&&(oA(t,e,n,Rt(n,e)),(n.flags&64)===64&&oI(t,e,n))}function tI(t,e,n=Rt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function nI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Dh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Dh(t,e,n,r,i,o,s,c,u,d,f){let m=Tt+r,I=m+i,D=QS(m,I),N=typeof d=="function"?d():d;return D[Q]={type:t,blueprint:D,template:n,queries:null,viewQuery:c,declTNode:e,data:D.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:N,incompleteFirstPass:!1,ssrId:f}}function QS(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Vn);return n}function YS(t,e,n,r){let o=r.get(uS,A_)||n===jt.ShadowDom,s=t.selectRootElement(e,o);return JS(s),s}function JS(t){ZS(t)}var ZS=()=>null;function XS(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return zv()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Yy(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=Nn.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}t===0?Jy(r,n,d,c,u):Jy(r,n,d,c)}return r}function Jy(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function eA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,d=null;for(let f=r;f<i;f++){let m=o[f],I=n?n.get(m):null,D=I?I.inputs:null,N=I?I.outputs:null;u=Yy(0,m.inputs,f,u,D),d=Yy(1,m.outputs,f,d,N);let F=u!==null&&s!==null&&!Eh(e)?pA(u,f,s):null;c.push(F)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}function tA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function bh(t,e,n,r,i,o,s,c){let u=Rt(e,n),d=e.inputs,f;!c&&d!=null&&(f=d[r])?(Th(t,n,f,r,i),Xa(e)&&nA(n,e.index)):e.type&3?(r=tA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function nA(t,e){let n=Rn(e,t);n[j]&16||(n[j]|=64)}function rI(t,e,n,r){if(qv()){let i=r===null?null:{"":-1},o=aA(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&iI(t,e,n,s,i,c),i&&cA(n,r,i)}n.mergedAttrs=ko(n.mergedAttrs,n.attrs)}function iI(t,e,n,r,i,o){for(let d=0;d<r.length;d++)gd(Va(n,e),t,r[d].type);lA(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=J_(t,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];n.mergedAttrs=ko(n.mergedAttrs,f.hostAttrs),dA(t,n,e,u,f),uA(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let m=f.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}eA(t,n,o)}function rA(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;iA(s)!=c&&s.push(c),s.push(n,r,o)}}function iA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function oA(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Xa(n)&&hA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Va(n,e),gr(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],d=fi(e,t,c,n);if(gr(d,e),s!==null&&fA(e,c-i,d,u,n,s),An(u)){let f=Rn(n.index,e);f[Mt]=fi(e,t,c,n)}}}function oI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=bC();try{pr(o);for(let c=r;c<i;c++){let u=t.data[c],d=e[c];hd(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&sA(u,d)}}finally{pr(-1),hd(s)}}function sA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function aA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(K_(e,s.selectors,!1))if(r||(r=[]),An(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;Cd(t,e,u)}else r.unshift(s),Cd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Cd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function cA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}}function uA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;An(e)&&(n[""]=t)}}function lA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function dA(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=lr(i.type,!0)),s=new mr(o,An(i),q);t.blueprint[r]=s,n[r]=s,rA(t,e,r,J_(t,n,i.hostVars,Vn),i)}function sI(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function hA(t,e,n){let r=Rt(e,t),i=nI(n),o=t[nn].rendererFactory,s=uc(t,cc(t,i,null,sI(n),r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=s}function fA(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],d=s[c++],f=s[c++],m=s[c++];Y_(r,n,u,d,f,m)}}function pA(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function aI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function cI(t,e){let n=t.contentQueries;if(n!==null){let r=ee(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];Yv(o),c.contentQueries(2,e[s],s)}}}finally{ee(r)}}}function uc(t,e){return t[Po]?t[ky][xt]=e:t[Po]=e,t[ky]=e,e}function Sd(t,e,n){Yv(0);let r=ee(null);try{e(t,n)}finally{ee(r)}}function mA(t){return t[Aa]??=[]}function gA(t){return t.cleanup??=[]}function uI(t,e){let n=t[li],r=n?n.get(rn,null):null;r&&r.handleError(e)}function Th(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],d=e[s],f=t.data[s];Y_(f,d,r,c,u,i)}}function yA(t,e,n){let r=Bv(e,t);_S(t[Ae],r,n)}function vA(t,e){let n=Rn(e,t),r=n[Q];_A(r,n);let i=n[sn];i!==null&&n[Ro]===null&&(n[Ro]=gh(i,n[li])),Ch(r,n,n[Mt])}function _A(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ch(t,e,n){nh(e);try{let r=t.viewQuery;r!==null&&Sd(1,r,n);let i=t.template;i!==null&&Z_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[hi]?.finishViewCreation(t),t.staticContentQueries&&cI(t,e),t.staticViewQueries&&Sd(2,t.viewQuery,n);let o=t.components;o!==null&&IA(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[j]&=-5,rh()}}function IA(t,e){for(let n=0;n<e.length;n++)vA(t,e[n])}function lI(t,e,n,r){let i=ee(null);try{let o=e.tView,c=t[j]&4096?4096:16,u=cc(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[di]=d;let f=t[hi];return f!==null&&(u[hi]=f.createEmbeddedView(o)),Ch(o,u,n),u}finally{ee(i)}}function Ad(t,e){return!e||e.firstChild===null||w_(t)}function dI(t,e,n,r=!0){let i=e[Q];if(DS(i,e,t,n),r){let s=Td(n,t),c=e[Ae],u=U_(c,t[hr]);u!==null&&wS(i,t[ot],c,e,u,s)}let o=e[Ro];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ha(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Lt(o)),an(o)&&wA(o,r);let s=n.type;if(s&8)Ha(t,e,n.child,r);else if(s&32){let c=vh(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=H_(e,n);if(Array.isArray(c))r.push(...c);else{let u=fr(e[bt]);Ha(u[Q],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function wA(t,e){for(let n=Dt;n<t.length;n++){let r=t[n],i=r[Q].firstChild;i!==null&&Ha(r[Q],r,i,e)}t[hr]!==t[sn]&&e.push(t[hr])}var hI=[];function EA(t){return t[pt]??DA(t)}function DA(t){let e=hI.pop()??Object.create(TA);return e.lView=t,e}function bA(t){t.lView[pt]!==t&&(t.lView=null,hI.push(t))}var TA=he($({},Eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{nc(t.lView)},consumerOnSignalRead(){this.lView[pt]=this}});function CA(t){let e=t[pt]??Object.create(SA);return e.lView=t,e}var SA=he($({},Eo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=fr(t.lView);for(;e&&!fI(e[Q]);)e=fr(e);e&&eh(e)},consumerOnSignalRead(){this.lView[pt]=this}});function fI(t){return t.type!==2}function pI(t){if(t[Na]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Na])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[j]&8192)}}var AA=100;function mI(t,e=!0,n=0){let i=t[nn].rendererFactory,o=!1;o||i.begin?.();try{NA(t,n)}catch(s){throw e&&uI(t,s),s}finally{o||i.end?.()}}function NA(t,e){let n=Qv();try{Fy(!0),Nd(t,e);let r=0;for(;tc(t);){if(r===AA)throw new H(103,!1);r++,Nd(t,1)}}finally{Fy(n)}}function xA(t,e,n,r){let i=e[j];if((i&256)===256)return;let o=!1,s=!1;nh(e);let c=!0,u=null,d=null;o||(fI(t)?(d=EA(e),u=Gs(d)):Wg()===null?(c=!1,d=CA(e),u=Gs(d)):e[pt]&&(Sl(e[pt]),e[pt]=null));try{$v(e),IC(t.bindingStartIndex),n!==null&&Z_(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let D=t.preOrderCheckHooks;D!==null&&Ia(e,D,null)}else{let D=t.preOrderHooks;D!==null&&wa(e,D,0,null),Gl(e,0)}if(s||MA(e),pI(e),gI(e,0),t.contentQueries!==null&&cI(t,e),!o)if(f){let D=t.contentCheckHooks;D!==null&&Ia(e,D)}else{let D=t.contentHooks;D!==null&&wa(e,D,1),Gl(e,1)}WS(t,e);let m=t.components;m!==null&&vI(e,m,0);let I=t.viewQuery;if(I!==null&&Sd(2,I,r),!o)if(f){let D=t.viewCheckHooks;D!==null&&Ia(e,D)}else{let D=t.viewHooks;D!==null&&wa(e,D,2),Gl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[zl]){for(let D of e[zl])D();e[zl]=null}o||(e[j]&=-73)}catch(f){throw o||nc(e),f}finally{d!==null&&(Tl(d,u),c&&bA(d)),rh()}}function gI(t,e){for(let n=b_(t);n!==null;n=T_(n))for(let r=Dt;r<n.length;r++){let i=n[r];yI(i,e)}}function MA(t){for(let e=b_(t);e!==null;e=T_(e)){if(!(e[j]&Ra.HasTransplantedViews))continue;let n=e[Ma];for(let r=0;r<n.length;r++){let i=n[r];eh(i)}}}function RA(t,e,n){let r=Rn(e,t);yI(r,n)}function yI(t,e){Xd(t)&&Nd(t,e)}function Nd(t,e){let r=t[Q],i=t[j],o=t[pt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Cl(o)),s||=!1,o&&(o.dirty=!1),t[j]&=-9217,s)xA(r,t,r.template,t[Mt]);else if(i&8192){pI(t),gI(t,1);let c=r.components;c!==null&&vI(t,c,1)}}function vI(t,e,n){for(let r=0;r<e.length;r++)RA(t,e[r],n)}function Sh(t,e){let n=Qv()?64:1088;for(t[nn].changeDetectionScheduler?.notify(e);t;){t[j]|=n;let r=fr(t);if(cd(t)&&!r)return t;t=r}return null}var yr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[Q];return Ha(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Mt]}get dirty(){return!!(this._lView[j]&9280)||!!this._lView[pt]?.dirty}set context(e){this._lView[Mt]=e}get destroyed(){return(this._lView[j]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tt];if(an(e)){let n=e[xa],r=n?n.indexOf(this):-1;r>-1&&(bd(e,r),Ca(n,r))}this._attachedToViewContainer=!1}L_(this._lView[Q],this._lView)}onDestroy(e){Hv(this._lView,e)}markForCheck(){Sh(this._cdRefInjectingView||this._lView,4)}markForRefresh(){eh(this._cdRefInjectingView||this._lView)}detach(){this._lView[j]&=-129}reattach(){ld(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,mI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=cd(this._lView),n=this._lView[di];n!==null&&!e&&_h(n,this._lView),F_(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let n=cd(this._lView),r=this._lView[di];r!==null&&!n&&V_(r,this._lView),ld(this._lView)}},lc=(()=>{class t{static __NG_ELEMENT_ID__=OA}return t})(),PA=lc,kA=class extends PA{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=lI(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new yr(i)}};function OA(){return FA(st(),fe())}function FA(t,e){return t.type&4?new kA(e,t,ic(t,e)):null}var bj=new RegExp(`^(\\d+)*(${cS}|${aS})*(.*)`);var VA=()=>null;function xd(t,e){return VA(t,e)}var Md=class{},qa=class{},Rd=class{resolveComponentFactory(e){throw Error(`No component factory found for ${ft(e)}.`)}},Fo=class{static NULL=new Rd},pi=class{},wr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>LA()}return t})();function LA(){let t=fe(),e=st(),n=Rn(e.index,t);return(Sn(n)?n:t)[Ae]}var jA=(()=>{class t{static \u0275prov=ae({token:t,providedIn:"root",factory:()=>null})}return t})();function Pd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Ay(i,c);else if(o==2){let u=c,d=e[++s];r=Ay(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var kd=class extends Fo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=dr(e);return new Vo(n,this.ngModule)}};function Zy(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,c=o?i[1]:Nn.None;e?n.push({propName:s,templateName:r,isSignal:(c&Nn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function BA(t){let e=t.toLowerCase();return e==="svg"?jv:e==="math"?cC:null}var Vo=class extends qa{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Zy(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Zy(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=zS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ee(null);try{i=i||this.ngModule;let s=i instanceof Vt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new pd(e,s):e,u=c.get(pi,null);if(u===null)throw new H(407,!1);let d=c.get(jA,null),f=c.get(Oo,null),m={rendererFactory:u,sanitizer:d,changeDetectionScheduler:f},I=u.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",N=r?YS(I,r,this.componentDef.encapsulation,c):O_(I,D,BA(D)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let O=null;N!==null&&(O=gh(N,c,!0));let U=Dh(0,null,null,1,0,null,null,null,null,null,null),G=cc(null,U,null,F,null,null,m,I,c,null,O);nh(G);let X,ce,Le=null;try{let ie=this.componentDef,w,g=null;ie.findHostDirectiveDefs?(w=[],g=new Map,ie.findHostDirectiveDefs(ie,w,g),w.push(ie)):w=[ie];let y=UA(G,N);Le=$A(y,N,ie,w,G,m,I),ce=Uv(U,Tt),N&&zA(I,ie,N,r),n!==void 0&&GA(ce,this.ngContentSelectors,n),X=qA(Le,ie,w,g,G,[WA]),Ch(U,G,null)}catch(ie){throw Le!==null&&Ed(Le),Ed(G),ie}finally{rh()}return new Od(this.componentType,X,ic(ce,G),G,ce)}finally{ee(o)}}},Od=class extends Md{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new yr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Th(o[Q],o,i,e,n),this.previousInputValues.set(e,n);let s=Rn(this._tNode.index,o);Sh(s,1)}}get injector(){return new ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function UA(t,e){let n=t[Q],r=Tt;return t[r]=e,$o(n,r,2,"#host",null)}function $A(t,e,n,r,i,o,s){let c=i[Q];HA(r,t,e,s);let u=null;e!==null&&(u=gh(e,i[li]));let d=o.rendererFactory.createRenderer(e,n),f=cc(i,nI(n),null,sI(n),i[t.index],t,o,d,null,null,u);return c.firstCreatePass&&Cd(c,t,r.length-1),uc(i,f),i[t.index]=f}function HA(t,e,n,r){for(let i of t)e.mergedAttrs=ko(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Pd(e,e.mergedAttrs,!0),n!==null&&G_(r,n,e))}function qA(t,e,n,r,i,o){let s=st(),c=i[Q],u=Rt(s,i);iI(c,i,s,n,null,r);for(let f=0;f<n.length;f++){let m=s.directiveStart+f,I=fi(i,c,m,s);gr(I,i)}oI(c,i,s),u&&gr(u,i);let d=fi(i,c,s.directiveStart+s.componentOffset,s);if(t[Mt]=i[Mt]=d,o!==null)for(let f of o)f(d,e);return X_(c,s,i),d}function zA(t,e,n,r){if(r)fd(t,n,["ng-version","19.0.6"]);else{let{attrs:i,classes:o}=GS(e.selectors[0]);i&&fd(t,n,i),o&&o.length>0&&z_(t,n,o.join(" "))}}function GA(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}function WA(){let t=st();ah(fe()[Q],t)}var dc=(()=>{class t{static __NG_ELEMENT_ID__=KA}return t})();function KA(){let t=st();return YA(t,fe())}var QA=dc,_I=class extends QA{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ic(this._hostTNode,this._hostLView)}get injector(){return new ur(this._hostTNode,this._hostLView)}get parentInjector(){let e=ch(this._hostTNode,this._hostLView);if(o_(e)){let n=Oa(e,this._hostLView),r=ka(e),i=n[Q].data[r+8];return new ur(i,n)}else return new ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Xy(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=xd(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,Ad(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!iC(e),c;if(s)c=n;else{let N=n||{};c=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef}let u=s?e:new Vo(dr(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let F=(s?d:this.parentInjector).get(Vt,null);F&&(o=F)}let f=dr(u.componentType??{}),m=xd(this._lContainer,f?.id??null),I=m?.firstChild??null,D=u.create(d,i,I,o);return this.insertImpl(D.hostView,c,Ad(this._hostTNode,m)),D}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(lC(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[tt],d=new _I(u,u[ot],u[tt]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return dI(s,i,o,r),e.attachToViewContainerRef(),Ev(Yl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Xy(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=bd(this._lContainer,n);r&&(Ca(Yl(this._lContainer),n),L_(r[Q],r))}detach(e){let n=this._adjustIndex(e,-1),r=bd(this._lContainer,n);return r&&Ca(Yl(this._lContainer),n)!=null?new yr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Xy(t){return t[xa]}function Yl(t){return t[xa]||(t[xa]=[])}function YA(t,e){let n,r=e[t.index];return an(r)?n=r:(n=aI(r,e,null,t),e[t.index]=n,uc(e,n)),ZA(n,e,t,r),new _I(n,t,e)}function JA(t,e){let n=t[Ae],r=n.createComment(""),i=Rt(e,t),o=U_(n,i);return $a(n,o,r,SS(n,i),!1),r}var ZA=tN,XA=()=>!1;function eN(t,e,n){return XA(t,e,n)}function tN(t,e,n,r){if(t[hr])return;let i;n.type&8?i=Lt(r):i=JA(e,n),t[hr]=i}function nN(t){return typeof t=="function"&&t[ht]!==void 0}function Er(t,e){oc("NgSignals");let n=ry(t),r=n[ht];return e?.equal&&(r.equal=e.equal),n.set=i=>Do(r,i),n.update=i=>iy(r,i),n.asReadonly=II.bind(n),n}function II(){let t=this[ht];if(t.readonlyFn===void 0){let e=()=>this();e[ht]=t,t.readonlyFn=e}return t.readonlyFn}function wI(t){return nN(t)&&typeof t.set=="function"}function EI(t,e){let n=Object.create(IT),r=new Ba;n.value=t;function i(){return zs(n),ev(n.value),n.value}return i[ht]=n,i.asReadonly=II.bind(i),i.set=o=>{n.equal(n.value,o)||(Do(n,o),r.emit(o))},i.update=o=>{ev(n.value),i.set(o(n.value))},i.subscribe=r.subscribe.bind(r),i.destroyRef=r.destroyRef,i}function ev(t){if(t===fv)throw new H(952,!1)}function tv(t,e){return EI(t,e)}function rN(t){return EI(fv,t)}var DI=(tv.required=rN,tv);var mi=class{};var za=class extends mi{injector;componentFactoryResolver=new kd(this);instance=null;constructor(e){super();let n=new Mo([...e.providers,{provide:mi,useValue:this},{provide:Fo,useValue:this.componentFactoryResolver}],e.parent||Ja(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function iN(t,e,n=null){return new za({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var oN=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Sv(!1,n.type),i=r.length>0?iN([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ae({token:t,providedIn:"environment",factory:()=>new t(te(Vt))})}return t})();function Ee(t){return jo(()=>{let e=TI(t),n=he($({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===E_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(oN).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||jt.Emulated,styles:t.styles||Et,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&oc("NgStandalone"),CI(n);let r=t.dependencies;return n.directiveDefs=rv(r,!1),n.pipeDefs=rv(r,!0),n.id=cN(n),n})}function sN(t){return dr(t)||Tv(t)}function aN(t){return t!==null}function Dr(t){return jo(()=>({type:t.type,bootstrap:t.bootstrap||Et,declarations:t.declarations||Et,imports:t.imports||Et,exports:t.exports||Et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nv(t,e){if(t==null)return ci;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=Nn.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==Nn.None?[r,c]:r,e[o]=s):n[o]=r}return n}function at(t){return jo(()=>{let e=TI(t);return CI(e),e})}function bI(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function TI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ci,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Et,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nv(t.inputs,e),outputs:nv(t.outputs),debugInfo:null}}function CI(t){t.features?.forEach(e=>e(t))}function rv(t,e){if(!t)return null;let n=e?Cv:sN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(aN)}function cN(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function uN(t){return Object.getPrototypeOf(t.prototype).constructor}function Ln(t){let e=uN(t.type),n=!0,r=[t];for(;e;){let i;if(An(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ya(t.inputs),s.inputTransforms=ya(t.inputTransforms),s.declaredInputs=ya(t.declaredInputs),s.outputs=ya(t.outputs);let c=i.hostBindings;c&&pN(t,c);let u=i.viewQuery,d=i.contentQueries;if(u&&hN(t,u),d&&fN(t,d),lN(t,i),ET(t.outputs,i.outputs),An(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===Ln&&(n=!1)}}e=Object.getPrototypeOf(e)}dN(r)}function lN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function dN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ko(i.hostAttrs,n=ko(n,i.hostAttrs))}}function ya(t){return t===ci?{}:t===Et?[]:t}function hN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function fN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function pN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function SI(t){return gN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function mN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function gN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function yN(t,e,n){return t[e]=n}function Ho(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function vN(t){return(t.flags&32)===32}function _N(t,e,n,r,i,o,s,c,u){let d=e.consts,f=$o(e,t,4,s||null,c||null);rI(e,n,f,Pa(d,u)),ah(e,f);let m=f.tView=Dh(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),m.queries=e.queries.embeddedTView(f)),f}function AI(t,e,n,r,i,o,s,c,u,d){let f=n+Tt,m=e.firstCreatePass?_N(f,e,t,r,i,o,s,c,u):e.data[f];Uo(m,!1);let I=IN(e,t,m,n);oh()&&Ih(e,t,I,m),gr(I,t);let D=aI(I,t,I,m);return t[f]=D,uc(t,D),eN(D,m,t),Zd(m)&&eI(e,t,m),u!=null&&tI(t,m,d),m}function Bt(t,e,n,r,i,o,s,c){let u=fe(),d=nt(),f=Pa(d.consts,o);return AI(u,d,t,e,n,r,i,f,s,c),Bt}var IN=wN;function wN(t,e,n,r){return sh(!0),e[Ae].createComment("")}var NI=new B("");function wi(t){return!!t&&typeof t.then=="function"}function Ah(t){return!!t&&typeof t.subscribe=="function"}var Nh=new B("");var xI=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=z(Nh,{optional:!0})??[];injector=z(mt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Mv(this.injector,i);if(wi(o))n.push(o);else if(Ah(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),EN=(()=>{class t{static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new Fd})}return t})(),Fd=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},DN=new B("");function bN(){ny(()=>{throw new H(600,!1)})}function TN(t){return t.isBoundToModule}var CN=10;function SN(t,e,n){try{let r=n();return wi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var xn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=z(eS);afterRenderManager=z(lS);zonelessEnabled=z(lh);rootEffectScheduler=z(EN);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new tn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=z(rc).hasPendingTasks.pipe(cr(n=>!n));constructor(){z(x_,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=z(Vt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof qa;if(!this._injector.get(xI).done){let I=!i&&zT(n),D=!1;throw new H(405,D)}let s;i?s=n:s=this._injector.get(Fo).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let c=TN(s)?void 0:this._injector.get(mi),u=r||s.selector,d=s.create(mt.NULL,[],u,c),f=d.location.nativeElement,m=d.injector.get(NI,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Ea(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(N_.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new H(101,!1);let n=ee(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ee(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(pi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<CN;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)AN(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>tc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ea(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(DN,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ea(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new H(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ea(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AN(t,e,n,r){if(!n&&!tc(t))return;mI(t,e,n&&!r?0:1)}function MI(t,e,n,r){return Ho(t,th(),n)?e+Kd(n)+r:Vn}function va(t,e){return t<<17|e<<2}function vr(t){return t>>17&32767}function NN(t){return(t&2)==2}function xN(t,e){return t&131071|e<<17}function Vd(t){return t|2}function gi(t){return(t&131068)>>2}function Jl(t,e){return t&-131069|e<<2}function MN(t){return(t&1)===1}function Ld(t){return t|1}function RN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=vr(s),u=gi(s);t[r]=n;let d=!1,f;if(Array.isArray(n)){let m=n;f=m[1],(f===null||Bo(m,f)>0)&&(d=!0)}else f=n;if(i)if(u!==0){let I=vr(t[c+1]);t[r+1]=va(I,c),I!==0&&(t[I+1]=Jl(t[I+1],r)),t[c+1]=xN(t[c+1],r)}else t[r+1]=va(c,0),c!==0&&(t[c+1]=Jl(t[c+1],r)),c=r;else t[r+1]=va(u,0),c===0?c=r:t[u+1]=Jl(t[u+1],r),u=r;d&&(t[r+1]=Vd(t[r+1])),iv(t,f,r,!0),iv(t,f,r,!1),PN(e,f,t,r,o),s=va(c,u),o?e.classBindings=s:e.styleBindings=s}function PN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Bo(o,e)>=0&&(n[r+1]=Ld(n[r+1]))}function iv(t,e,n,r){let i=t[n+1],o=e===null,s=r?vr(i):gi(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],d=t[s+1];kN(u,e)&&(c=!0,t[s+1]=r?Ld(d):Vd(d)),s=r?vr(d):gi(d)}c&&(t[n+1]=r?Vd(i):Ld(i))}function kN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Bo(t,e)>=0:!1}function Ue(t,e,n){let r=fe(),i=th();if(Ho(r,i,e)){let o=nt(),s=ih();bh(o,s,r,t,e,r[Ae],n,!1)}return Ue}function ov(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Th(t,n,o[s],s,r)}function jn(t,e){return ON(t,e,null,!0),jn}function ON(t,e,n,r){let i=fe(),o=nt(),s=wC(2);if(o.firstUpdatePass&&VN(o,t,s,r),e!==Vn&&Ho(i,s,e)){let c=o.data[_i()];$N(o,c,i,i[Ae],t,i[s+1]=HN(e,n),r,s)}}function FN(t,e){return e>=t.expandoStartIndex}function VN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[_i()],s=FN(t,n);qN(o,r)&&e===null&&!s&&(e=!1),e=LN(i,o,e,r),RN(i,o,e,n,s,r)}}function LN(t,e,n,r){let i=TC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Zl(null,t,e,n,r),n=Lo(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Zl(i,t,e,n,r),o===null){let u=jN(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Zl(null,t,e,u[1],r),u=Lo(u,e.attrs,r),BN(t,e,r,u))}else o=UN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function jN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(gi(r)!==0)return t[vr(r)]}function BN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[vr(i)]=r}function UN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Lo(r,s,n)}return Lo(r,e.attrs,n)}function Zl(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=Lo(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Lo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),HT(t,s,n?!0:e[++o]))}return t===void 0?null:t}function $N(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,d=u[c+1],f=MN(d)?sv(u,e,n,i,gi(d),s):void 0;if(!Ga(f)){Ga(o)||NN(d)&&(o=sv(u,null,n,i,c,s));let m=Bv(_i(),n);PS(r,s,m,i,o)}}function sv(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],d=Array.isArray(u),f=d?u[1]:u,m=f===null,I=n[i+1];I===Vn&&(I=m?Et:void 0);let D=m?Hl(I,r):f===r?I:void 0;if(d&&!Ga(D)&&(D=Hl(u,r)),Ga(D)&&(c=D,s))return c;let N=t[i+1];i=s?vr(N):gi(N)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Hl(u,r))}return c}function Ga(t){return t!==void 0}function HN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ft(sc(t)))),t}function qN(t,e){return(t.flags&(e?8:16))!==0}function zN(t,e,n,r,i,o){let s=e.consts,c=Pa(s,i),u=$o(e,t,2,r,c);return rI(e,n,u,Pa(s,o)),u.attrs!==null&&Pd(u,u.attrs,!1),u.mergedAttrs!==null&&Pd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function A(t,e,n,r){let i=fe(),o=nt(),s=Tt+t,c=i[Ae],u=o.firstCreatePass?zN(s,o,i,e,n,r):o.data[s],d=GN(o,i,u,c,e,t);i[s]=d;let f=Zd(u);return Uo(u,!0),G_(c,d,u),!vN(u)&&oh()&&Ih(o,i,d,u),fC()===0&&gr(d,i),pC(),f&&(eI(o,i,u),X_(o,u,i)),r!==null&&tI(i,u),A}function x(){let t=st();Wv()?Kv():(t=t.parent,Uo(t,!1));let e=t;gC(e)&&yC(),mC();let n=nt();return n.firstCreatePass&&(ah(n,t),kv(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&RC(e)&&ov(n,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&PC(e)&&ov(n,e,fe(),e.stylesWithoutHost,!1),x}function ue(t,e,n,r){return A(t,e,n,r),x(),ue}var GN=(t,e,n,r,i,o)=>(sh(!0),O_(r,i,AC()));function hc(){return fe()}var Wa="en-US";var WN=Wa;function KN(t){typeof t=="string"&&(WN=t.toLowerCase().replace(/_/g,"-"))}var QN=(t,e,n)=>{};function le(t,e,n,r){let i=fe(),o=nt(),s=st();return RI(o,i,i[Ae],s,t,e,r),le}function YN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Aa],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function RI(t,e,n,r,i,o,s){let c=Zd(r),d=t.firstCreatePass&&gA(t),f=e[Mt],m=mA(e),I=!0;if(r.type&3||s){let F=Rt(r,e),O=s?s(F):F,U=m.length,G=s?ce=>s(Lt(ce[r.index])):r.index,X=null;if(!s&&c&&(X=YN(t,e,i,r.index)),X!==null){let ce=X.__ngLastListenerFn__||X;ce.__ngNextListenerFn__=o,X.__ngLastListenerFn__=o,I=!1}else{o=cv(r,e,f,o),QN(F,i,o);let ce=n.listen(O,i,o);m.push(o,ce),d&&d.push(i,G,U,U+1)}}else o=cv(r,e,f,o);let D=r.outputs,N;if(I&&D!==null&&(N=D[i])){let F=N.length;if(F)for(let O=0;O<F;O+=2){let U=N[O],G=N[O+1],Le=e[U][G].subscribe(o),ie=m.length;m.push(o,Le),d&&d.push(i,r.index,ie,-(ie+1))}}}function av(t,e,n,r){let i=ee(null);try{return Ot(6,e,n),n(r)!==!1}catch(o){return uI(t,o),!1}finally{Ot(7,e,n),ee(i)}}function cv(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Rn(t.index,e):e;Sh(s,5);let c=av(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)c=av(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function Ut(t=1){return SC(t)}function JN(t,e){let n=null,r=BS(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?K_(t,o,!0):HS(r,o))return i}return n}function PI(t){let e=fe()[bt][ot];if(!e.projection){let n=t?t.length:1,r=e.projection=UT(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?JN(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function kI(t,e=0,n,r,i,o){let s=fe(),c=nt(),u=r?t+1:null;u!==null&&AI(s,c,u,r,i,o,null,n);let d=$o(c,Tt+t,16,null,n||null);d.projection===null&&(d.projection=e),Kv();let m=!s[Ro]||zv();s[bt][ot].projection[d.projection]===null&&u!==null?ZN(s,c,u):m&&(d.flags&32)!==32&&MS(c,s,d)}function ZN(t,e,n){let r=Tt+n,i=e.data[r],o=t[r],s=xd(o,i.tView.ssrId),c=lI(t,i,void 0,{dehydratedView:s});dI(o,c,0,Ad(i,s))}function fc(t,e,n){return OI(t,"",e,"",n),fc}function OI(t,e,n,r,i){let o=fe(),s=MI(o,e,n,r);if(s!==Vn){let c=nt(),u=ih();bh(c,u,o,t,s,o[Ae],i,!1)}return OI}function XN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function R(t,e=""){let n=fe(),r=nt(),i=t+Tt,o=r.firstCreatePass?$o(r,i,1,e,null):r.data[i],s=ex(r,n,o,e,t);n[i]=s,oh()&&Ih(r,n,s,o),Uo(o,!1)}var ex=(t,e,n,r,i)=>(sh(!0),vS(e[Ae],r));function $t(t){return Ge("",t,""),$t}function Ge(t,e,n){let r=fe(),i=MI(r,t,e,n);return i!==Vn&&yA(r,_i(),i),Ge}function xh(t,e,n){wI(e)&&(e=e());let r=fe(),i=th();if(Ho(r,i,e)){let o=nt(),s=ih();bh(o,s,r,t,e,r[Ae],n,!1)}return xh}function FI(t,e){let n=wI(t);return n&&t.set(e),n}function Mh(t,e){let n=fe(),r=nt(),i=st();return RI(r,n,n[Ae],i,t,e),Mh}function tx(t,e,n){let r=nt();if(r.firstCreatePass){let i=An(t);jd(n,r.data,r.blueprint,i,!0),jd(e,r.data,r.blueprint,i,!1)}}function jd(t,e,n,r,i){if(t=Xe(t),Array.isArray(t))for(let o=0;o<t.length;o++)jd(t[o],e,n,r,i);else{let o=nt(),s=fe(),c=st(),u=ui(t)?t:Xe(t.provide),d=xv(t),f=c.providerIndexes&1048575,m=c.directiveStart,I=c.providerIndexes>>20;if(ui(t)||!t.multi){let D=new mr(d,i,q),N=ed(u,e,i?f:f+I,m);N===-1?(gd(Va(c,s),o,u),Xl(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(D),s.push(D)):(n[N]=D,s[N]=D)}else{let D=ed(u,e,f+I,m),N=ed(u,e,f,f+I),F=D>=0&&n[D],O=N>=0&&n[N];if(i&&!O||!i&&!F){gd(Va(c,s),o,u);let U=ix(i?rx:nx,n.length,i,r,d);!i&&O&&(n[N].providerFactory=U),Xl(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(U),s.push(U)}else{let U=VI(n[i?N:D],d,!i&&r);Xl(o,t,D>-1?D:N,U)}!i&&r&&O&&n[N].componentProviders++}}}function Xl(t,e,n,r){let i=ui(e),o=YT(e);if(i||o){let u=(o?Xe(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[r,u]):d[f+1].push(r,u)}else d.push(n,u)}}}function VI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ed(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function nx(t,e,n,r){return Bd(this.multi,[])}function rx(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=fi(n,n[Q],this.providerFactory.index,r);o=c.slice(0,s),Bd(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],Bd(i,o);return o}function Bd(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function ix(t,e,n,r,i){let o=new mr(t,n,q);return o.multi=[],o.index=e,o.componentProviders=0,VI(o,i,r&&!n),o}function pc(t,e=[]){return n=>{n.providersResolver=(r,i)=>tx(r,i?i(t):t,e)}}function ox(t,e){let n=t[e];return n===Vn?void 0:n}function sx(t,e,n,r,i,o){let s=e+n;return Ho(t,s,i)?yN(t,s+1,o?r.call(o,i):r(i)):ox(t,s+1)}function Ei(t,e){let n=nt(),r,i=t+Tt;n.firstCreatePass?(r=ax(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=lr(r.type,!0)),s,c=it(q);try{let u=Fa(!1),d=o();return Fa(u),XN(n,fe(),i,d),d}finally{it(c)}}function ax(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Di(t,e,n){let r=t+Tt,i=fe(),o=uC(i,r);return cx(i,r)?sx(i,_C(),e,o.transform,n,o):o.transform(n)}function cx(t,e){return t[Q].data[e].pure}var Mn=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},LI=new Mn("19.0.6");var ux=(()=>{class t{zone=z(Ie);changeDetectionScheduler=z(Oo);applicationRef=z(xn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lx({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ie(he($({},dx()),{scheduleInRootZone:n})),[{provide:Ie,useFactory:t},{provide:xo,multi:!0,useFactory:()=>{let r=z(ux,{optional:!0});return()=>r.initialize()}},{provide:xo,multi:!0,useFactory:()=>{let r=z(hx);return()=>{r.initialize()}}},e===!0?{provide:g_,useValue:!0}:[],{provide:y_,useValue:n??m_}]}function dx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var hx=(()=>{class t{subscription=new Be;initialized=!1;zone=z(Ie);pendingTasks=z(rc);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var fx=(()=>{class t{appRef=z(xn);taskService=z(rc);ngZone=z(Ie);zonelessEnabled=z(lh);tracing=z(x_,{optional:!0});disableScheduling=z(g_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Be;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ja):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(z(y_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?$y:v_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ja+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$y(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function px(){return typeof $localize<"u"&&$localize.locale||Wa}var Rh=new B("",{providedIn:"root",factory:()=>z(Rh,Y.Optional|Y.SkipSelf)||px()});var Ud=new B(""),mx=new B("");function To(t){return!t.moduleRef}function gx(t){let e=To(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{To(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(rn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),To(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Ud);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ud);s.add(o),t.moduleRef.onDestroy(()=>{Ea(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return SN(r,n,()=>{let o=e.get(xI);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Rh,Wa);if(KN(s||Wa),!e.get(mx,!0))return To(t)?e.get(xn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(To(t)){let u=e.get(xn);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return yx(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function yx(t,e){let n=t.injector.get(xn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new H(-403,!1);e.push(t)}var Da=null;function vx(t=[],e){return mt.create({name:e,providers:[{provide:Ya,useValue:"platform"},{provide:Ud,useValue:new Set([()=>Da=null])},...t]})}function _x(t=[]){if(Da)return Da;let e=vx(t);return Da=e,bN(),Ix(e),e}function Ix(t){let e=t.get(ph,null);Mv(t,()=>{e?.forEach(n=>n())})}var mc=(()=>{class t{static __NG_ELEMENT_ID__=wx}return t})();function wx(t){return Ex(st(),fe(),(t&16)===16)}function Ex(t,e,n){if(Xa(t)&&!n){let r=Rn(t.index,e);return new yr(r,r)}else if(t.type&175){let r=e[bt];return new yr(r,e)}return null}var $d=class{constructor(){}supports(e){return SI(e)}create(e){return new Hd(e)}},Dx=(t,e)=>e,Hd=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Dx}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<uv(r,i,o)?n:r,c=uv(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let d=c-i,f=u-i;if(d!=f){for(let I=0;I<d;I++){let D=I<o.length?o[I]:o[I]=0,N=D+I;f<=N&&N<d&&(o[I]=D+1)}let m=s.previousIndex;o[m]=f-d}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!SI(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,mN(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new qd(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ka),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ka),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},qd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},zd=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ka=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new zd,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function uv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function lv(){return new Ph([new $d])}var Ph=(()=>{class t{factories;static \u0275prov=ae({token:t,providedIn:"root",factory:lv});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||lv()),deps:[[t,new BT,new gt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new H(901,!1)}}return t})();function jI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=_x(r),o=[lx({}),{provide:Oo,useExisting:fx},...n||[]],s=new za({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return gx({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function qo(t,e){oc("NgSignals");let n=Xg(t);return e?.equal&&(n[ht].equal=e.equal),n}function Pt(t){let e=ee(null);try{return t()}finally{ee(e)}}var dv=class{[ht];constructor(e){this[ht]=e}destroy(){this[ht].destroy()}};function BI(t,e){let n=dr(t),r=e.elementInjector||Ja();return new Vo(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var HI=null;function bi(){return HI}function qI(t){HI??=t}var gc=class{};var Bn=new B("");function zI(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var kh=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ti=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new kh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),UI(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);UI(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(q(dc),q(lc),q(Ph))};static \u0275dir=at({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function UI(t,e){t.context.$implicit=e.item}var GI=(()=>{class t{_viewContainer;_context=new Oh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){$I("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){$I("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(q(dc),q(lc))};static \u0275dir=at({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Oh=class{$implicit=null;ngIf=null};function $I(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ft(e)}'.`)}function Tx(t,e){return new H(2100,!1)}var Fh=class{createSubscription(e,n){return Pt(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Pt(()=>e.unsubscribe())}},Vh=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},Cx=new Vh,Sx=new Fh,vc=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(wi(n))return Cx;if(Ah(n))return Sx;throw Tx(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(q(mc,16))};static \u0275pipe=bI({name:"async",type:t,pure:!1})}return t})();var be=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Dr({type:t});static \u0275inj=_r({})}return t})(),WI="browser",Ax="server";function Lh(t){return t===Ax}var yc=class{};var Bh=class extends gc{supportsDOMEvents=!0},Uh=class t extends Bh{static makeCurrent(){qI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=xx();return n==null?null:Mx(n)}resetBaseElement(){zo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zI(document.cookie,e)}},zo=null;function xx(){return zo=zo||document.querySelector("base"),zo?zo.getAttribute("href"):null}function Mx(t){return new URL(t,document.baseURI).pathname}var Rx=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),$h=new B(""),XI=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(te($h),te(Ie))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),wc=class{_doc;constructor(e){this._doc=e}manager},Ic="ng-app-id";function KI(t){for(let e of t)e.remove()}function QI(t,e){let n=e.createElement("style");return n.textContent=t,n}function Px(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Ic}="${e}"],link[${Ic}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Ic),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Hh(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var ew=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Lh(o),Px(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,QI);r?.forEach(i=>this.addUsage(i,this.external,Hh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(KI(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])KI(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,QI(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Hh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ic,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(te(Bn),te(fh),te(mh,8),te(Fn))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),jh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zh=/%COMP%/g,tw="%COMP%",kx=`_nghost-${tw}`,Ox=`_ngcontent-${tw}`,Fx=!0,Vx=new B("",{providedIn:"root",factory:()=>Fx});function Lx(t){return Ox.replace(zh,t)}function jx(t){return kx.replace(zh,t)}function nw(t,e){return e.map(n=>n.replace(zh,t))}var YI=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=d,this.platformIsServer=Lh(c),this.defaultRenderer=new Go(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jt.ShadowDom&&(r=he($({},r),{encapsulation:jt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Ec?i.applyToHost(n):i instanceof Wo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case jt.Emulated:o=new Ec(u,d,r,this.appId,f,s,c,m);break;case jt.ShadowDom:return new qh(u,d,n,r,s,c,this.nonce,m);default:o=new Wo(u,d,r,f,s,c,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(te(XI),te(ew),te(fh),te(Vx),te(Bn),te(Fn),te(Ie),te(mh))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),Go=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(jh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(JI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(JI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=jh[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=jh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(on.DashCase|on.Important)?e.style.setProperty(n,r,i&on.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&on.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=bi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function JI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var qh=class extends Go{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=nw(i.id,i.styles);for(let m of d){let I=document.createElement("style");c&&I.setAttribute("nonce",c),I.textContent=m,this.shadowRoot.appendChild(I)}let f=i.getExternalStyles?.();if(f)for(let m of f){let I=Hh(m,o);c&&I.setAttribute("nonce",c),this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wo=class extends Go{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?nw(u,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ec=class extends Wo{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,u){let d=i+"-"+r.id;super(e,n,r,o,s,c,u,d),this.contentAttr=Lx(d),this.hostAttr=jx(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Bx=(()=>{class t extends wc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||t)(te(Bn))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),ZI=["alt","control","meta","shift"],Ux={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$x={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Hx=(()=>{class t extends wc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bi().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),ZI.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=Ux[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ZI.forEach(s=>{if(s!==i){let c=$x[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(te(Bn))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})();function rw(t,e){return jI($({rootComponent:t},qx(e)))}function qx(t){return{appProviders:[...Qx,...t?.providers??[]],platformProviders:Kx}}function zx(){Uh.makeCurrent()}function Gx(){return new rn}function Wx(){return S_(document),document}var Kx=[{provide:Fn,useValue:WI},{provide:ph,useValue:zx,multi:!0},{provide:Bn,useFactory:Wx,deps:[]}];var Qx=[{provide:Ya,useValue:"root"},{provide:rn,useFactory:Gx,deps:[]},{provide:$h,useClass:Bx,multi:!0,deps:[Bn,Ie,Fn]},{provide:$h,useClass:Hx,multi:!0,deps:[Bn]},YI,ew,XI,{provide:pi,useExisting:YI},{provide:yc,useClass:Rx,deps:[]},[]];var ow=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Yx=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},sw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=o>>2,m=(o&3)<<4|c>>4,I=(c&15)<<2|d>>6,D=d&63;u||(D=64,s||(I=64)),r.push(n[f],n[m],n[I],n[D])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ow(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Yx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||d==null||m==null)throw new Wh;let I=o<<2|c>>4;if(r.push(I),d!==64){let D=c<<4&240|d>>2;if(r.push(D),m!==64){let N=d<<6&192|m;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Wh=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Jx=function(t){let e=ow(t);return sw.encodeByteArray(e,!0)},Ko=function(t){return Jx(t).replace(/\./g,"")},Qh=function(t){try{return sw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Xx=()=>Zx().__FIREBASE_DEFAULTS__,eM=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Qh(t[1]);return e&&JSON.parse(e)},bc=()=>{try{return Xx()||eM()||tM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aw=t=>{var e,n;return(n=(e=bc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cw=t=>{let e=aw(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Yh=()=>{var t;return(t=bc())===null||t===void 0?void 0:t.config},uw=t=>{var e;return(e=bc())===null||e===void 0?void 0:e[`_${t}`]};var Dc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function lw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ko(JSON.stringify(n)),Ko(JSON.stringify(s)),""].join(".")}function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function nM(){var t;let e=(t=bc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qo(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pw(){return!nM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ci(){try{return typeof indexedDB=="object"}catch{return!1}}function Yo(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function Jh(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var rM="FirebaseError",We=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rM,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yt.prototype.create)}},yt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?iM(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new We(i,c,r)}};function iM(t,e){return t.replace(oM,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var oM=/\{\$([^}]+)}/g;function Un(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(iw(o)&&iw(s)){if(!Un(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function iw(t){return t!==null&&typeof t=="object"}function Zh(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mw(t,e){let n=new Kh(t,e);return n.subscribe.bind(n)}var Kh=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gh),i.error===void 0&&(i.error=Gh),i.complete===void 0&&(i.complete=Gh);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function sM(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gh(){}var aM=1e3,cM=2,uM=4*60*60*1e3,lM=.5;function Xh(t,e=aM,n=cM){let r=e*Math.pow(n,t),i=Math.round(lM*r*(Math.random()-.5)*2);return Math.min(uM,r+i)}function ct(t){return t&&t._delegate?t._delegate:t}var Oe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var br="[DEFAULT]";var ef=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Dc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hM(e))try{this.getOrInitializeService({instanceIdentifier:br})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=br){return this.instances.has(e)}getOptions(e=br){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=br){return this.component?this.component.multipleInstances?e:br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function dM(t){return t===br?void 0:t}function hM(t){return t.instantiationMode==="EAGER"}var Tc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ef(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var fM=[],J=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(J||{}),pM={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},mM=J.INFO,gM={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},yM=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=gM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ht=class{constructor(e){this.name=e,this._logLevel=mM,this._logHandler=yM,this._userLogHandler=null,fM.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}};var vM=(t,e)=>e.some(n=>t instanceof n),gw,yw;function _M(){return gw||(gw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IM(){return yw||(yw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vw=new WeakMap,nf=new WeakMap,_w=new WeakMap,tf=new WeakMap,of=new WeakMap;function wM(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&vw.set(n,t)}).catch(()=>{}),of.set(e,t),e}function EM(t){if(nf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});nf.set(t,e)}var rf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_w.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Iw(t){rf=t(rf)}function DM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Cc(this),e,...n);return _w.set(r,e.sort?e.sort():[e]),qt(r)}:IM().includes(t)?function(...e){return t.apply(Cc(this),e),qt(vw.get(this))}:function(...e){return qt(t.apply(Cc(this),e))}}function bM(t){return typeof t=="function"?DM(t):(t instanceof IDBTransaction&&EM(t),vM(t,_M())?new Proxy(t,rf):t)}function qt(t){if(t instanceof IDBRequest)return wM(t);if(tf.has(t))return tf.get(t);let e=bM(t);return e!==t&&(tf.set(t,e),of.set(e,t)),e}var Cc=t=>of.get(t);function Sc(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=qt(s);return r&&s.addEventListener("upgradeneeded",u=>{r(qt(s.result),u.oldVersion,u.newVersion,qt(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var TM=["get","getKey","getAll","getAllKeys","count"],CM=["put","add","delete","clear"],sf=new Map;function ww(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sf.get(e))return sf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=CM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TM.includes(n)))return;let o=function(s,...c){return T(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),i&&u.done]))[0]})};return sf.set(e,o),o}Iw(t=>he($({},t),{get:(e,n,r)=>ww(e,n)||t.get(e,n,r),has:(e,n)=>!!ww(e,n)||t.has(e,n)}));var cf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SM(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function SM(t){let e=t.getComponent();return e?.type==="VERSION"}var uf="@firebase/app",Ew="0.10.13";var cn=new Ht("@firebase/app"),AM="@firebase/app-compat",NM="@firebase/analytics-compat",xM="@firebase/analytics",MM="@firebase/app-check-compat",RM="@firebase/app-check",PM="@firebase/auth",kM="@firebase/auth-compat",OM="@firebase/database",FM="@firebase/data-connect",VM="@firebase/database-compat",LM="@firebase/functions",jM="@firebase/functions-compat",BM="@firebase/installations",UM="@firebase/installations-compat",$M="@firebase/messaging",HM="@firebase/messaging-compat",qM="@firebase/performance",zM="@firebase/performance-compat",GM="@firebase/remote-config",WM="@firebase/remote-config-compat",KM="@firebase/storage",QM="@firebase/storage-compat",YM="@firebase/firestore",JM="@firebase/vertexai-preview",ZM="@firebase/firestore-compat",XM="firebase",eR="10.14.1";var lf="[DEFAULT]",tR={[uf]:"fire-core",[AM]:"fire-core-compat",[xM]:"fire-analytics",[NM]:"fire-analytics-compat",[RM]:"fire-app-check",[MM]:"fire-app-check-compat",[PM]:"fire-auth",[kM]:"fire-auth-compat",[OM]:"fire-rtdb",[FM]:"fire-data-connect",[VM]:"fire-rtdb-compat",[LM]:"fire-fn",[jM]:"fire-fn-compat",[BM]:"fire-iid",[UM]:"fire-iid-compat",[$M]:"fire-fcm",[HM]:"fire-fcm-compat",[qM]:"fire-perf",[zM]:"fire-perf-compat",[GM]:"fire-rc",[WM]:"fire-rc-compat",[KM]:"fire-gcs",[QM]:"fire-gcs-compat",[YM]:"fire-fst",[ZM]:"fire-fst-compat",[JM]:"fire-vertex","fire-js":"fire-js",[XM]:"fire-js-all"};var Jo=new Map,nR=new Map,df=new Map;function Dw(t,e){try{t.container.addComponent(e)}catch(n){cn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ut(t){let e=t.name;if(df.has(e))return cn.debug(`There were multiple attempts to register component ${e}.`),!1;df.set(e,t);for(let n of Jo.values())Dw(n,t);for(let n of nR.values())Dw(n,t);return!0}function un(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Si(t){return t.settings!==void 0}var rR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$n=new yt("app","Firebase",rR);var hf=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}};var Ai=eR;function mf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:lf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $n.create("bad-app-name",{appName:String(i)});if(n||(n=Yh()),!n)throw $n.create("no-options");let o=Jo.get(i);if(o){if(Un(n,o.options)&&Un(r,o.config))return o;throw $n.create("duplicate-app",{appName:i})}let s=new Tc(i);for(let u of df.values())s.addComponent(u);let c=new hf(n,r,s);return Jo.set(i,c),c}function Hn(t=lf){let e=Jo.get(t);if(!e&&t===lf&&Yh())return mf();if(!e)throw $n.create("no-app",{appName:t});return e}function Ac(){return Array.from(Jo.values())}function ye(t,e,n){var r;let i=(r=tR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cn.warn(c.join(" "));return}ut(new Oe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var iR="firebase-heartbeat-database",oR=1,Zo="firebase-heartbeat-store",af=null;function Sw(){return af||(af=Sc(iR,oR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw $n.create("idb-open",{originalErrorMessage:t.message})})),af}function sR(t){return T(this,null,function*(){try{let n=(yield Sw()).transaction(Zo),r=yield n.objectStore(Zo).get(Aw(t));return yield n.done,r}catch(e){if(e instanceof We)cn.warn(e.message);else{let n=$n.create("idb-get",{originalErrorMessage:e?.message});cn.warn(n.message)}}})}function bw(t,e){return T(this,null,function*(){try{let r=(yield Sw()).transaction(Zo,"readwrite");yield r.objectStore(Zo).put(e,Aw(t)),yield r.done}catch(n){if(n instanceof We)cn.warn(n.message);else{let r=$n.create("idb-set",{originalErrorMessage:n?.message});cn.warn(r.message)}}})}function Aw(t){return`${t.name}!${t.options.appId}`}var aR=1024,cR=30*24*60*60*1e3,ff=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new pf(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Tw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=cR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){cn.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Tw(),{heartbeatsToSend:r,unsentEntries:i}=uR(this._heartbeatsCache.heartbeats),o=Ko(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return cn.warn(n),""}})}};function Tw(){return new Date().toISOString().substring(0,10)}function uR(t,e=aR){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Cw(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var pf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return Ci()?Yo().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield sR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Cw(t){return Ko(JSON.stringify({version:2,heartbeats:t})).length}function lR(t){ut(new Oe("platform-logger",e=>new cf(e),"PRIVATE")),ut(new Oe("heartbeat",e=>new ff(e),"PRIVATE")),ye(uf,Ew,t),ye(uf,Ew,"esm2017"),ye("fire-js","")}lR("");var dR="firebase",hR="10.14.1";ye(dR,hR,"app");var qn=new Mn("ANGULARFIRE2_VERSION"),Nw=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function es(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Cr=(t,e)=>{let n=e?[e]:Ac(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Xo=class{constructor(){return Cr(fR)}},fR="app-check";function Ni(){}var Nc=class{zone;delegate;constructor(e,n=Ll){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},gf=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni)),n.pipe($l({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Sr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Nc(Zone.current)),this.insideAngular=n.run(()=>new Nc(Zone.current,Vl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(te(Ie))};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function pR(t){return xc().ngZone.runOutsideAngular(()=>t())}function Tr(t){return xc().ngZone.run(()=>t())}function mR(t){return gR(xc())(t)}function gR(t){return function(n){return n=n.lift(new gf(t.ngZone)),n.pipe(bn(t.outsideAngular),Dn(t.insideAngular))}}var yR=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Tr(()=>t.apply(void 0,r))},zt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Tr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni))),r[o]=yR(r[o],n));let i=pR(()=>t.apply(this,r));if(!e)if(i instanceof ge){let o=xc();return i.pipe(bn(o.outsideAngular),Dn(o.insideAngular))}else return Tr(()=>i);return i instanceof ge?i.pipe(mR):i instanceof Promise?Tr(()=>new Promise((o,s)=>i.then(c=>Tr(()=>o(c)),c=>Tr(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Tr(()=>i)};var ln=class{constructor(e){return e}},Ar=class{constructor(){return Ac()}};function vR(t){return t&&t.length===1?t[0]:new ln(Hn())}var yf=new B("angularfire2._apps"),_R={provide:ln,useFactory:vR,deps:[[new gt,yf]]},IR={provide:Ar,deps:[[new gt,yf]]};function wR(t){return(e,n)=>{let r=n.get(Fn);ye("angularfire",qn.full,"core"),ye("angularfire",qn.full,"app"),ye("angular",LI.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ln(i)}}function xw(t,...e){return Ir([_R,IR,{provide:yf,useFactory:wR(t),multi:!0,deps:[Ie,mt,Sr,...e]}])}var Mw=zt(mf,!0);function jw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Bw=jw,Uw=new yt("auth","Firebase",jw());var kc=new Ht("@firebase/auth");function DR(t,...e){kc.logLevel<=J.WARN&&kc.warn(`Auth (${Ai}): ${t}`,...e)}function Rc(t,...e){kc.logLevel<=J.ERROR&&kc.error(`Auth (${Ai}): ${t}`,...e)}function Rw(t,...e){throw Nf(t,...e)}function Af(t,...e){return Nf(t,...e)}function $w(t,e,n){let r=Object.assign(Object.assign({},Bw()),{[e]:n});return new yt("auth","Firebase",r).create(e,{appName:t.name})}function Pc(t){return $w(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nf(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Uw.create(t,...e)}function de(t,e,...n){if(!t)throw Nf(e,...n)}function ts(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Rc(e),new Error(e)}function Oc(t,e){t||ts(e)}function bR(){return Pw()==="http:"||Pw()==="https:"}function Pw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function TR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bR()||Qo()||"connection"in navigator)?navigator.onLine:!0}function CR(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var xr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oc(n>e,"Short delay should be less than long delay!"),this.isMobile=dw()||fw()}get(){return TR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function SR(t,e){Oc(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Fc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var AR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var NR=new xr(3e4,6e4);function Hw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Bc(o,s,c,u){return T(this,arguments,function*(t,e,n,r,i={}){return qw(t,i,()=>T(this,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let m=Zh(Object.assign({key:t.config.apiKey},f)).slice(1),I=yield t._getAdditionalHeaders();I["Content-Type"]="application/json",t.languageCode&&(I["X-Firebase-Locale"]=t.languageCode);let D=Object.assign({method:e,headers:I},d);return hw()||(D.referrerPolicy="no-referrer"),Fc.fetch()(zw(t,t.config.apiHost,n,m),D)}))})}function qw(t,e,n){return T(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},AR),e);try{let i=new If(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Mc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Mc(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Mc(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw $w(t,f,d);Rw(t,f)}}catch(i){if(i instanceof We)throw i;Rw(t,"network-request-failed",{message:String(i)})}})}function zw(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?SR(t.config,i):`${t.config.apiScheme}://${i}`}var If=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Af(this.auth,"network-request-failed")),NR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Mc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Af(t,e,r);return i.customData._tokenResponse=n,i}function xR(t,e){return T(this,null,function*(){return Bc(t,"POST","/v1/accounts:delete",e)})}function Gw(t,e){return T(this,null,function*(){return Bc(t,"POST","/v1/accounts:lookup",e)})}function ns(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xf(t,e=!1){return T(this,null,function*(){let n=ct(t),r=yield n.getIdToken(e),i=Ww(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ns(vf(i.auth_time)),issuedAtTime:ns(vf(i.iat)),expirationTime:ns(vf(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function vf(t){return Number(t)*1e3}function Ww(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{let i=Qh(n);return i?JSON.parse(i):(Rc("Failed to decode base64 JWT payload"),null)}catch(i){return Rc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function kw(t){let e=Ww(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function wf(t,e,n=!1){return T(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof We&&MR(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function MR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ef=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),n)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var is=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ns(this.lastLoginAt),this.creationTime=ns(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vc(t){return T(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield wf(t,Gw(n,{idToken:r}));de(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Kw(o.providerUserInfo):[],c=RR(t.providerData,s),u=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!c?.length,f=u?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new is(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,m)})}function Mf(t){return T(this,null,function*(){let e=ct(t);yield Vc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function RR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Kw(t){return t.map(e=>{var{providerId:n}=e,r=jl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function PR(t,e){return T(this,null,function*(){let n=yield qw(t,{},()=>T(this,null,function*(){let r=Zh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=zw(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Fc.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function kR(t,e){return T(this,null,function*(){return Bc(t,"POST","/v2/accounts:revokeToken",Hw(t,e))})}var rs=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");let n=kw(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return T(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield PR(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ts("not implemented")}};function zn(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var os=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=jl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ef(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new is(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let n=yield wf(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return xf(this,e)}reload(){return Mf(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Vc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(Si(this.auth.app))return Promise.reject(Pc(this.auth));let e=yield this.getIdToken();return yield wf(this,xR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,d,f;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(i=n.email)!==null&&i!==void 0?i:void 0,D=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,N=(s=n.photoURL)!==null&&s!==void 0?s:void 0,F=(c=n.tenantId)!==null&&c!==void 0?c:void 0,O=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,U=(d=n.createdAt)!==null&&d!==void 0?d:void 0,G=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:X,emailVerified:ce,isAnonymous:Le,providerData:ie,stsTokenManager:w}=n;de(X&&w,e,"internal-error");let g=rs.fromJSON(this.name,w);de(typeof X=="string",e,"internal-error"),zn(m,e.name),zn(I,e.name),de(typeof ce=="boolean",e,"internal-error"),de(typeof Le=="boolean",e,"internal-error"),zn(D,e.name),zn(N,e.name),zn(F,e.name),zn(O,e.name),zn(U,e.name),zn(G,e.name);let y=new t({uid:X,auth:e,email:I,emailVerified:ce,displayName:m,isAnonymous:Le,photoURL:N,phoneNumber:D,tenantId:F,stsTokenManager:g,createdAt:U,lastLoginAt:G});return ie&&Array.isArray(ie)&&(y.providerData=ie.map(_=>Object.assign({},_))),O&&(y._redirectEventId=O),y}static _fromIdTokenResponse(e,n,r=!1){return T(this,null,function*(){let i=new rs;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vc(o),o})}static _fromGetAccountInfoResponse(e,n,r){return T(this,null,function*(){let i=n.users[0];de(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Kw(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new rs;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new is(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var Ow=new Map;function Nr(t){Oc(t instanceof Function,"Expected a class definition");let e=Ow.get(t);return e?(Oc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ow.set(t,e),e)}var OR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(n,r){return T(this,null,function*(){this.storage[n]=r})}_get(n){return T(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return T(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Df=OR;function _f(t,e,n){return`firebase:${t}:${e}:${n}`}var Lc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=_f(this.userKey,i.apiKey,o),this.fullPersistenceKey=_f("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?os._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return T(this,null,function*(){if(!n.length)return new t(Nr(Df),e,r);let i=(yield Promise.all(n.map(d=>T(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||Nr(Df),s=_f(r,e.config.apiKey,e.name),c=null;for(let d of n)try{let f=yield d._get(s);if(f){let m=os._fromJSON(e,f);d!==o&&(c=m),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(d=>T(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,r))})}};function Fw(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UR(e))return"Blackberry";if($R(e))return"Webos";if(VR(e))return"Safari";if((e.includes("chrome/")||LR(e))&&!e.includes("edge/"))return"Chrome";if(BR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function FR(t=vt()){return/firefox\//i.test(t)}function VR(t=vt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LR(t=vt()){return/crios\//i.test(t)}function jR(t=vt()){return/iemobile/i.test(t)}function BR(t=vt()){return/android/i.test(t)}function UR(t=vt()){return/blackberry/i.test(t)}function $R(t=vt()){return/webos/i.test(t)}function Qw(t,e=[]){let n;switch(t){case"Browser":n=Fw(vt());break;case"Worker":n=`${Fw(vt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ai}/${r}`}var bf=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function HR(n){return T(this,arguments,function*(t,e={}){return Bc(t,"GET","/v2/passwordPolicy",Hw(t,e))})}var qR=6,Tf=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:qR,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Cf=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jc(this),this.idTokenSubscription=new jc(this),this.beforeStateQueue=new bf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Lc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let n=yield Gw(this,{idToken:e}),r=yield os._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var n;if(Si(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield Vc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=CR()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(Si(this.app))return Promise.reject(Pc(this));let n=e?ct(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return T(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return Si(this.app)?Promise.reject(Pc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Si(this.app)?Promise.reject(Pc(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(Nr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield HR(this),n=new Tf(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield kR(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Nr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=yield Lc.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return T(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&DR(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function zR(t){return ct(t)}var jc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=mw(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var GR={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WR(t){GR=t}function KR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function QR(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Nr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var wU=KR("rcb"),EU=new xr(3e4,6e4);var DU=new xr(2e3,1e4);var bU=10*60*1e3;var TU=new xr(3e4,6e4);var CU=new xr(5e3,15e3);var SU=encodeURIComponent("fac");var Vw="@firebase/auth",Lw="1.7.9";var Sf=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function YR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JR(t){ut(new Oe("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qw(t)},d=new Cf(r,i,o,u);return QR(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ut(new Oe("auth-internal",e=>{let n=zR(e.getProvider("auth").getImmediate());return(r=>new Sf(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ye(Vw,Lw,YR(t)),ye(Vw,Lw,"esm2017")}var ZR=5*60,AU=uw("authIdTokenMaxAge")||ZR;function XR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}WR({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Af("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",XR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JR("Browser");var ZP="auth";var Uc=class{constructor(){return Cr(ZP)}};var Yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jw={};var Rf,Zw;(function(){var t;function e(w,g){function y(){}y.prototype=g.prototype,w.D=g.prototype,w.prototype=new y,w.prototype.constructor=w,w.C=function(_,E,C){for(var v=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)v[Zt-2]=arguments[Zt];return g.prototype[E].apply(_,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,g,y){y||(y=0);var _=Array(16);if(typeof g=="string")for(var E=0;16>E;++E)_[E]=g.charCodeAt(y++)|g.charCodeAt(y++)<<8|g.charCodeAt(y++)<<16|g.charCodeAt(y++)<<24;else for(E=0;16>E;++E)_[E]=g[y++]|g[y++]<<8|g[y++]<<16|g[y++]<<24;g=w.g[0],y=w.g[1],E=w.g[2];var C=w.g[3],v=g+(C^y&(E^C))+_[0]+3614090360&4294967295;g=y+(v<<7&4294967295|v>>>25),v=C+(E^g&(y^E))+_[1]+3905402710&4294967295,C=g+(v<<12&4294967295|v>>>20),v=E+(y^C&(g^y))+_[2]+606105819&4294967295,E=C+(v<<17&4294967295|v>>>15),v=y+(g^E&(C^g))+_[3]+3250441966&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(C^y&(E^C))+_[4]+4118548399&4294967295,g=y+(v<<7&4294967295|v>>>25),v=C+(E^g&(y^E))+_[5]+1200080426&4294967295,C=g+(v<<12&4294967295|v>>>20),v=E+(y^C&(g^y))+_[6]+2821735955&4294967295,E=C+(v<<17&4294967295|v>>>15),v=y+(g^E&(C^g))+_[7]+4249261313&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(C^y&(E^C))+_[8]+1770035416&4294967295,g=y+(v<<7&4294967295|v>>>25),v=C+(E^g&(y^E))+_[9]+2336552879&4294967295,C=g+(v<<12&4294967295|v>>>20),v=E+(y^C&(g^y))+_[10]+4294925233&4294967295,E=C+(v<<17&4294967295|v>>>15),v=y+(g^E&(C^g))+_[11]+2304563134&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(C^y&(E^C))+_[12]+1804603682&4294967295,g=y+(v<<7&4294967295|v>>>25),v=C+(E^g&(y^E))+_[13]+4254626195&4294967295,C=g+(v<<12&4294967295|v>>>20),v=E+(y^C&(g^y))+_[14]+2792965006&4294967295,E=C+(v<<17&4294967295|v>>>15),v=y+(g^E&(C^g))+_[15]+1236535329&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(E^C&(y^E))+_[1]+4129170786&4294967295,g=y+(v<<5&4294967295|v>>>27),v=C+(y^E&(g^y))+_[6]+3225465664&4294967295,C=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(C^g))+_[11]+643717713&4294967295,E=C+(v<<14&4294967295|v>>>18),v=y+(C^g&(E^C))+_[0]+3921069994&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(E^C&(y^E))+_[5]+3593408605&4294967295,g=y+(v<<5&4294967295|v>>>27),v=C+(y^E&(g^y))+_[10]+38016083&4294967295,C=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(C^g))+_[15]+3634488961&4294967295,E=C+(v<<14&4294967295|v>>>18),v=y+(C^g&(E^C))+_[4]+3889429448&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(E^C&(y^E))+_[9]+568446438&4294967295,g=y+(v<<5&4294967295|v>>>27),v=C+(y^E&(g^y))+_[14]+3275163606&4294967295,C=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(C^g))+_[3]+4107603335&4294967295,E=C+(v<<14&4294967295|v>>>18),v=y+(C^g&(E^C))+_[8]+1163531501&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(E^C&(y^E))+_[13]+2850285829&4294967295,g=y+(v<<5&4294967295|v>>>27),v=C+(y^E&(g^y))+_[2]+4243563512&4294967295,C=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(C^g))+_[7]+1735328473&4294967295,E=C+(v<<14&4294967295|v>>>18),v=y+(C^g&(E^C))+_[12]+2368359562&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(y^E^C)+_[5]+4294588738&4294967295,g=y+(v<<4&4294967295|v>>>28),v=C+(g^y^E)+_[8]+2272392833&4294967295,C=g+(v<<11&4294967295|v>>>21),v=E+(C^g^y)+_[11]+1839030562&4294967295,E=C+(v<<16&4294967295|v>>>16),v=y+(E^C^g)+_[14]+4259657740&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(y^E^C)+_[1]+2763975236&4294967295,g=y+(v<<4&4294967295|v>>>28),v=C+(g^y^E)+_[4]+1272893353&4294967295,C=g+(v<<11&4294967295|v>>>21),v=E+(C^g^y)+_[7]+4139469664&4294967295,E=C+(v<<16&4294967295|v>>>16),v=y+(E^C^g)+_[10]+3200236656&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(y^E^C)+_[13]+681279174&4294967295,g=y+(v<<4&4294967295|v>>>28),v=C+(g^y^E)+_[0]+3936430074&4294967295,C=g+(v<<11&4294967295|v>>>21),v=E+(C^g^y)+_[3]+3572445317&4294967295,E=C+(v<<16&4294967295|v>>>16),v=y+(E^C^g)+_[6]+76029189&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(y^E^C)+_[9]+3654602809&4294967295,g=y+(v<<4&4294967295|v>>>28),v=C+(g^y^E)+_[12]+3873151461&4294967295,C=g+(v<<11&4294967295|v>>>21),v=E+(C^g^y)+_[15]+530742520&4294967295,E=C+(v<<16&4294967295|v>>>16),v=y+(E^C^g)+_[2]+3299628645&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(E^(y|~C))+_[0]+4096336452&4294967295,g=y+(v<<6&4294967295|v>>>26),v=C+(y^(g|~E))+_[7]+1126891415&4294967295,C=g+(v<<10&4294967295|v>>>22),v=E+(g^(C|~y))+_[14]+2878612391&4294967295,E=C+(v<<15&4294967295|v>>>17),v=y+(C^(E|~g))+_[5]+4237533241&4294967295,y=E+(v<<21&4294967295|v>>>11),v=g+(E^(y|~C))+_[12]+1700485571&4294967295,g=y+(v<<6&4294967295|v>>>26),v=C+(y^(g|~E))+_[3]+2399980690&4294967295,C=g+(v<<10&4294967295|v>>>22),v=E+(g^(C|~y))+_[10]+4293915773&4294967295,E=C+(v<<15&4294967295|v>>>17),v=y+(C^(E|~g))+_[1]+2240044497&4294967295,y=E+(v<<21&4294967295|v>>>11),v=g+(E^(y|~C))+_[8]+1873313359&4294967295,g=y+(v<<6&4294967295|v>>>26),v=C+(y^(g|~E))+_[15]+4264355552&4294967295,C=g+(v<<10&4294967295|v>>>22),v=E+(g^(C|~y))+_[6]+2734768916&4294967295,E=C+(v<<15&4294967295|v>>>17),v=y+(C^(E|~g))+_[13]+1309151649&4294967295,y=E+(v<<21&4294967295|v>>>11),v=g+(E^(y|~C))+_[4]+4149444226&4294967295,g=y+(v<<6&4294967295|v>>>26),v=C+(y^(g|~E))+_[11]+3174756917&4294967295,C=g+(v<<10&4294967295|v>>>22),v=E+(g^(C|~y))+_[2]+718787259&4294967295,E=C+(v<<15&4294967295|v>>>17),v=y+(C^(E|~g))+_[9]+3951481745&4294967295,w.g[0]=w.g[0]+g&4294967295,w.g[1]=w.g[1]+(E+(v<<21&4294967295|v>>>11))&4294967295,w.g[2]=w.g[2]+E&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,g){g===void 0&&(g=w.length);for(var y=g-this.blockSize,_=this.B,E=this.h,C=0;C<g;){if(E==0)for(;C<=y;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<g;)if(_[E++]=w.charCodeAt(C++),E==this.blockSize){i(this,_),E=0;break}}else for(;C<g;)if(_[E++]=w[C++],E==this.blockSize){i(this,_),E=0;break}}this.h=E,this.o+=g},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var g=1;g<w.length-8;++g)w[g]=0;var y=8*this.o;for(g=w.length-8;g<w.length;++g)w[g]=y&255,y/=256;for(this.u(w),w=Array(16),g=y=0;4>g;++g)for(var _=0;32>_;_+=8)w[y++]=this.g[g]>>>_&255;return w};function o(w,g){var y=c;return Object.prototype.hasOwnProperty.call(y,w)?y[w]:y[w]=g(w)}function s(w,g){this.h=g;for(var y=[],_=!0,E=w.length-1;0<=E;E--){var C=w[E]|0;_&&C==g||(y[E]=C,_=!1)}this.g=y}var c={};function u(w){return-128<=w&&128>w?o(w,function(g){return new s([g|0],0>g?-1:0)}):new s([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return m;if(0>w)return O(d(-w));for(var g=[],y=1,_=0;w>=y;_++)g[_]=w/y|0,y*=4294967296;return new s(g,0)}function f(w,g){if(w.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(w.charAt(0)=="-")return O(f(w.substring(1),g));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(g,8)),_=m,E=0;E<w.length;E+=8){var C=Math.min(8,w.length-E),v=parseInt(w.substring(E,E+C),g);8>C?(C=d(Math.pow(g,C)),_=_.j(C).add(d(v))):(_=_.j(y),_=_.add(d(v)))}return _}var m=u(0),I=u(1),D=u(16777216);t=s.prototype,t.m=function(){if(F(this))return-O(this).m();for(var w=0,g=1,y=0;y<this.g.length;y++){var _=this.i(y);w+=(0<=_?_:4294967296+_)*g,g*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N(this))return"0";if(F(this))return"-"+O(this).toString(w);for(var g=d(Math.pow(w,6)),y=this,_="";;){var E=ce(y,g).g;y=U(y,E.j(g));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(w);if(y=E,N(y))return C+_;for(;6>C.length;)C="0"+C;_=C+_}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function N(w){if(w.h!=0)return!1;for(var g=0;g<w.g.length;g++)if(w.g[g]!=0)return!1;return!0}function F(w){return w.h==-1}t.l=function(w){return w=U(this,w),F(w)?-1:N(w)?0:1};function O(w){for(var g=w.g.length,y=[],_=0;_<g;_++)y[_]=~w.g[_];return new s(y,~w.h).add(I)}t.abs=function(){return F(this)?O(this):this},t.add=function(w){for(var g=Math.max(this.g.length,w.g.length),y=[],_=0,E=0;E<=g;E++){var C=_+(this.i(E)&65535)+(w.i(E)&65535),v=(C>>>16)+(this.i(E)>>>16)+(w.i(E)>>>16);_=v>>>16,C&=65535,v&=65535,y[E]=v<<16|C}return new s(y,y[y.length-1]&-2147483648?-1:0)};function U(w,g){return w.add(O(g))}t.j=function(w){if(N(this)||N(w))return m;if(F(this))return F(w)?O(this).j(O(w)):O(O(this).j(w));if(F(w))return O(this.j(O(w)));if(0>this.l(D)&&0>w.l(D))return d(this.m()*w.m());for(var g=this.g.length+w.g.length,y=[],_=0;_<2*g;_++)y[_]=0;for(_=0;_<this.g.length;_++)for(var E=0;E<w.g.length;E++){var C=this.i(_)>>>16,v=this.i(_)&65535,Zt=w.i(E)>>>16,to=w.i(E)&65535;y[2*_+2*E]+=v*to,G(y,2*_+2*E),y[2*_+2*E+1]+=C*to,G(y,2*_+2*E+1),y[2*_+2*E+1]+=v*Zt,G(y,2*_+2*E+1),y[2*_+2*E+2]+=C*Zt,G(y,2*_+2*E+2)}for(_=0;_<g;_++)y[_]=y[2*_+1]<<16|y[2*_];for(_=g;_<2*g;_++)y[_]=0;return new s(y,0)};function G(w,g){for(;(w[g]&65535)!=w[g];)w[g+1]+=w[g]>>>16,w[g]&=65535,g++}function X(w,g){this.g=w,this.h=g}function ce(w,g){if(N(g))throw Error("division by zero");if(N(w))return new X(m,m);if(F(w))return g=ce(O(w),g),new X(O(g.g),O(g.h));if(F(g))return g=ce(w,O(g)),new X(O(g.g),g.h);if(30<w.g.length){if(F(w)||F(g))throw Error("slowDivide_ only works with positive integers.");for(var y=I,_=g;0>=_.l(w);)y=Le(y),_=Le(_);var E=ie(y,1),C=ie(_,1);for(_=ie(_,2),y=ie(y,2);!N(_);){var v=C.add(_);0>=v.l(w)&&(E=E.add(y),C=v),_=ie(_,1),y=ie(y,1)}return g=U(w,E.j(g)),new X(E,g)}for(E=m;0<=w.l(g);){for(y=Math.max(1,Math.floor(w.m()/g.m())),_=Math.ceil(Math.log(y)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),C=d(y),v=C.j(g);F(v)||0<v.l(w);)y-=_,C=d(y),v=C.j(g);N(C)&&(C=I),E=E.add(C),w=U(w,v)}return new X(E,w)}t.A=function(w){return ce(this,w).h},t.and=function(w){for(var g=Math.max(this.g.length,w.g.length),y=[],_=0;_<g;_++)y[_]=this.i(_)&w.i(_);return new s(y,this.h&w.h)},t.or=function(w){for(var g=Math.max(this.g.length,w.g.length),y=[],_=0;_<g;_++)y[_]=this.i(_)|w.i(_);return new s(y,this.h|w.h)},t.xor=function(w){for(var g=Math.max(this.g.length,w.g.length),y=[],_=0;_<g;_++)y[_]=this.i(_)^w.i(_);return new s(y,this.h^w.h)};function Le(w){for(var g=w.g.length+1,y=[],_=0;_<g;_++)y[_]=w.i(_)<<1|w.i(_-1)>>>31;return new s(y,w.h)}function ie(w,g){var y=g>>5;g%=32;for(var _=w.g.length-y,E=[],C=0;C<_;C++)E[C]=0<g?w.i(C+y)>>>g|w.i(C+y+1)<<32-g:w.i(C+y);return new s(E,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Zw=Jw.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,Rf=Jw.Integer=s}).apply(typeof Yw<"u"?Yw:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dn={};var Pf,XP,xi,kf,ss,Hc,Of,Ff,Vf;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in h))break e;h=h[b]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function o(a,l){a instanceof String&&(a+="");var h=0,p=!1,b={next:function(){if(!p&&h<a.length){var S=h++;return{value:l(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(l,h){return h})}});var s=s||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function m(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(l,b)}}return function(){return a.apply(l,arguments)}}function I(a,l,h){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,I.apply(null,arguments)}function D(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function N(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,b,S){for(var k=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)k[pe-2]=arguments[pe];return l.prototype[b].apply(p,k)}}function F(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function O(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let b=a.length||0,S=p.length||0;a.length=b+S;for(let k=0;k<S;k++)a[b+k]=p[k]}else a.push(p)}}class U{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function G(a){return/^[\s\xa0]*$/.test(a)}function X(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ce(a){return ce[" "](a),a}ce[" "]=function(){};var Le=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ie(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function w(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function g(a){let l={};for(let h in a)l[h]=a[h];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(a,l){let h,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function E(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Ku;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class Zt{constructor(){this.h=this.g=null}add(l,h){let p=to.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var to=new U(()=>new cb,a=>a.reset());class cb{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let no,ro=!1,Ku=new Zt,qm=()=>{let a=c.Promise.resolve(void 0);no=()=>{a.then(ub)}};var ub=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){C(h)}var l=to;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}ro=!1};function gn(){this.s=this.s,this.C=this.C}gn.prototype.s=!1,gn.prototype.ma=function(){this.s||(this.s=!0,this.N())},gn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $e(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}$e.prototype.h=function(){this.defaultPrevented=!0};var lb=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function io(a,l){if($e.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(Le){e:{try{ce(l.nodeName);var b=!0;break e}catch{}b=!1}b||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:db[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&io.aa.h.call(this)}}N(io,$e);var db={2:"touch",3:"pen",4:"mouse"};io.prototype.h=function(){io.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var oo="closure_listenable_"+(1e6*Math.random()|0),hb=0;function fb(a,l,h,p,b){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=b,this.key=++hb,this.da=this.fa=!1}function Cs(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ss(a){this.src=a,this.g={},this.h=0}Ss.prototype.add=function(a,l,h,p,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var k=Yu(a,l,p,b);return-1<k?(l=a[k],h||(l.fa=!1)):(l=new fb(l,this.src,S,!!p,b),l.fa=h,a.push(l)),l};function Qu(a,l){var h=l.type;if(h in a.g){var p=a.g[h],b=Array.prototype.indexOf.call(p,l,void 0),S;(S=0<=b)&&Array.prototype.splice.call(p,b,1),S&&(Cs(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Yu(a,l,h,p){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==l&&S.capture==!!h&&S.ha==p)return b}return-1}var Ju="closure_lm_"+(1e6*Math.random()|0),Zu={};function zm(a,l,h,p,b){if(p&&p.once)return Wm(a,l,h,p,b);if(Array.isArray(l)){for(var S=0;S<l.length;S++)zm(a,l[S],h,p,b);return null}return h=nl(h),a&&a[oo]?a.K(l,h,d(p)?!!p.capture:!!p,b):Gm(a,l,h,!1,p,b)}function Gm(a,l,h,p,b,S){if(!l)throw Error("Invalid event type");var k=d(b)?!!b.capture:!!b,pe=el(a);if(pe||(a[Ju]=pe=new Ss(a)),h=pe.add(l,h,p,k,S),h.proxy)return h;if(p=pb(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)lb||(b=k),b===void 0&&(b=!1),a.addEventListener(l.toString(),p,b);else if(a.attachEvent)a.attachEvent(Qm(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function pb(){function a(h){return l.call(a.src,a.listener,h)}let l=mb;return a}function Wm(a,l,h,p,b){if(Array.isArray(l)){for(var S=0;S<l.length;S++)Wm(a,l[S],h,p,b);return null}return h=nl(h),a&&a[oo]?a.L(l,h,d(p)?!!p.capture:!!p,b):Gm(a,l,h,!0,p,b)}function Km(a,l,h,p,b){if(Array.isArray(l))for(var S=0;S<l.length;S++)Km(a,l[S],h,p,b);else p=d(p)?!!p.capture:!!p,h=nl(h),a&&a[oo]?(a=a.i,l=String(l).toString(),l in a.g&&(S=a.g[l],h=Yu(S,h,p,b),-1<h&&(Cs(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[l],a.h--)))):a&&(a=el(a))&&(l=a.g[l.toString()],a=-1,l&&(a=Yu(l,h,p,b)),(h=-1<a?l[a]:null)&&Xu(h))}function Xu(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[oo])Qu(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(Qm(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=el(l))?(Qu(h,a),h.h==0&&(h.src=null,l[Ju]=null)):Cs(a)}}}function Qm(a){return a in Zu?Zu[a]:Zu[a]="on"+a}function mb(a,l){if(a.da)a=!0;else{l=new io(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&Xu(a),a=h.call(p,l)}return a}function el(a){return a=a[Ju],a instanceof Ss?a:null}var tl="__closure_events_fn_"+(1e9*Math.random()>>>0);function nl(a){return typeof a=="function"?a:(a[tl]||(a[tl]=function(l){return a.handleEvent(l)}),a[tl])}function He(){gn.call(this),this.i=new Ss(this),this.M=this,this.F=null}N(He,gn),He.prototype[oo]=!0,He.prototype.removeEventListener=function(a,l,h,p){Km(this,a,l,h,p)};function Je(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new $e(l,a);else if(l instanceof $e)l.target=l.target||a;else{var b=l;l=new $e(p,a),_(l,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var k=l.g=h[S];b=As(k,p,!0,l)&&b}if(k=l.g=a,b=As(k,p,!0,l)&&b,b=As(k,p,!1,l)&&b,h)for(S=0;S<h.length;S++)k=l.g=h[S],b=As(k,p,!1,l)&&b}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)Cs(h[p]);delete a.g[l],a.h--}}this.F=null},He.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},He.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function As(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var b=!0,S=0;S<l.length;++S){var k=l[S];if(k&&!k.da&&k.capture==h){var pe=k.listener,je=k.ha||k.src;k.fa&&Qu(a.i,k),b=pe.call(je,p)!==!1&&b}}return b&&!p.defaultPrevented}function Ym(a,l,h){if(typeof a=="function")h&&(a=I(a,h));else if(a&&typeof a.handleEvent=="function")a=I(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function Jm(a){a.g=Ym(()=>{a.g=null,a.i&&(a.i=!1,Jm(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class gb extends gn{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:Jm(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function so(a){gn.call(this),this.h=a,this.g={}}N(so,gn);var Zm=[];function Xm(a){ie(a.g,function(l,h){this.g.hasOwnProperty(h)&&Xu(l)},a),a.g={}}so.prototype.N=function(){so.aa.N.call(this),Xm(this)},so.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rl=c.JSON.stringify,yb=c.JSON.parse,vb=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function il(){}il.prototype.h=null;function eg(a){return a.h||(a.h=a.i())}function tg(){}var ao={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ol(){$e.call(this,"d")}N(ol,$e);function sl(){$e.call(this,"c")}N(sl,$e);var Xn={},ng=null;function Ns(){return ng=ng||new He}Xn.La="serverreachability";function rg(a){$e.call(this,Xn.La,a)}N(rg,$e);function co(a){let l=Ns();Je(l,new rg(l))}Xn.STAT_EVENT="statevent";function ig(a,l){$e.call(this,Xn.STAT_EVENT,a),this.stat=l}N(ig,$e);function Ze(a){let l=Ns();Je(l,new ig(l,a))}Xn.Ma="timingevent";function og(a,l){$e.call(this,Xn.Ma,a),this.size=l}N(og,$e);function uo(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function lo(){this.g=!0}lo.prototype.xa=function(){this.g=!1};function _b(a,l,h,p,b,S){a.info(function(){if(a.g)if(S)for(var k="",pe=S.split("&"),je=0;je<pe.length;je++){var oe=pe[je].split("=");if(1<oe.length){var qe=oe[0];oe=oe[1];var ze=qe.split("_");k=2<=ze.length&&ze[1]=="type"?k+(qe+"="+oe+"&"):k+(qe+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+l+`
`+h+`
`+k})}function Ib(a,l,h,p,b,S,k){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+l+`
`+h+`
`+S+" "+k})}function Gr(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+Eb(a,h)+(p?" "+p:"")})}function wb(a,l){a.info(function(){return"TIMEOUT: "+l})}lo.prototype.info=function(){};function Eb(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<b.length;k++)b[k]=""}}}}return rl(h)}catch{return l}}var xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},al;function Ms(){}N(Ms,il),Ms.prototype.g=function(){return new XMLHttpRequest},Ms.prototype.i=function(){return{}},al=new Ms;function yn(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new so(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ag}function ag(){this.i=null,this.g="",this.h=!1}var cg={},cl={};function ul(a,l,h){a.L=1,a.v=Os(Xt(l)),a.m=h,a.P=!0,ug(a,null)}function ug(a,l){a.F=Date.now(),Rs(a),a.A=Xt(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),Dg(h.i,"t",p),a.C=0,h=a.j.J,a.h=new ag,a.g=Ug(a.j,h?l:null,!a.m),0<a.O&&(a.M=new gb(I(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Zm[0]=b.toString()),b=Zm);for(var S=0;S<b.length;S++){var k=zm(h,b[S],p||l.handleEvent,!1,l.h||l);if(!k)break;l.g[k.key]=k}l=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),co(),_b(a.i,a.u,a.A,a.l,a.R,a.m)}yn.prototype.ca=function(a){a=a.target;let l=this.M;l&&en(a)==3?l.j():this.Y(a)},yn.prototype.Y=function(a){try{if(a==this.g)e:{let ze=en(this.g);var l=this.g.Ba();let Qr=this.g.Z();if(!(3>ze)&&(ze!=3||this.g&&(this.h.h||this.g.oa()||xg(this.g)))){this.J||ze!=4||l==7||(l==8||0>=Qr?co(3):co(2)),ll(this);var h=this.g.Z();this.X=h;t:if(lg(this)){var p=xg(this.g);a="";var b=p.length,S=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),ho(this);var k="";break t}this.h.i=new c.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(S&&l==b-1)});p.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,Ib(this.i,this.u,this.A,this.l,this.R,ze,h),this.o){if(this.T&&!this.K){t:{if(this.g){var pe,je=this.g;if((pe=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(pe)){var oe=pe;break t}}oe=null}if(h=oe)Gr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dl(this,h);else{this.o=!1,this.s=3,Ze(12),er(this),ho(this);break e}}if(this.P){h=!0;let St;for(;!this.J&&this.C<k.length;)if(St=Db(this,k),St==cl){ze==4&&(this.s=4,Ze(14),h=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(St==cg){this.s=4,Ze(15),Gr(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else Gr(this.i,this.l,St,null),dl(this,St);if(lg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||k.length!=0||this.h.h||(this.s=1,Ze(16),h=!1),this.o=this.o&&h,!h)Gr(this.i,this.l,k,"[Invalid Chunked Response]"),er(this),ho(this);else if(0<k.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),yl(qe),qe.M=!0,Ze(11))}}else Gr(this.i,this.l,k,null),dl(this,k);ze==4&&er(this),this.o&&!this.J&&(ze==4?Vg(this.j,this):(this.o=!1,Rs(this)))}else Bb(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),er(this),ho(this)}}}catch{}finally{}};function lg(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Db(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?cl:(h=Number(l.substring(h,p)),isNaN(h)?cg:(p+=1,p+h>l.length?cl:(l=l.slice(p,p+h),a.C=p+h,l)))}yn.prototype.cancel=function(){this.J=!0,er(this)};function Rs(a){a.S=Date.now()+a.I,dg(a,a.I)}function dg(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=uo(I(a.ba,a),l)}function ll(a){a.B&&(c.clearTimeout(a.B),a.B=null)}yn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(wb(this.i,this.A),this.L!=2&&(co(),Ze(17)),er(this),this.s=2,ho(this)):dg(this,this.S-a)};function ho(a){a.j.G==0||a.J||Vg(a.j,a)}function er(a){ll(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,Xm(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function dl(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||hl(h.h,a))){if(!a.K&&hl(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Bs(h),Ls(h);else break e;gl(h),Ze(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=uo(I(h.Za,h),6e3));if(1>=pg(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else nr(h,11)}else if((a.K||h.g==a)&&Bs(h),!G(l))for(b=h.Da.g.parse(l),l=0;l<b.length;l++){let oe=b[l];if(h.T=oe[0],oe=oe[1],h.G==2)if(oe[0]=="c"){h.K=oe[1],h.ia=oe[2];let qe=oe[3];qe!=null&&(h.la=qe,h.j.info("VER="+h.la));let ze=oe[4];ze!=null&&(h.Aa=ze,h.j.info("SVER="+h.Aa));let Qr=oe[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(p=1.5*Qr,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let St=a.g;if(St){let $s=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var S=p.h;S.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(fl(S,S.h),S.h=null))}if(p.D){let vl=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(p.ya=vl,_e(p.I,p.D,vl))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var k=a;if(p.qa=Bg(p,p.J?p.ia:null,p.W),k.K){mg(p.h,k);var pe=k,je=p.L;je&&(pe.I=je),pe.B&&(ll(pe),Rs(pe)),p.g=k}else Og(p);0<h.i.length&&js(h)}else oe[0]!="stop"&&oe[0]!="close"||nr(h,7);else h.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?nr(h,7):ml(h):oe[0]!="noop"&&h.l&&h.l.ta(oe),h.v=0)}}co(4)}catch{}}var bb=class{constructor(a,l){this.g=a,this.map=l}};function hg(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function pg(a){return a.h?1:a.g?a.g.size:0}function hl(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function fl(a,l){a.g?a.g.add(l):a.h=l}function mg(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}hg.prototype.cancel=function(){if(this.i=gg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function gg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return F(a.i)}function Tb(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function Cb(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function yg(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=Cb(a),p=Tb(a),b=p.length,S=0;S<b;S++)l.call(void 0,p[S],h&&h[S],a)}var vg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sb(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),b=null;if(0<=p){var S=a[h].substring(0,p);b=a[h].substring(p+1)}else S=a[h];l(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function tr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof tr){this.h=a.h,Ps(this,a.j),this.o=a.o,this.g=a.g,ks(this,a.s),this.l=a.l;var l=a.i,h=new mo;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),_g(this,h),this.m=a.m}else a&&(l=String(a).match(vg))?(this.h=!1,Ps(this,l[1]||"",!0),this.o=fo(l[2]||""),this.g=fo(l[3]||"",!0),ks(this,l[4]),this.l=fo(l[5]||"",!0),_g(this,l[6]||"",!0),this.m=fo(l[7]||"")):(this.h=!1,this.i=new mo(null,this.h))}tr.prototype.toString=function(){var a=[],l=this.j;l&&a.push(po(l,Ig,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(po(l,Ig,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(po(h,h.charAt(0)=="/"?xb:Nb,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",po(h,Rb)),a.join("")};function Xt(a){return new tr(a)}function Ps(a,l,h){a.j=h?fo(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function ks(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function _g(a,l,h){l instanceof mo?(a.i=l,Pb(a.i,a.h)):(h||(l=po(l,Mb)),a.i=new mo(l,a.h))}function _e(a,l,h){a.i.set(l,h)}function Os(a){return _e(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function fo(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function po(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,Ab),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Ab(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ig=/[#\/\?@]/g,Nb=/[#\?:]/g,xb=/[#\?]/g,Mb=/[#\?@]/g,Rb=/#/g;function mo(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function vn(a){a.g||(a.g=new Map,a.h=0,a.i&&Sb(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=mo.prototype,t.add=function(a,l){vn(this),this.i=null,a=Wr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function wg(a,l){vn(a),l=Wr(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function Eg(a,l){return vn(a),l=Wr(a,l),a.g.has(l)}t.forEach=function(a,l){vn(this),this.g.forEach(function(h,p){h.forEach(function(b){a.call(l,b,p,this)},this)},this)},t.na=function(){vn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let b=a[p];for(let S=0;S<b.length;S++)h.push(l[p])}return h},t.V=function(a){vn(this);let l=[];if(typeof a=="string")Eg(this,a)&&(l=l.concat(this.g.get(Wr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return vn(this),this.i=null,a=Wr(this,a),Eg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function Dg(a,l,h){wg(a,l),0<h.length&&(a.i=null,a.g.set(Wr(a,l),F(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let S=encodeURIComponent(String(p)),k=this.V(p);for(p=0;p<k.length;p++){var b=S;k[p]!==""&&(b+="="+encodeURIComponent(String(k[p]))),a.push(b)}}return this.i=a.join("&")};function Wr(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function Pb(a,l){l&&!a.j&&(vn(a),a.i=null,a.g.forEach(function(h,p){var b=p.toLowerCase();p!=b&&(wg(this,p),Dg(this,b,h))},a)),a.j=l}function kb(a,l){let h=new lo;if(c.Image){let p=new Image;p.onload=D(_n,h,"TestLoadImage: loaded",!0,l,p),p.onerror=D(_n,h,"TestLoadImage: error",!1,l,p),p.onabort=D(_n,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=D(_n,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function Ob(a,l){let h=new lo,p=new AbortController,b=setTimeout(()=>{p.abort(),_n(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(b),S.ok?_n(h,"TestPingServer: ok",!0,l):_n(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(b),_n(h,"TestPingServer: error",!1,l)})}function _n(a,l,h,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(h)}catch{}}function Fb(){this.g=new vb}function Vb(a,l,h){let p=h||"";try{yg(a,function(b,S){let k=b;d(b)&&(k=rl(b)),l.push(p+S+"="+encodeURIComponent(k))})}catch(b){throw l.push(p+"type="+encodeURIComponent("_badmap")),b}}function go(a){this.l=a.Ub||null,this.j=a.eb||!1}N(go,il),go.prototype.g=function(){return new Fs(this.l,this.j)},go.prototype.i=function(a){return function(){return a}}({});function Fs(a,l){He.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Fs,He),t=Fs.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,vo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function bg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?yo(this):vo(this),this.readyState==3&&bg(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,yo(this))},t.Qa=function(a){this.g&&(this.response=a,yo(this))},t.ga=function(){this.g&&yo(this)};function yo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,vo(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function vo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Tg(a){let l="";return ie(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function pl(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=Tg(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):_e(a,l,h))}function De(a){He.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(De,He);var Lb=/^https?$/i,jb=["POST","PUT"];t=De.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():al.g(),this.v=this.o?eg(this.o):eg(al),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(S){Cg(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)h.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(jb,l,void 0))||p||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of h)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ng(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){Cg(this,S)}};function Cg(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,Sg(a),Vs(a)}function Sg(a){a.A||(a.A=!0,Je(a,"complete"),Je(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Je(this,"complete"),Je(this,"abort"),Vs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ag(this):this.bb())},t.bb=function(){Ag(this)};function Ag(a){if(a.h&&typeof s<"u"&&(!a.v[1]||en(a)!=4||a.Z()!=2)){if(a.u&&en(a)==4)Ym(a.Ea,0,a);else if(Je(a,"readystatechange"),en(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=k===0){var b=String(a.D).match(vg)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!Lb.test(b?b.toLowerCase():"")}h=p}if(h)Je(a,"complete"),Je(a,"success");else{a.m=6;try{var S=2<en(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",Sg(a)}}finally{Vs(a)}}}}function Vs(a,l){if(a.g){Ng(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||Je(a,"ready");try{h.onreadystatechange=p}catch{}}}function Ng(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function en(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),yb(l)}};function xg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Bb(a){let l={};a=(a.g&&2<=en(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(G(a[p]))continue;var h=E(a[p]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=l[b]||[];l[b]=S,S.push(h)}w(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _o(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function Mg(a){this.Aa=0,this.i=[],this.j=new lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_o("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_o("baseRetryDelayMs",5e3,a),this.cb=_o("retryDelaySeedMs",1e4,a),this.Wa=_o("forwardChannelMaxRetries",2,a),this.wa=_o("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new hg(a&&a.concurrentRequestLimit),this.Da=new Fb,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mg.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,p){Ze(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=Bg(this,null,this.W),js(this)};function ml(a){if(Rg(a),a.G==3){var l=a.U++,h=Xt(a.I);if(_e(h,"SID",a.K),_e(h,"RID",l),_e(h,"TYPE","terminate"),Io(a,h),l=new yn(a,a.j,l),l.L=2,l.v=Os(Xt(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=Ug(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Rs(l)}jg(a)}function Ls(a){a.g&&(yl(a),a.g.cancel(),a.g=null)}function Rg(a){Ls(a),a.u&&(c.clearTimeout(a.u),a.u=null),Bs(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function js(a){if(!fg(a.h)&&!a.s){a.s=!0;var l=a.Ga;no||qm(),ro||(no(),ro=!0),Ku.add(l,a),a.B=0}}function Ub(a,l){return pg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=uo(I(a.Ga,a,l),Lg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new yn(this,this.j,a),S=this.o;if(this.S&&(S?(S=g(S),_(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=kg(this,b,l),h=Xt(this.I),_e(h,"RID",a),_e(h,"CVER",22),this.D&&_e(h,"X-HTTP-Session-Id",this.D),Io(this,h),S&&(this.O?l="headers="+encodeURIComponent(String(Tg(S)))+"&"+l:this.m&&pl(h,this.m,S)),fl(this.h,b),this.Ua&&_e(h,"TYPE","init"),this.P?(_e(h,"$req",l),_e(h,"SID","null"),b.T=!0,ul(b,h,null)):ul(b,h,l),this.G=2}}else this.G==3&&(a?Pg(this,a):this.i.length==0||fg(this.h)||Pg(this))};function Pg(a,l){var h;l?h=l.l:h=a.U++;let p=Xt(a.I);_e(p,"SID",a.K),_e(p,"RID",h),_e(p,"AID",a.T),Io(a,p),a.m&&a.o&&pl(p,a.m,a.o),h=new yn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=kg(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),fl(a.h,h),ul(h,p,l)}function Io(a,l){a.H&&ie(a.H,function(h,p){_e(l,p,h)}),a.l&&yg({},function(h,p){_e(l,p,h)})}function kg(a,l,h){h=Math.min(a.i.length,h);var p=a.l?I(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let k=["count="+h];S==-1?0<h?(S=b[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let pe=!0;for(let je=0;je<h;je++){let oe=b[je].g,qe=b[je].map;if(oe-=S,0>oe)S=Math.max(0,b[je].g-100),pe=!1;else try{Vb(qe,k,"req"+oe+"_")}catch{p&&p(qe)}}if(pe){p=k.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function Og(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;no||qm(),ro||(no(),ro=!0),Ku.add(l,a),a.v=0}}function gl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=uo(I(a.Fa,a),Lg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Fg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=uo(I(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),Ls(this),Fg(this))};function yl(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Fg(a){a.g=new yn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=Xt(a.qa);_e(l,"RID","rpc"),_e(l,"SID",a.K),_e(l,"AID",a.T),_e(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&_e(l,"TO",a.ja),_e(l,"TYPE","xmlhttp"),Io(a,l),a.m&&a.o&&pl(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Os(Xt(l)),h.m=null,h.P=!0,ug(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Ls(this),gl(this),Ze(19))};function Bs(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Vg(a,l){var h=null;if(a.g==l){Bs(a),yl(a),a.g=null;var p=2}else if(hl(a.h,l))h=l.D,mg(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var b=a.B;p=Ns(),Je(p,new og(p,h)),js(a)}else Og(a);else if(b=l.s,b==3||b==0&&0<l.X||!(p==1&&Ub(a,l)||p==2&&gl(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),b){case 1:nr(a,5);break;case 4:nr(a,10);break;case 3:nr(a,6);break;default:nr(a,2)}}}function Lg(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function nr(a,l){if(a.j.info("Error code "+l),l==2){var h=I(a.fb,a),p=a.Xa;let b=!p;p=new tr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ps(p,"https"),Os(p),b?kb(p.toString(),h):Ob(p.toString(),h)}else Ze(2);a.G=0,a.l&&a.l.sa(l),jg(a),Rg(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function jg(a){if(a.G=0,a.ka=[],a.l){let l=gg(a.h);(l.length!=0||a.i.length!=0)&&(O(a.ka,l),O(a.ka,a.i),a.h.i.length=0,F(a.i),a.i.length=0),a.l.ra()}}function Bg(a,l,h){var p=h instanceof tr?Xt(h):new tr(h);if(p.g!="")l&&(p.g=l+"."+p.g),ks(p,p.s);else{var b=c.location;p=b.protocol,l=l?l+"."+b.hostname:b.hostname,b=+b.port;var S=new tr(null);p&&Ps(S,p),l&&(S.g=l),b&&ks(S,b),h&&(S.l=h),p=S}return h=a.D,l=a.ya,h&&l&&_e(p,h,l),_e(p,"VER",a.la),Io(a,p),p}function Ug(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new De(new go({eb:h})):new De(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $g(){}t=$g.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Us(){}Us.prototype.g=function(a,l){return new dt(a,l)};function dt(a,l){He.call(this),this.g=new Mg(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!G(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!G(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new Kr(this)}N(dt,He),dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dt.prototype.close=function(){ml(this.g)},dt.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=rl(a),a=h);l.i.push(new bb(l.Ya++,a)),l.G==3&&js(l)},dt.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,dt.aa.N.call(this)};function Hg(a){ol.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}N(Hg,ol);function qg(){sl.call(this),this.status=1}N(qg,sl);function Kr(a){this.g=a}N(Kr,$g),Kr.prototype.ua=function(){Je(this.g,"a")},Kr.prototype.ta=function(a){Je(this.g,new Hg(a))},Kr.prototype.sa=function(a){Je(this.g,new qg)},Kr.prototype.ra=function(){Je(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,dt.prototype.send=dt.prototype.o,dt.prototype.open=dt.prototype.m,dt.prototype.close=dt.prototype.close,Vf=dn.createWebChannelTransport=function(){return new Us},Ff=dn.getStatEventTarget=function(){return Ns()},Of=dn.Event=Xn,Hc=dn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,ss=dn.ErrorCode=xs,sg.COMPLETE="complete",kf=dn.EventType=sg,tg.EventType=ao,ao.OPEN="a",ao.CLOSE="b",ao.ERROR="c",ao.MESSAGE="d",He.prototype.listen=He.prototype.K,xi=dn.WebChannel=tg,XP=dn.FetchXmlHttpFactory=go,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,Pf=dn.XhrIo=De}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});var Xw="@firebase/firestore";var Fe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");var Ki="10.14.0";var kr=new Ht("@firebase/firestore");function as(){return kr.logLevel}function V(t,...e){if(kr.logLevel<=J.DEBUG){let n=e.map(rm);kr.debug(`Firestore (${Ki}): ${t}`,...n)}}function Or(t,...e){if(kr.logLevel<=J.ERROR){let n=e.map(rm);kr.error(`Firestore (${Ki}): ${t}`,...n)}}function Qc(t,...e){if(kr.logLevel<=J.WARN){let n=e.map(rm);kr.warn(`Firestore (${Ki}): ${t}`,...n)}}function rm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Z(t="Unexpected state"){let e=`FIRESTORE (${Ki}) INTERNAL ASSERTION FAILED: `+t;throw Or(e),new Error(e)}function Ce(t,e){t||Z()}function ve(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends We{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var hn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Yc=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Uf=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}},$f=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Hf=class{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new hn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>T(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Yc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Fe(e)}},qf=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},zf=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new qf(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Gf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Wf=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ce(this.o===void 0);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new Gf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ek(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=ek(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function ki(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ye=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ye(0,0))}static max(){return new t(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zc=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends Zc{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},tk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_t=class t extends Zc{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return tk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var K=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var Kf=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Kf.UNKNOWN_ID=-1;function nk(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Fr(i,K.empty(),e)}function rk(t){return new Fr(t.readTime,t.key,-1)}var Fr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Te.min(),K.empty(),-1)}static max(){return new t(Te.max(),K.empty(),-1)}};function ik(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}var ok="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qf=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function EE(t){return T(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==ok)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let d=u;n(e[d]).next(f=>{s[d]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function sk(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yu(t){return t.name==="IndexedDbTransactionError"}var ak=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function im(t){return t==null}function fs(t){return t===0&&1/t==-1/0}function ck(t){return typeof t=="number"&&Number.isInteger(t)&&!fs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var uk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],N$=[...uk,"documentOverlays"],lk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dk=lk,hk=[...dk,"indexConfiguration","indexState","indexEntries"];var x$=[...hk,"globals"];function eE(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ys(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DE(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var It=class t{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ri(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ri(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ri(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ri(this.root,e,this.comparator,!0)}},Ri=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Qt=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rt=class t{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xc(this.data.getIterator())}getIteratorFrom(e){return new Xc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Xc=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Kt=class t{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new t([])}unionWith(e){let n=new rt(_t.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ki(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Yf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var pn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yf("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};pn.EMPTY_BYTE_STRING=new pn("");var fk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(t){if(Ce(!!t),typeof t=="string"){let e=0,n=fk.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}function om(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bE(t){let e=t.mapValue.fields.__previous_value__;return om(e)?bE(e):e}function eu(t){let e=Wn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}var Jf=class{constructor(e,n,r,i,o,s,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}},Zf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var qc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?om(t)?4:CE(t)?9007199254740991:TE(t)?10:11:Z()}function Yt(t,e){if(t===e)return!0;let n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Wn(i.timestampValue),c=Wn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Oi(i.bytesValue).isEqual(Oi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Re(i.doubleValue),c=Re(o.doubleValue);return s===c?fs(s)===fs(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return ki(t.arrayValue.values||[],e.arrayValue.values||[],Yt);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(eE(s)!==eE(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Yt(s[u],c[u])))return!1;return!0}(t,e);default:return Z()}}function ps(t,e){return(t.values||[]).find(n=>Yt(n,e))!==void 0}function Vi(t,e){if(t===e)return 0;let n=Fi(t),r=Fi(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Re(o.integerValue||o.doubleValue),u=Re(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return tE(t.timestampValue,e.timestampValue);case 4:return tE(eu(t),eu(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Oi(o),u=Oi(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=me(c[d],u[d]);if(f!==0)return f}return me(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=me(Re(o.latitude),Re(s.latitude));return c!==0?c:me(Re(o.longitude),Re(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nE(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,d,f;let m=o.fields||{},I=s.fields||{},D=(c=m.value)===null||c===void 0?void 0:c.arrayValue,N=(u=I.value)===null||u===void 0?void 0:u.arrayValue,F=me(((d=D?.values)===null||d===void 0?void 0:d.length)||0,((f=N?.values)===null||f===void 0?void 0:f.length)||0);return F!==0?F:nE(D,N)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===qc.mapValue&&s===qc.mapValue)return 0;if(o===qc.mapValue)return 1;if(s===qc.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),d=s.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){let I=me(u[m],f[m]);if(I!==0)return I;let D=Vi(c[u[m]],d[f[m]]);if(D!==0)return D}return me(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Z()}}function tE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=Wn(t),r=Wn(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function nE(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Vi(n[i],r[i]);if(o)return o}return me(n.length,r.length)}function Li(t){return Xf(t)}function Xf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Wn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Xf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Xf(n.fields[s])}`;return i+"}"}(t.mapValue):Z()}function ep(t){return!!t&&"integerValue"in t}function sm(t){return!!t&&"arrayValue"in t}function Wc(t){return!!t&&"mapValue"in t}function TE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function us(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=us(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=us(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Wt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=us(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=us(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ys(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(us(this.value))}};function SE(t){let e=[];return ys(t.fields,(n,r)=>{let i=new _t([n]);if(Wc(r)){let o=SE(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Kt(e)}var ji=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Te.min(),Te.min(),Te.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Te.min(),Te.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Te.min(),Te.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Bi=class{constructor(e,n){this.position=e,this.inclusive=n}};function rE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),n.key):r=Vi(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yt(t.position[n],e.position[n]))return!1;return!0}var Ui=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function pk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var tu=class{},Ve=class t extends tu{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new np(e,n,r):n==="array-contains"?new op(e,r):n==="in"?new sp(e,r):n==="not-in"?new ap(e,r):n==="array-contains-any"?new cp(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rp(e,r):new ip(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vi(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(Vi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Kn=class t extends tu{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return AE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function AE(t){return t.op==="and"}function NE(t){return mk(t)&&AE(t)}function mk(t){for(let e of t.filters)if(e instanceof Kn)return!1;return!0}function tp(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+Li(t.value);if(NE(t))return t.filters.map(e=>tp(e)).join(",");{let e=t.filters.map(n=>tp(n)).join(",");return`${t.op}(${e})`}}function xE(t,e){return t instanceof Ve?function(r,i){return i instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&Yt(r.value,i.value)}(t,e):t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&xE(s,i.filters[c]),!0):!1}(t,e):void Z()}function ME(t){return t instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${Li(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(ME).join(" ,")+"}"}(t):"Filter"}var np=class extends Ve{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){let n=K.comparator(e.key,this.key);return this.matchesComparison(n)}},rp=class extends Ve{constructor(e,n){super(e,"in",n),this.keys=RE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ip=class extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=RE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function RE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}var op=class extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return sm(n)&&ps(n.arrayValue,this.value)}},sp=class extends Ve{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ps(this.value.arrayValue,n)}},ap=class extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(ps(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ps(this.value.arrayValue,n)}},cp=class extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!sm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ps(this.value.arrayValue,r))}};var up=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function oE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new up(t,e,n,r,i,o,s)}function am(t){let e=ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),im(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Li(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Li(r)).join(",")),e.ue=n}return e.ue}function cm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iE(t.startAt,e.startAt)&&iE(t.endAt,e.endAt)}var $i=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function gk(t,e,n,r,i,o,s,c){return new $i(t,e,n,r,i,o,s,c)}function yk(t){return new $i(t)}function sE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vk(t){return t.collectionGroup!==null}function ls(t){let e=ve(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new rt(_t.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ui(o,r))}),n.has(_t.keyField().canonicalString())||e.ce.push(new Ui(_t.keyField(),r))}return e.ce}function Rr(t){let e=ve(t);return e.le||(e.le=_k(e,ls(t))),e.le}function _k(t,e){if(t.limitType==="F")return oE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ui(i.field,o)});let n=t.endAt?new Bi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bi(t.startAt.position,t.startAt.inclusive):null;return oE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lp(t,e,n){return new $i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function PE(t,e){return cm(Rr(t),Rr(e))&&t.limitType===e.limitType}function kE(t){return`${am(Rr(t))}|lt:${t.limitType}`}function cs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ME(i)).join(", ")}]`),im(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Li(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Li(i)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function um(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ls(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let d=rE(s,c,u);return s.inclusive?d<=0:d<0}(r.startAt,ls(r),i)||r.endAt&&!function(s,c,u){let d=rE(s,c,u);return s.inclusive?d>=0:d>0}(r.endAt,ls(r),i))}(t,e)}function Ik(t){return(e,n)=>{let r=!1;for(let i of ls(t)){let o=wk(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wk(t,e,n){let r=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),d=c.data.field(o);return u!==null&&d!==null?Vi(u,d):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var Qn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return DE(this.inner)}size(){return this.innerSize}};var Ek=new It(K.comparator);function nu(){return Ek}var OE=new It(K.comparator);function zc(...t){let e=OE;for(let n of t)e=e.insert(n.key,n);return e}function FE(t){let e=OE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mr(){return ds()}function VE(){return ds()}function ds(){return new Qn(t=>t.toString(),(t,e)=>t.isEqual(e))}var Dk=new It(K.comparator),bk=new rt(K.comparator);function Qe(...t){let e=bk;for(let n of t)e=e.add(n);return e}var Tk=new rt(me);function Ck(){return Tk}function lm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fs(e)?"-0":e}}function LE(t){return{integerValue:""+t}}function Sk(t,e){return ck(e)?LE(e):lm(t,e)}var Hi=class{constructor(){this._=void 0}};function Ak(t,e,n){return t instanceof qi?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&om(o)&&(o=bE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Vr?BE(t,e):t instanceof Lr?UE(t,e):function(i,o){let s=jE(i,o),c=aE(s)+aE(i.Pe);return ep(s)&&ep(i.Pe)?LE(c):lm(i.serializer,c)}(t,e)}function Nk(t,e,n){return t instanceof Vr?BE(t,e):t instanceof Lr?UE(t,e):n}function jE(t,e){return t instanceof zi?function(r){return ep(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var qi=class extends Hi{},Vr=class extends Hi{constructor(e){super(),this.elements=e}};function BE(t,e){let n=$E(e);for(let r of t.elements)n.some(i=>Yt(i,r))||n.push(r);return{arrayValue:{values:n}}}var Lr=class extends Hi{constructor(e){super(),this.elements=e}};function UE(t,e){let n=$E(e);for(let r of t.elements)n=n.filter(i=>!Yt(i,r));return{arrayValue:{values:n}}}var zi=class extends Hi{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function aE(t){return Re(t.integerValue||t.doubleValue)}function $E(t){return sm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vr&&i instanceof Vr||r instanceof Lr&&i instanceof Lr?ki(r.elements,i.elements,Yt):r instanceof zi&&i instanceof zi?Yt(r.Pe,i.Pe):r instanceof qi&&i instanceof qi}(t.transform,e.transform)}var dp=class{constructor(e,n){this.version=e,this.transformResults=n}},Pr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Kc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Gi=class{};function HE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ru(t.key,Pr.none()):new jr(t.key,t.data,Pr.none());{let n=t.data,r=Wt.empty(),i=new rt(_t.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new mn(t.key,r,new Kt(i.toArray()),Pr.none())}}function Mk(t,e,n){t instanceof jr?function(i,o,s){let c=i.value.clone(),u=uE(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof mn?function(i,o,s){if(!Kc(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=uE(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(qE(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function hs(t,e,n,r){return t instanceof jr?function(o,s,c,u){if(!Kc(o.precondition,s))return c;let d=o.value.clone(),f=lE(o.fieldTransforms,u,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof mn?function(o,s,c,u){if(!Kc(o.precondition,s))return c;let d=lE(o.fieldTransforms,u,s),f=s.data;return f.setAll(qE(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,s,c){return Kc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function Rk(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=jE(r.transform,i||null);o!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,o))}return n||null}function cE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ki(r,i,(o,s)=>xk(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var jr=class extends Gi{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},mn=class extends Gi{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function qE(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function uE(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,Nk(s,c,n[i]))}return r}function lE(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Ak(o,s,e))}return r}var ru=class extends Gi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},hp=class extends Gi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var fp=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Mk(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=hs(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=hs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=VE();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=HE(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&ki(this.mutations,e.mutations,(n,r)=>cE(n,r))&&ki(this.baseMutations,e.baseMutations,(n,r)=>cE(n,r))}},pp=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return Dk}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var mp=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xe,ne;function Pk(t){switch(t){default:return Z();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function kk(t){if(t===void 0)return Or("GRPC error has no .code"),M.UNKNOWN;switch(t){case xe.OK:return M.OK;case xe.CANCELLED:return M.CANCELLED;case xe.UNKNOWN:return M.UNKNOWN;case xe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case xe.INTERNAL:return M.INTERNAL;case xe.UNAVAILABLE:return M.UNAVAILABLE;case xe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case xe.NOT_FOUND:return M.NOT_FOUND;case xe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case xe.ABORTED:return M.ABORTED;case xe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case xe.DATA_LOSS:return M.DATA_LOSS;default:return Z()}}(ne=xe||(xe={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";var R$=new Rf([4294967295,4294967295],0);var gp=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function yp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ok(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Fk(t,e){return yp(t,e.toTimestamp())}function Pi(t){return Ce(!!t),Te.fromTimestamp(function(n){let r=Wn(n);return new Ye(r.seconds,r.nanos)}(t))}function zE(t,e){return vp(t,e).canonicalString()}function vp(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Vk(t){let e=Pe.fromString(t);return Ce(zk(e)),e}function _p(t,e){return zE(t.databaseId,e.path)}function Lk(t){let e=Vk(t);return e.length===4?Pe.emptyPath():Bk(e)}function jk(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bk(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dE(t,e,n){return{name:_p(t,e),fields:n.value.mapValue.fields}}function Uk(t,e){let n;if(e instanceof jr)n={update:dE(t,e.key,e.value)};else if(e instanceof ru)n={delete:_p(t,e.key)};else if(e instanceof mn)n={update:dE(t,e.key,e.data),updateMask:qk(e.fieldMask)};else{if(!(e instanceof hp))return Z();n={verify:_p(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof qi)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Vr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Lr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zi)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Fk(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(t,e.precondition)),n}function $k(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Pi(i.updateTime):Pi(o);return s.isEqual(Te.min())&&(s=Pi(o)),new dp(s,i.transformResults||[])}(n,e))):[]}function Hk(t){let e=Lk(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(m){let I=GE(m);return I instanceof Kn&&NE(I)?I.getFilters():[I]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(I=>function(N){return new Ui(Mi(N.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(I))}(n.orderBy));let c=null;n.limit&&(c=function(m){let I;return I=typeof m=="object"?m.value:m,im(I)?null:I}(n.limit));let u=null;n.startAt&&(u=function(m){let I=!!m.before,D=m.values||[];return new Bi(D,I)}(n.startAt));let d=null;return n.endAt&&(d=function(m){let I=!m.before,D=m.values||[];return new Bi(D,I)}(n.endAt)),gk(e,i,s,o,c,"F",u,d)}function GE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Mi(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Mi(n.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Mi(n.unaryFilter.field);return Ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Mi(n.unaryFilter.field);return Ve.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Ve.create(Mi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>GE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function Mi(t){return _t.fromServerFormat(t.fieldPath)}function qk(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ip=class{constructor(e){this.ct=e}};function Gk(t){let e=Hk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lp(e,e.limit,"L"):e}var iu=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),fs(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Wn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Oi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?CE(e)?this.dt(n,Number.MAX_SAFE_INTEGER):TE(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Re(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),K.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};iu.vt=new iu;var wp=class{constructor(){this.un=new Ep}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Fr.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Ep=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rt(Pe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(Pe.comparator)).toArray()}};var P$=new Uint8Array(0);var Gt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);var ms=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Dp=class{constructor(){this.changes=new Qn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ji.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var bp=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Tp=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hs(r.mutation,i,Kt.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){let i=Mr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=zc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Mr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=nu(),s=ds(),c=function(){return ds()}();return n.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof mn)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),hs(f.mutation,d,f.mutation.getFieldMask(),Ye.now())):s.set(d.key,Kt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,f)=>s.set(d,f)),n.forEach((d,f)=>{var m;return c.set(d,new bp(f,(m=s.get(d))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,n){let r=ds(),i=new It((s,c)=>s-c),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let f=r.get(u)||Kt.empty();f=c.applyToLocalView(d,f),r.set(u,f);let m=(i.get(c.batchId)||Qe()).add(u);i=i.insert(c.batchId,m)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,m=VE();f.forEach(I=>{if(!o.has(I)){let D=HE(n.get(I),r.get(I));D!==null&&m.set(I,D),o=o.add(I)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Mr()),c=-1,u=o;return s.next(d=>P.forEach(d,(f,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),o.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(I=>{u=u.insert(f,I)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,Qe())).next(f=>({batchId:c,changes:FE(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=zc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=zc();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let d=function(m,I){return new $i(I,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((m,I)=>{s=s.insert(m,I)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,ji.newInvalidDocument(f)))});let c=zc();return s.forEach((u,d)=>{let f=o.get(u);f!==void 0&&hs(f.mutation,d,Kt.empty(),Ye.now()),um(n,d)&&(c=c.insert(u,d))}),c})}};var Cp=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pi(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Gk(i.bundledQuery),readTime:Pi(i.readTime)}}(n)),P.resolve()}};var Sp=class{constructor(){this.overlays=new It(K.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Mr();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Mr(),o=n.length+1,s=new K(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new It((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=o.get(d.largestBatchId);f===null&&(f=Mr(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=Mr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return P.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new mp(n,r));let o=this.Ir.get(n);o===void 0&&(o=Qe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Ap=class{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var gs=class{constructor(){this.Tr=new rt(Me.Er),this.dr=new rt(Me.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Me(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Me(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new K(new Pe([])),r=new Me(n,e),i=new Me(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new K(new Pe([])),r=new Me(n,e),i=new Me(n,e+1),o=Qe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Me(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Me=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||K.comparator(e.key,n.key)}};var Np=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rt(Me.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new fp(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Me(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Me(n,0),i=new Me(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(me);return n.forEach(i=>{let o=new Me(i,0),s=new Me(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new Me(new K(o),0),c=new rt(me);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)},s),P.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let o=new Me(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Me(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var xp=class{constructor(e){this.Mr=e,this.docs=function(){return new It(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():ji.newInvalidDocument(n))}getEntries(e,n){let r=nu();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ji.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=nu(),s=n.path,c=new K(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||ik(rk(f),r)<=0||(i.has(f.key)||um(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mp(this)}getSize(e){return P.resolve(this.size)}},Mp=class extends Dp{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Rp=class{constructor(e){this.persistence=e,this.Nr=new Qn(n=>am(n),cm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gs,this.targetCount=0,this.kr=ms.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ms(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var Pp=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ak(0),this.Kr=!1,this.Kr=!0,this.$r=new Ap,this.referenceDelegate=e(this),this.Ur=new Rp(this),this.indexManager=new wp,this.remoteDocumentCache=function(i){return new xp(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ip(n),this.Gr=new Cp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sp,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Np(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new kp(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},kp=class extends Qf{constructor(e){super(),this.currentSequenceNumber=e}},Op=class t{constructor(e){this.persistence=e,this.Jr=new gs,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=K.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Fp=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Qe(),i=Qe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Vp=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Lp=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return pw()?8:sk(vt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Vp;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(as()<=J.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(as()<=J.DEBUG&&V("QueryEngine","Query:",cs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(as()<=J.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):P.resolve())}Yi(e,n){if(sE(n))return P.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lp(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Qe(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,c);return this.ns(n,d,s,u.readTime)?this.Yi(e,lp(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return sE(n)||i.isEqual(Te.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?P.resolve(null):(as()<=J.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cs(n)),this.rs(e,s,n,nk(i,-1)).next(c=>c))})}ts(e,n){let r=new rt(Ik(e));return n.forEach((i,o)=>{um(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return as()<=J.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",cs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Fr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var jp=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new It(me),this._s=new Qn(o=>am(o),cm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tp(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function Wk(t,e,n,r){return new jp(t,e,n,r)}function WE(t,e){return T(this,null,function*(){let n=ve(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=Qe();for(let d of i){s.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of o){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:c}))})})})}function Kk(t,e){let n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){let m=d.batch,I=m.keys(),D=P.resolve();return I.forEach(N=>{D=D.next(()=>f.getEntry(u,N)).next(F=>{let O=d.docVersions.get(N);Ce(O!==null),F.version.compareTo(O)<0&&(m.applyToRemoteDocument(F,d),F.isValidDocument()&&(F.setReadTime(d.commitVersion),f.addEntry(F)))})}),D.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=Qe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Qk(t){let e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Yk(t,e){let n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var ou=class{constructor(){this.activeTargetIds=Ck()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Bp=class{constructor(){this.so=new ou,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ou,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Up=class{_o(e){}shutdown(){}};var su=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Gc=null;function Lf(){return Gc===null?Gc=function(){return 268435456+Math.round(2147483648*Math.random())}():Gc++,"0x"+Gc.toString(16)}var Jk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var $p=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ke="WebChannelConnection",Hp=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=Lf(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(n,u,d,i).then(f=>(V("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Qc("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ki}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=Jk[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Lf();return new Promise((s,c)=>{let u=new Pf;u.setWithCredentials(!0),u.listenOnce(kf.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ss.NO_ERROR:let f=u.getResponseJson();V(Ke,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case ss.TIMEOUT:V(Ke,`RPC '${e}' ${o} timed out`),c(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case ss.HTTP_ERROR:let m=u.getStatus();if(V(Ke,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let I=u.getResponseJson();Array.isArray(I)&&(I=I[0]);let D=I?.error;if(D&&D.status&&D.message){let N=function(O){let U=O.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(U)>=0?U:M.UNKNOWN}(D.status);c(new L(N,D.message))}else c(new L(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new L(M.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{V(Ke,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);V(Ke,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=Lf(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Vf(),c=Ff(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");V(Ke,`Creating RPC '${e}' stream ${i}: ${f}`,u);let m=s.createWebChannel(f,u),I=!1,D=!1,N=new $p({Io:O=>{D?V(Ke,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(I||(V(Ke,`Opening RPC '${e}' stream ${i} transport.`),m.open(),I=!0),V(Ke,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},To:()=>m.close()}),F=(O,U,G)=>{O.listen(U,X=>{try{G(X)}catch(ce){setTimeout(()=>{throw ce},0)}})};return F(m,xi.EventType.OPEN,()=>{D||(V(Ke,`RPC '${e}' stream ${i} transport opened.`),N.yo())}),F(m,xi.EventType.CLOSE,()=>{D||(D=!0,V(Ke,`RPC '${e}' stream ${i} transport closed`),N.So())}),F(m,xi.EventType.ERROR,O=>{D||(D=!0,Qc(Ke,`RPC '${e}' stream ${i} transport errored:`,O),N.So(new L(M.UNAVAILABLE,"The operation could not be completed")))}),F(m,xi.EventType.MESSAGE,O=>{var U;if(!D){let G=O.data[0];Ce(!!G);let X=G,ce=X.error||((U=X[0])===null||U===void 0?void 0:U.error);if(ce){V(Ke,`RPC '${e}' stream ${i} received error:`,ce);let Le=ce.status,ie=function(y){let _=xe[y];if(_!==void 0)return kk(_)}(Le),w=ce.message;ie===void 0&&(ie=M.INTERNAL,w="Unknown error status: "+Le+" with message "+ce.message),D=!0,N.So(new L(ie,w)),m.close()}else V(Ke,`RPC '${e}' stream ${i} received:`,G),N.bo(G)}}),F(c,Of.STAT_EVENT,O=>{O.stat===Hc.PROXY?V(Ke,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Hc.NOPROXY&&V(Ke,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}};function jf(){return typeof document<"u"?document:null}function vu(t){return new gp(t,!0)}var au=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var qp=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new au(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return T(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return T(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return T(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>T(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var zp=class extends qp{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=$k(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=jk(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Uk(this.serializer,r))};this.a_(n)}};var Gp=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,vp(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,vp(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Wp=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Or(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Kp=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>T(this,null,function*(){_s(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return T(this,null,function*(){let d=ve(u);d.L_.add(4),yield vs(d),d.q_.set("Unknown"),d.L_.delete(4),yield _u(d)})}(this))}))}),this.q_=new Wp(r,i)}};function _u(t){return T(this,null,function*(){if(_s(t))for(let e of t.B_)yield e(!0)})}function vs(t){return T(this,null,function*(){for(let e of t.B_)yield e(!1)})}function _s(t){return ve(t).L_.size===0}function KE(t,e,n){return T(this,null,function*(){if(!yu(e))throw e;t.L_.add(1),yield vs(t),t.q_.set("Offline"),n||(n=()=>Qk(t.localStore)),t.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield _u(t)}))})}function QE(t,e){return e().catch(n=>KE(t,n,e))}function Iu(t){return T(this,null,function*(){let e=ve(t),n=Yn(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Zk(e);)try{let i=yield Yk(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Xk(e,i)}catch(i){yield KE(e,i)}YE(e)&&JE(e)})}function Zk(t){return _s(t)&&t.O_.length<10}function Xk(t,e){t.O_.push(e);let n=Yn(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YE(t){return _s(t)&&!Yn(t).n_()&&t.O_.length>0}function JE(t){Yn(t).start()}function e1(t){return T(this,null,function*(){Yn(t).p_()})}function t1(t){return T(this,null,function*(){let e=Yn(t);for(let n of t.O_)e.m_(n.mutations)})}function n1(t,e,n){return T(this,null,function*(){let r=t.O_.shift(),i=pp.from(r,e,n);yield QE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Iu(t)})}function r1(t,e){return T(this,null,function*(){e&&Yn(t).V_&&(yield function(r,i){return T(this,null,function*(){if(function(s){return Pk(s)&&s!==M.ABORTED}(i.code)){let o=r.O_.shift();Yn(r).s_(),yield QE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Iu(r)}})}(t,e)),YE(t)&&JE(t)})}function hE(t,e){return T(this,null,function*(){let n=ve(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=_s(n);n.L_.add(3),yield vs(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield _u(n)})}function i1(t,e){return T(this,null,function*(){let n=ve(t);e?(n.L_.delete(2),yield _u(n)):e||(n.L_.add(2),yield vs(n),n.q_.set("Unknown"))})}function Yn(t){return t.U_||(t.U_=function(n,r,i){let o=ve(n);return o.w_(),new zp(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:e1.bind(null,t),mo:r1.bind(null,t),f_:t1.bind(null,t),g_:n1.bind(null,t)}),t.B_.push(e=>T(this,null,function*(){e?(t.U_.s_(),yield Iu(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Qp=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ZE(t,e){if(Or("AsyncQueue",`${e}: ${t}`),yu(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Yp=class{constructor(){this.queries=fE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ve(n),o=i.queries;i.queries=fE(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function fE(){return new Qn(t=>kE(t),PE)}function o1(t){t.Y_.forEach(e=>{e.next()})}var pE,mE;(mE=pE||(pE={})).ea="default",mE.Cache="cache";var Jp=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Qn(c=>kE(c),PE),this.Ma=new Map,this.xa=new Set,this.Oa=new It(K.comparator),this.Na=new Map,this.La=new gs,this.Ba={},this.ka=new Map,this.qa=ms.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function s1(t,e,n){return T(this,null,function*(){let r=l1(t);try{let i=yield function(s,c){let u=ve(s),d=Ye.now(),f=c.reduce((D,N)=>D.add(N.key),Qe()),m,I;return u.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=nu(),F=Qe();return u.cs.getEntries(D,f).next(O=>{N=O,N.forEach((U,G)=>{G.isValidDocument()||(F=F.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(D,N)).next(O=>{m=O;let U=[];for(let G of c){let X=Rk(G,m.get(G.key).overlayedDocument);X!=null&&U.push(new mn(G.key,X,SE(X.value.mapValue),Pr.exists(!0)))}return u.mutationQueue.addMutationBatch(D,d,U,c)}).next(O=>{I=O;let U=O.applyToLocalDocumentSet(m,F);return u.documentOverlayCache.saveOverlays(D,O.batchId,U)})}).then(()=>({batchId:I.batchId,changes:FE(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let d=s.Ba[s.currentUser.toKey()];d||(d=new It(me)),d=d.insert(c,u),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,n),yield wu(r,i.changes),yield Iu(r.remoteStore)}catch(i){let o=ZE(i,"Failed to persist write");n.reject(o)}})}function gE(t,e,n){let r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=ve(s);u.onlineState=c;let d=!1;u.queries.forEach((f,m)=>{for(let I of m.j_)I.Z_(c)&&(d=!0)}),d&&o1(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function a1(t,e){return T(this,null,function*(){let n=ve(t),r=e.batch.batchId;try{let i=yield Kk(n.localStore,e);eD(n,r,null),XE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield wu(n,i)}catch(i){yield EE(i)}})}function c1(t,e,n){return T(this,null,function*(){let r=ve(t);try{let i=yield function(s,c){let u=ve(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(m=>(Ce(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);eD(r,e,n),XE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield wu(r,i)}catch(i){yield EE(i)}})}function XE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function eD(t,e,n){let r=ve(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function wu(t,e,n){return T(this,null,function*(){let r=ve(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){let m=d?!d.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){i.push(d);let m=Fp.Wi(u.targetId,d);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,d){return T(this,null,function*(){let f=ve(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>P.forEach(d,I=>P.forEach(I.$i,D=>f.persistence.referenceDelegate.addReference(m,I.targetId,D)).next(()=>P.forEach(I.Ui,D=>f.persistence.referenceDelegate.removeReference(m,I.targetId,D)))))}catch(m){if(!yu(m))throw m;V("LocalStore","Failed to update sequence numbers: "+m)}for(let m of d){let I=m.targetId;if(!m.fromCache){let D=f.os.get(I),N=D.snapshotVersion,F=D.withLastLimboFreeSnapshotVersion(N);f.os=f.os.insert(I,F)}}})}(r.localStore,o))})}function u1(t,e){return T(this,null,function*(){let n=ve(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield WE(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wu(n,r.hs)}})}function l1(t){let e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c1.bind(null,e),e}var yE=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return T(this,null,function*(){this.serializer=vu(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return Wk(this.persistence,new Lp,n.initialUser,this.serializer)}Ga(n){return new Pp(Op.Zr,this.serializer)}Wa(n){return new Bp}terminate(){return T(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var d1=(()=>{class t{initialize(n,r){return T(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=u1.bind(null,this.syncEngine),yield i1(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Yp}()}createDatastore(n){let r=vu(n.databaseInfo.databaseId),i=function(s){return new Hp(s)}(n.databaseInfo);return function(s,c,u,d){return new Gp(s,c,u,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new Kp(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>gE(this.syncEngine,r,0),function(){return su.D()?new su:new Up}())}createSyncEngine(n,r){return function(o,s,c,u,d,f,m){let I=new Jp(o,s,c,u,d,f);return m&&(I.Qa=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return T(this,null,function*(){var n,r;yield function(o){return T(this,null,function*(){let s=ve(o);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield vs(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Zp=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fe.UNAUTHENTICATED,this.clientId=Jc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>T(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=ZE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Bf(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>T(this,null,function*(){r.isEqual(i)||(yield WE(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function vE(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield h1(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hE(e.remoteStore,i)),t._onlineComponents=e})}function h1(t){return T(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Bf(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Qc("Error using user provided cache. Falling back to memory cache: "+n),yield Bf(t,new yE)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield Bf(t,new yE);return t._offlineComponents})}function f1(t){return T(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield vE(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield vE(t,new d1))),t._onlineComponents})}function p1(t){return f1(t).then(e=>e.syncEngine)}function tD(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var _E=new Map;function nD(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m1(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IE(t){if(!K.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wE(t){if(K.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function rD(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=dm(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var cu=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Wi=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cu({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cu(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Uf;switch(r.type){case"firstParty":return new zf(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=_E.get(n);r&&(V("ComponentProvider","Removing Datastore"),_E.delete(n),r.terminate())}(this),Promise.resolve()}};function iD(t,e,n,r={}){var i;let o=(t=rD(t,Wi))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Fe.MOCK_USER;else{c=lw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Fe(d)}t._authCredentials=new $f(new Yc(c,u))}}var Xp=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},fn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Gn=class t extends Xp{constructor(e,n,r){super(e,n,yk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new K(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function oD(t,e,...n){if(t=ct(t),nD("collection","path",e),t instanceof Wi){let r=Pe.fromString(e,...n);return wE(r),new Gn(t,null,r)}{if(!(t instanceof fn||t instanceof Gn))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return wE(r),new Gn(t.firestore,null,r)}}function sD(t,e,...n){if(t=ct(t),arguments.length===1&&(e=Jc.newId()),nD("doc","path",e),t instanceof Wi){let r=Pe.fromString(e,...n);return IE(r),new fn(t,null,new K(r))}{if(!(t instanceof fn||t instanceof Gn))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return IE(r),new fn(t.firestore,t instanceof Gn?t.converter:null,new K(r))}}var uu=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new au(this,"async_queue_retry"),this.Vu=()=>{let r=jf();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=jf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=jf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new hn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return T(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!yu(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw Or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Qp.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Z()}verifyOperationInProgress(){}wu(){return T(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var lu=class extends Wi{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uu,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new uu(e),this._firestoreClient=void 0,yield e}})}};function aD(t,e){let n=typeof t=="object"?t:Hn(),r=typeof t=="string"?t:e||"(default)",i=un(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=cw("firestore");o&&iD(i,...o)}return i}function g1(t){if(t._terminated)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||y1(t),t._firestoreClient}function y1(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,d,f){return new Jf(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,tD(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Zp(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var du=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(pn.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var hu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fu=class{constructor(e){this._methodName=e}};var pu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var mu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var v1=/^__.*__$/,em=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mn(e,this.data,this.fieldMask,n,this.fieldTransforms):new jr(e,this.data,n,this.fieldTransforms)}};function cD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var tm=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(cD(this.Cu)&&v1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},nm=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vu(e)}Qu(e,n,r,i=!1){return new tm({Cu:e,methodName:n,qu:r,path:_t.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _1(t){let e=t._freezeSettings(),n=vu(t._databaseId);return new nm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function I1(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);hD("Data must be an object, but it was:",s,r);let c=lD(r,s),u,d;if(o.merge)u=new Kt(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let m of o.mergeFields){let I=w1(e,m,n);if(!s.contains(I))throw new L(M.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);b1(f,I)||f.push(I)}u=new Kt(f),d=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=s.fieldTransforms;return new em(new Wt(c),u,d)}function uD(t,e){if(dD(t=ct(t)))return hD("Unsupported field value:",e,t),lD(t,e);if(t instanceof fu)return function(r,i){if(!cD(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=uD(c,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ye.fromDate(r);return{timestampValue:yp(i.serializer,o)}}if(r instanceof Ye){let o=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yp(i.serializer,o)}}if(r instanceof pu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof du)return{bytesValue:Ok(i.serializer,r._byteString)};if(r instanceof fn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof mu)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return lm(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${dm(r)}`)}(t,e)}function lD(t,e){let n={};return DE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(t,(r,i)=>{let o=uD(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function dD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof pu||t instanceof du||t instanceof fn||t instanceof fu||t instanceof mu)}function hD(t,e,n){if(!dD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=dm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function w1(t,e,n){if((e=ct(e))instanceof hu)return e._internalPath;if(typeof e=="string")return D1(t,e);throw gu("Field path arguments must be of type string or ",t,!1,void 0,n)}var E1=new RegExp("[~\\*/\\[\\]]");function D1(t,e,n){if(e.search(E1)>=0)throw gu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hu(...e.split("."))._internalPath}catch{throw gu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gu(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,c+t+u)}function b1(t,e){return t.some(n=>n.isEqual(e))}function T1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function fD(t,e){let n=rD(t.firestore,lu),r=sD(t),i=T1(t.converter,e);return C1(n,[I1(_1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pr.exists(!1))]).then(()=>r)}function C1(t,e){return function(r,i){let o=new hn;return r.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return s1(yield p1(r),i,o)})),o.promise}(g1(t),e)}(function(e,n=!0){(function(i){Ki=i})(Ai),ut(new Oe("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new lu(new Hf(r.getProvider("auth-internal")),new Wf(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zf(d.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ye(Xw,"4.7.3",e),ye(Xw,"4.7.3","esm2017")})();var Br=class{constructor(e){return e}},pD="firestore",hm=class{constructor(){return Cr(pD)}};var fm=new B("angularfire2.firestore-instances");function S1(t,e){let n=es(pD,t,e);return n&&new Br(n)}function A1(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Br(r)}}var N1={provide:hm,deps:[[new gt,fm]]},x1={provide:Br,useFactory:S1,deps:[[new gt,fm],ln]};function mD(t,...e){return ye("angularfire",qn.full,"fst"),Ir([x1,N1,{provide:fm,useFactory:A1(t),multi:!0,deps:[Ie,mt,Sr,Ar,[new gt,Uc],[new gt,Xo],...e]}])}var gD=zt(fD,!0);var yD=zt(oD,!0);var vD=zt(aD,!0);var wD="@firebase/installations",ym="0.6.9";var ED=1e4,DD=`w:${ym}`,bD="FIS_v2",R1="https://firebaseinstallations.googleapis.com/v1",P1=60*60*1e3,k1="installations",O1="Installations";var F1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$r=new yt(k1,O1,F1);function TD(t){return t instanceof We&&t.code.includes("request-failed")}function CD({projectId:t}){return`${R1}/projects/${t}/installations`}function SD(t){return{token:t.token,requestStatus:2,expiresIn:L1(t.expiresIn),creationTime:Date.now()}}function AD(t,e){return T(this,null,function*(){let r=(yield e.json()).error;return $r.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function ND({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function V1(t,{refreshToken:e}){let n=ND(t);return n.append("Authorization",j1(e)),n}function xD(t){return T(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function L1(t){return Number(t.replace("s","000"))}function j1(t){return`${bD} ${t}`}function B1(r,i){return T(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=CD(t),s=ND(t),c=e.getImmediate({optional:!0});if(c){let m=yield c.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}let u={fid:n,authVersion:bD,appId:t.appId,sdkVersion:DD},d={method:"POST",headers:s,body:JSON.stringify(u)},f=yield xD(()=>fetch(o,d));if(f.ok){let m=yield f.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:SD(m.authToken)}}else throw yield AD("Create Installation",f)})}function MD(t){return new Promise(e=>{setTimeout(e,t)})}function U1(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var $1=/^[cdef][\w-]{21}$/,gm="";function H1(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=q1(t);return $1.test(n)?n:gm}catch{return gm}}function q1(t){return U1(t).substr(0,22)}function Du(t){return`${t.appName}!${t.appId}`}var RD=new Map;function PD(t,e){let n=Du(t);kD(n,e),z1(n,e)}function kD(t,e){let n=RD.get(t);if(n)for(let r of n)r(e)}function z1(t,e){let n=G1();n&&n.postMessage({key:t,fid:e}),W1()}var Ur=null;function G1(){return!Ur&&"BroadcastChannel"in self&&(Ur=new BroadcastChannel("[Firebase] FID Change"),Ur.onmessage=t=>{kD(t.data.key,t.data.fid)}),Ur}function W1(){RD.size===0&&Ur&&(Ur.close(),Ur=null)}var K1="firebase-installations-database",Q1=1,Hr="firebase-installations-store",pm=null;function vm(){return pm||(pm=Sc(K1,Q1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hr)}}})),pm}function Eu(t,e){return T(this,null,function*(){let n=Du(t),i=(yield vm()).transaction(Hr,"readwrite"),o=i.objectStore(Hr),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&PD(t,e.fid),e})}function OD(t){return T(this,null,function*(){let e=Du(t),r=(yield vm()).transaction(Hr,"readwrite");yield r.objectStore(Hr).delete(e),yield r.done})}function bu(t,e){return T(this,null,function*(){let n=Du(t),i=(yield vm()).transaction(Hr,"readwrite"),o=i.objectStore(Hr),s=yield o.get(n),c=e(s);return c===void 0?yield o.delete(n):yield o.put(c,n),yield i.done,c&&(!s||s.fid!==c.fid)&&PD(t,c.fid),c})}function _m(t){return T(this,null,function*(){let e,n=yield bu(t.appConfig,r=>{let i=Y1(r),o=J1(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===gm?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function Y1(t){let e=t||{fid:H1(),registrationStatus:0};return FD(e)}function J1(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject($r.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Z1(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:X1(t)}:{installationEntry:e}}function Z1(t,e){return T(this,null,function*(){try{let n=yield B1(t,e);return Eu(t.appConfig,n)}catch(n){throw TD(n)&&n.customData.serverCode===409?yield OD(t.appConfig):yield Eu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function X1(t){return T(this,null,function*(){let e=yield _D(t.appConfig);for(;e.registrationStatus===1;)yield MD(100),e=yield _D(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield _m(t);return r||n}return e})}function _D(t){return bu(t,e=>{if(!e)throw $r.create("installation-not-found");return FD(e)})}function FD(t){return eO(t)?{fid:t.fid,registrationStatus:0}:t}function eO(t){return t.registrationStatus===1&&t.registrationTime+ED<Date.now()}function tO(r,i){return T(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=nO(t,n),s=V1(t,n),c=e.getImmediate({optional:!0});if(c){let m=yield c.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}let u={installation:{sdkVersion:DD,appId:t.appId}},d={method:"POST",headers:s,body:JSON.stringify(u)},f=yield xD(()=>fetch(o,d));if(f.ok){let m=yield f.json();return SD(m)}else throw yield AD("Generate Auth Token",f)})}function nO(t,{fid:e}){return`${CD(t)}/${e}/authTokens:generate`}function Im(t,e=!1){return T(this,null,function*(){let n,r=yield bu(t.appConfig,o=>{if(!VD(o))throw $r.create("not-registered");let s=o.authToken;if(!e&&oO(s))return o;if(s.requestStatus===1)return n=rO(t,e),o;{if(!navigator.onLine)throw $r.create("app-offline");let c=aO(o);return n=iO(t,c),c}});return n?yield n:r.authToken})}function rO(t,e){return T(this,null,function*(){let n=yield ID(t.appConfig);for(;n.authToken.requestStatus===1;)yield MD(100),n=yield ID(t.appConfig);let r=n.authToken;return r.requestStatus===0?Im(t,e):r})}function ID(t){return bu(t,e=>{if(!VD(e))throw $r.create("not-registered");let n=e.authToken;return cO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function iO(t,e){return T(this,null,function*(){try{let n=yield tO(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Eu(t.appConfig,r),n}catch(n){if(TD(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield OD(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Eu(t.appConfig,r)}throw n}})}function VD(t){return t!==void 0&&t.registrationStatus===2}function oO(t){return t.requestStatus===2&&!sO(t)}function sO(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+P1}function aO(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function cO(t){return t.requestStatus===1&&t.requestTime+ED<Date.now()}function uO(t){return T(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield _m(e);return r?r.catch(console.error):Im(e).catch(console.error),n.fid})}function lO(t,e=!1){return T(this,null,function*(){let n=t;return yield dO(n),(yield Im(n,e)).token})}function dO(t){return T(this,null,function*(){let{registrationPromise:e}=yield _m(t);e&&(yield e)})}function hO(t){if(!t||!t.options)throw mm("App Configuration");if(!t.name)throw mm("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw mm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function mm(t){return $r.create("missing-app-config-values",{valueName:t})}var LD="installations",fO="installations-internal",pO=t=>{let e=t.getProvider("app").getImmediate(),n=hO(e),r=un(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},mO=t=>{let e=t.getProvider("app").getImmediate(),n=un(e,LD).getImmediate();return{getId:()=>uO(n),getToken:i=>lO(n,i)}};function gO(){ut(new Oe(LD,pO,"PUBLIC")),ut(new Oe(fO,mO,"PRIVATE"))}gO();ye(wD,ym);ye(wD,ym,"esm2017");var Tu="analytics",yO="firebase_id",vO="origin",_O=60*1e3,IO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sm="https://www.googletagmanager.com/gtag/js";var lt=new Ht("@firebase/analytics");var wO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wt=new yt("analytics","Analytics",wO);function EO(t){if(!t.startsWith(Sm)){let e=wt.create("invalid-gtag-resource",{gtagURL:t});return lt.warn(e.message),""}return t}function zD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function DO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function bO(t,e){let n=DO("firebase-js-sdk-policy",{createScriptURL:EO}),r=document.createElement("script"),i=`${Sm}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function TO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function CO(t,e,n,r,i,o){return T(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield zD(n)).find(d=>d.measurementId===i);u&&(yield e[u.appId])}}catch(c){lt.error(c)}t("config",i,o)})}function SO(t,e,n,r,i){return T(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let c=yield zD(n);for(let u of s){let d=c.find(m=>m.measurementId===u),f=d&&e[d.appId];if(f)o.push(f);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){lt.error(o)}})}function AO(t,e,n,r){function i(o,...s){return T(this,null,function*(){try{if(o==="event"){let[c,u]=s;yield SO(t,e,n,c,u)}else if(o==="config"){let[c,u]=s;yield CO(t,e,n,r,c,u)}else if(o==="consent"){let[c,u]=s;t("consent",c,u)}else if(o==="get"){let[c,u,d]=s;t("get",c,u,d)}else if(o==="set"){let[c]=s;t("set",c)}else t(o,...s)}catch(c){lt.error(c)}})}return i}function NO(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=AO(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function xO(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(Sm)&&n.src.includes(t))return n;return null}var MO=30,RO=1e3,Em=class{constructor(e={},n=RO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},GD=new Em;function PO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function kO(t){return T(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:PO(r)},o=IO.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let c="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(c=u.error.message)}catch{}throw wt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:c})}return s.json()})}function OO(r){return T(this,arguments,function*(t,e=GD,n){let{appId:i,apiKey:o,measurementId:s}=t.options;if(!i)throw wt.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw wt.create("no-api-key")}let c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Dm;return setTimeout(()=>T(this,null,function*(){u.abort()}),n!==void 0?n:_O),WD({appId:i,apiKey:o,measurementId:s},c,u,e)})}function WD(o,s,c){return T(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=GD){var u;let{appId:d,measurementId:f}=t;try{yield FO(r,e)}catch(m){if(f)return lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:d,measurementId:f};throw m}try{let m=yield kO(t);return i.deleteThrottleMetadata(d),m}catch(m){let I=m;if(!VO(I)){if(i.deleteThrottleMetadata(d),f)return lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${I?.message}]`),{appId:d,measurementId:f};throw m}let D=Number((u=I?.customData)===null||u===void 0?void 0:u.httpStatus)===503?Xh(n,i.intervalMillis,MO):Xh(n,i.intervalMillis),N={throttleEndTimeMillis:Date.now()+D,backoffCount:n+1};return i.setThrottleMetadata(d,N),lt.debug(`Calling attemptFetch again in ${D} millis`),WD(t,N,r,i)}})}function FO(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(wt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function VO(t){if(!(t instanceof We)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Dm=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var bm;function LO(t,e,n,r,i){return T(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}})}var Tm;function jO(t){Tm=t}function BO(t){bm=t}function UO(){return T(this,null,function*(){if(Ci())try{yield Yo()}catch(t){return lt.warn(wt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return lt.warn(wt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function $O(t,e,n,r,i,o,s){return T(this,null,function*(){var c;let u=OO(t);u.then(D=>{n[D.measurementId]=D.appId,t.options.measurementId&&D.measurementId!==t.options.measurementId&&lt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>lt.error(D)),e.push(u);let d=UO().then(D=>{if(D)return r.getId()}),[f,m]=yield Promise.all([u,d]);xO(o)||bO(o,f.measurementId),Tm&&(i("consent","default",Tm),jO(void 0)),i("js",new Date);let I=(c=s?.config)!==null&&c!==void 0?c:{};return I[vO]="firebase",I.update=!0,m!=null&&(I[yO]=m),i("config",f.measurementId,I),bm&&(i("set",bm),BO(void 0)),f.measurementId})}var Cm=class{constructor(e){this.app=e}_delete(){return delete Is[this.app.options.appId],Promise.resolve()}},Is={},jD=[],BD={},wm="dataLayer",HO="gtag",UD,KD,$D=!1;function qO(){let t=[];if(Qo()&&t.push("This is a browser extension environment."),Jh()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=wt.create("invalid-analytics-context",{errorInfo:e});lt.warn(n.message)}}function zO(t,e,n){qO();let r=t.options.appId;if(!r)throw wt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wt.create("no-api-key");if(Is[r]!=null)throw wt.create("already-exists",{id:r});if(!$D){TO(wm);let{wrappedGtag:o,gtagCore:s}=NO(Is,jD,BD,wm,HO);KD=o,UD=s,$D=!0}return Is[r]=$O(t,jD,BD,e,UD,wm,n),new Cm(t)}function QD(t=Hn()){t=ct(t);let e=un(t,Tu);return e.isInitialized()?e.getImmediate():YD(t)}function YD(t,e={}){let n=un(t,Tu);if(n.isInitialized()){let i=n.getImmediate();if(Un(e,n.getOptions()))return i;throw wt.create("already-initialized")}return n.initialize({options:e})}function JD(){return T(this,null,function*(){if(Qo()||!Jh()||!Ci())return!1;try{return yield Yo()}catch{return!1}})}function Am(t,e,n,r){t=ct(t),LO(KD,Is[t.app.options.appId],e,n,r).catch(i=>lt.error(i))}var HD="@firebase/analytics",qD="0.10.8";function GO(){ut(new Oe(Tu,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return zO(r,i,n)},"PUBLIC")),ut(new Oe("analytics-internal",t,"PRIVATE")),ye(HD,qD),ye(HD,qD,"esm2017");function t(e){try{let n=e.getProvider(Tu).getImmediate();return{logEvent:(r,i,o)=>Am(n,r,i,o)}}catch(n){throw wt.create("interop-component-reg-failed",{reason:n})}}}GO();var qr=class{constructor(e){return e}},ZD="analytics",Nm=class{constructor(){return Cr(ZD)}};var xm="__angularfire_symbol__analyticsIsSupportedValue",XD="__angularfire_symbol__analyticsIsSupported";globalThis[XD]||=JD().then(t=>globalThis[xm]=t).catch(()=>globalThis[xm]=!1);var Cu={async:()=>globalThis[XD],sync:()=>{let t=globalThis[xm];if(t===void 0)throw new Error(Nw("Analytics"));return t}},Pq=Cu.async,e0=zt(QD,!0);var t0=zt(Am,!0);var kq=Math.floor(Math.random()*(2**32-1))-2**31;var Mm=new B("angularfire2.analytics-instances");function WO(t,e){if(!Cu.sync())return null;let n=es(ZD,t,e);return n&&new qr(n)}function KO(t){return(e,n)=>{if(!Cu.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new qr(r)}}var QO={provide:Nm,deps:[[new gt,Mm]]},YO={provide:qr,useFactory:WO,deps:[[new gt,Mm],ln]};function n0(t,...e){return ye("angularfire",qn.full,"analytics"),Ir([YO,QO,{provide:Nh,useValue:Cu.async,multi:!0},{provide:Mm,useFactory:KO(t),multi:!0,deps:[Ie,mt,Sr,Ar,...e]}])}var Jt=(()=>{class t{constructor(n,r){this.firestore=n,this.analytics=r,this.cartItems=new sr([]),this.storageKey="chocolate_cart",this.loadCart()}loadCart(){let n=localStorage.getItem(this.storageKey);n&&this.cartItems.next(JSON.parse(n))}saveCart(n){localStorage.setItem(this.storageKey,JSON.stringify(n)),this.cartItems.next(n)}getCartItems(){return this.cartItems.asObservable()}addToCart(n){let r=this.cartItems.value,i=r.find(o=>o.id===n.id);t0(this.analytics,"add_to_cart",{item_name:n.name}),i?(i.quantity+=1,this.saveCart([...r])):this.saveCart([...r,he($({},n),{quantity:1})])}removeFromCart(n){let i=this.cartItems.value.filter(o=>o.id!==n);this.saveCart(i)}updateQuantity(n,r){let i=this.cartItems.value,o=i.find(s=>s.id===n);o&&(o.quantity=r,this.saveCart([...i]))}clearCart(){this.saveCart([])}getTotal(){return this.cartItems.value.reduce((n,r)=>n+r.price*r.quantity,0)}getCount(){return this.cartItems.value.length??0}saveOrderToFirestore(n){return T(this,null,function*(){let r=yD(this.firestore,"orders");return(yield gD(r,he($({},n),{items:this.cartItems.value,total:this.getTotal(),date:new Date}))).id})}static{this.\u0275fac=function(r){return new(r||t)(te(Br),te(qr))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ZO(t,e){if(t&1&&(A(0,"span",15),R(1),Ei(2,"async"),x()),t&2){let n=Ut();re(),$t(Di(2,1,n.count$))}}var r0=(()=>{class t{constructor(n){this.cartService=n,this.isScrolled=!1,this.cartToggle=I_(),this.cartItems$=this.cartService.getCartItems(),this.count$=new ge(r=>{this.cartItems$.subscribe(()=>{r.next(this.cartService.getCount())})})}onWindowScroll(){this.isScrolled=window.scrollY>50}toggleCart(){this.cartToggle.emit(!0)}static{this.\u0275fac=function(r){return new(r||t)(q(Jt))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-navbar"]],hostBindings:function(r,i){r&1&&le("scroll",function(){return i.onWindowScroll()},!1,k_)},outputs:{cartToggle:"cartToggle"},decls:22,vars:9,consts:[[1,"fixed","w-full","transition-all","duration-300","z-30"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-28","lg:h-16","items-center"],[1,"flex-shrink-0","lg:mt-0"],["src","assets/images/logo.png","alt","Nuts On Top",1,"w-50","lg:w-28"],[1,"hidden","md:block"],[1,"ml-10","flex","space-x-4","mt-6","lg:mt-0"],["href","#",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium","lg:block","hidden"],["href","#products",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium","lg:block","hidden"],["href","#reviews",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium","lg:block","hidden"],["href","#about",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium","lg:block","hidden"],["href","#contact",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium","lg:block","hidden"],[1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium","flex",3,"click"],["src","assets/images/cart.png",1,"w-12","lg:w-auto"],["class","rounded-full bg-gray-50 px-4 py-2 lg:px-2 lg:py-1 text-lg lg:text-xs font-medium text-gray-600 ring-1 ring-gray-500/10 ring-inset",4,"ngIf"],[1,"rounded-full","bg-gray-50","px-4","py-2","lg:px-2","lg:py-1","text-lg","lg:text-xs","font-medium","text-gray-600","ring-1","ring-gray-500/10","ring-inset"]],template:function(r,i){r&1&&(A(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3),ue(4,"img",4),x(),A(5,"div",5)(6,"div",6)(7,"a",7),R(8,"Home"),x(),A(9,"a",8),R(10,"Products"),x(),A(11,"a",9),R(12,"Reviews"),x(),A(13,"a",10),R(14,"About"),x(),A(15,"a",11),R(16,"Contact"),x(),A(17,"a",12),le("click",function(){return i.toggleCart()}),ue(18,"img",13),A(19,"div"),Bt(20,ZO,3,3,"span",14),Ei(21,"async"),x()()()()()()()),r&2&&(jn("scrolled",i.isScrolled)("bg-chocolate-800",i.isScrolled)("bg-transparent",!i.isScrolled),re(20),Ue("ngIf",Di(21,7,i.count$)))},dependencies:[be,GI,vc],encapsulation:2})}}return t})();var i0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-hero"]],decls:24,vars:0,consts:[[1,"relative","h-screen","w-screen","flex","items-center","overflow-hidden"],[1,"absolute","inset-0","z-0","bg-[#CBA35C]","h-full","hero-bg"],[1,"grid","grid-cols-1","lg:grid-cols-2","w-full","h-full"],[1,"h-full","w-full","flex","relative","blur-[2px]"],["src","assets/images/strawberry.png","alt","","loading","lazy",1,"absolute","right-40","top-10","floating","w-50","rotate-circle"],["src","assets/images/cherries.png","alt","","loading","lazy",1,"absolute","left-30","bottom-30","floating","w-30","rotate-circle"],["src","assets/images/coco.png","alt","","loading","lazy",1,"absolute","right-30","bottom-50","floating","w-30"],["src","assets/images/raisins.png","alt","","loading","lazy",1,"absolute","left-20","top-50","floating","w-30","-rotate-15"],["src","assets/images/garbanzo.png","alt","","loading","lazy",1,"absolute","left-100","bottom-30","floating","w-20"],["src","assets/images/garbanzo.png","alt","","loading","lazy",1,"absolute","left-90","top-30","floating","w-20"],["src","assets/images/peanut.png","alt","","loading","lazy",1,"absolute","right-0","top-50","floating","w-30"],[1,"h-full","w-full","flex","items-center","justify-center","relative"],["src","assets/images/hero-image-1.png","alt","","loading","lazy",1,"absolute","-left-20","lg:left-15","-rotate-255","floating","lg:w-[550px]","z-5","w-[800px]"],["src","assets/images/hero-image-2.png","alt","","loading","lazy",1,"absolute","-top-0","lg:top-20","lg:left-40","-rotate-35","floating","floating-delay","lg:w-[550px]","z-4","w-[800px]"],["src","assets/images/hero-image-3.png","alt","","loading","lazy",1,"absolute","left-50","lg:left-70","floating","lg:w-[550px]","z-4","w-[800px]"],[1,"relative","z-10","text-center","text-white","w-full","h-full"],[1,"h-full","w-full","flex","items-center","justify-center","flex-col"],["src","assets/images/logo.png","alt","Nuts On Top","loading","lazy",1,"w-100","lg:w-60","my-6"],[1,"poppins-bold","text-7xl","hearo-header"],[1,"mt-12","text-2xl","lg:text-xl"],[1,"h-full","w-full"]],template:function(r,i){r&1&&(A(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),ue(4,"img",4)(5,"img",5)(6,"img",6)(7,"img",7)(8,"img",8)(9,"img",9)(10,"img",10),x(),A(11,"div",11),ue(12,"img",12)(13,"img",13)(14,"img",14),x()()(),A(15,"div",15)(16,"div",2)(17,"div",16),ue(18,"img",17),A(19,"h3",18),R(20,"TIME TO GET NUTTY!"),x(),A(21,"p",19),R(22,"Savor the finest handcrafted chocolates, made with love and the richest ingredients. Treat yourself to a moment of sweetness today!"),x()(),ue(23,"div",20),x()()())},dependencies:[be],encapsulation:2})}}return t})();var Su=(()=>{class t{constructor(){this.products=[{id:1,name:"Crunchmaster",price:1200,image:"assets/images/crunch-master.png",description:"Sri Lanka\u2019s first-ever peanut butter chocolate bar is here! Crunchmaster is a bold fusion of crispy toasted garbanzo bean shards and smooth, creamy peanut butter, creating the ultimate crunch-meets-cream experience. Every bite is packed with texture, flavor, and a satisfying snap.",size:120,isFeatured:!1},{id:2,name:"Cheri Cheri Lady",price:650,image:"assets/images/cherry-cherry.png",description:"Indulge in the luxury of white chocolate, balanced with sweet-tart cherries and juicy raisins. Cheri Cheri Lady is for those who crave a fruit-filled, creamy delight with a touch of nostalgia and romance.",isFeatured:!1,size:120},{id:3,name:"Nuttin' But Love",price:850,image:"assets/images/coffee-craze.png",description:"A world first! Nuttin\u2019 But Love is the only chocolate bar in the world with a garbanzo bean nougat\u2014a chewy, nutty, and completely unique creation. Paired with rich, velvety dark chocolate, this bar is made for those who love bold flavors with a twist.",isFeatured:!1,size:120},{id:4,name:"Truffle Box",price:1849,image:"assets/images/Truffle-Box Post.JPG",description:"Indulge in Sri Lanka\u2019s first-ever Peanut Butter & Jelly truffle and Coconut Fudge truffle, alongside 4 other decadent, handcrafted flavors\u2014all wrapped up in the perfect Valentine\u2019s treat.",isFeatured:!1,size:180},{id:4,name:"The Dodol Muscateer",price:1390,image:"assets/images/dodol.png",productImage:"assets/images/dodol_prod.png",description:"The best of Ramadan in one bite! \u{1F924} A rich mix of chewy Dodol, Zesty Lemon and Raspberry Muscat, toasty almonds, and premium dark and White chocolate!",isFeatured:!0,size:140}]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Qi=(()=>{class t{constructor(n,r){this.appRef=n,this.injector=r,this.dialogComponentRef=null}open(n,r={}){this.closeAll();let i=document.createElement("div");i.className="modal-wrapper fixed inset-0 z-50 overflow-y-auto",document.body.appendChild(i);let o=BI(n,{environmentInjector:this.injector,hostElement:i});return Object.assign(o.instance,r),this.appRef.attachView(o.hostView),this.dialogComponentRef=o,o}closeAll(){if(this.dialogComponentRef){this.appRef.detachView(this.dialogComponentRef.hostView),this.dialogComponentRef.destroy(),this.dialogComponentRef=null;let n=document.querySelector(".modal-wrapper");n&&n.remove()}}static{this.\u0275fac=function(r){return new(r||t)(te(xn),te(Vt))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var XO=["*"],s0=(()=>{class t{constructor(n){this.dialogService=n,this.closed=new et}close(){this.closed.emit(),this.dialogService.closeAll()}static{this.\u0275fac=function(r){return new(r||t)(q(Qi))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-base-modal"]],outputs:{closed:"closed"},ngContentSelectors:XO,decls:11,vars:0,consts:[["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"flex","items-center","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","backdrop-blur-sm","transition-opacity",3,"click"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"],[1,"absolute","top-0","right-0","pt-4","pr-4"],["type","button",1,"bg-white","rounded-md","text-gray-400","hover:text-gray-500","focus:outline-none",3,"click"],[1,"sr-only"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(r,i){r&1&&(PI(),A(0,"div",0)(1,"div",1)(2,"div",2),le("click",function(){return i.close()}),x(),A(3,"div",3)(4,"div",4)(5,"button",5),le("click",function(){return i.close()}),A(6,"span",6),R(7,"Close"),x(),n_(),A(8,"svg",7),ue(9,"path",8),x()()(),kI(10),x()()())},dependencies:[be],encapsulation:2})}}return t})();var a0=(()=>{class t{constructor(n,r){this.cartService=n,this.dialogService=r,this.product=null,this.isOpen=!1}close(){this.dialogService.closeAll()}addToCart(){this.product&&(this.cartService.addToCart({id:this.product.id,name:this.product.name,price:this.product.price,image:this.product.image,quantity:1}),this.close())}static{this.\u0275fac=function(r){return new(r||t)(q(Jt),q(Qi))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-product-modal"]],inputs:{product:"product",isOpen:"isOpen"},decls:20,vars:6,consts:[[3,"closed"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mt-3","text-center","sm:mt-0","sm:text-left","w-full"],[1,"flex","flex-col","items-center"],["loading","lazy",1,"w-full","h-64","object-cover","rounded-lg","mb-4",3,"src","alt"],["id","modal-title",1,"text-2xl","leading-6","font-medium","text-gray-900","mb-4"],[1,"mt-2"],[1,"text-gray-500","text-sm","mb-4"],[1,"text-2xl","font-bold","text-chocolate-600","mb-6"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-chocolate-600","text-base","font-medium","text-white","hover:bg-chocolate-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-chocolate-500","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],["type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-chocolate-500","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"]],template:function(r,i){if(r&1&&(A(0,"app-base-modal",0),le("closed",function(){return i.close()}),A(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),ue(5,"img",5),A(6,"h3",6),R(7),x()(),A(8,"div",7)(9,"p",8),R(10),x(),A(11,"p",8),R(12),x(),A(13,"p",9),R(14),x()()()()(),A(15,"div",10)(16,"button",11),le("click",function(){return i.addToCart()}),R(17," Add to Cart "),x(),A(18,"button",12),le("click",function(){return i.close()}),R(19," Close "),x()()()),r&2){let o;re(5),Ue("src",(o=i.product==null?null:i.product.productImage)!==null&&o!==void 0?o:i.product==null?null:i.product.image,Ii)("alt",i.product==null?null:i.product.name),re(2),Ge(" ",i.product==null?null:i.product.name," "),re(3),Ge(" ",i.product==null?null:i.product.description," "),re(2),Ge(" Size ",i.product==null?null:i.product.size,"g "),re(2),Ge(" LKR ",i.product==null?null:i.product.price," ")}},dependencies:[be,s0],encapsulation:2})}}return t})();function eF(t,e){if(t&1){let n=hc();A(0,"div",9)(1,"div",10)(2,"h3",11),le("click",function(){let i=Pn(n).$implicit,o=Ut(2);return kn(o.openModal(i))}),R(3),x(),A(4,"div",12),le("click",function(){let i=Pn(n).$implicit,o=Ut(2);return kn(o.openModal(i))}),ue(5,"img",13),x(),A(6,"div",14)(7,"button",15),le("click",function(){let i=Pn(n).$implicit,o=Ut(2);return kn(o.addToCart(i))}),R(8),x()()()()}if(t&2){let n=e.$implicit;re(3),$t(n.name),re(2),fc("src",n.image,Ii),fc("alt",n.name),re(3),Ge("Add to Cart LKR ",n.price,"")}}function tF(t,e){if(t&1&&(A(0,"div",7),Bt(1,eF,9,4,"div",8),x()),t&2){let n=e.$implicit;re(),Ue("ngForOf",n)}}var c0=(()=>{class t{constructor(){this.cartService=z(Jt),this.productService=z(Su),this.products=this.productService.products,this.dialogService=z(Qi),this.productGroups=[this.products,this.products]}openModal(n){this.dialogService.open(a0,{product:n})}addToCart(n){console.log("Adding to cart:",n),this.cartService.addToCart({id:n.id,name:n.name,price:n.price,image:n.image,quantity:1})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-products"]],decls:9,vars:1,consts:[["id","products",1,"py-20","bg-chocolate-50"],[1,"container","text-center"],[1,"text-4xl","font-bold","text-chocolate-900","text-center","mb-12"],[1,"text-xl","text-chocolate-700","leading-relaxed","max-w-2xl","mx-auto","justify-center"],[1,"overflow-hidden","relative","mt-6"],[1,"flex","animate-scroll"],["class","product-slide flex gap-6 me-6",4,"ngFor","ngForOf"],[1,"product-slide","flex","gap-6","me-6"],["class","w-72 flex-shrink-0 bg-chocolate-100 rounded-xl shadow-lg overflow-hidden transform transition-transform duration-300 hover:scale-105",4,"ngFor","ngForOf"],[1,"w-72","flex-shrink-0","bg-chocolate-100","rounded-xl","shadow-lg","overflow-hidden","transform","transition-transform","duration-300","hover:scale-105"],[1,"group","cursor-pointer","rounded-xl","p-5"],[1,"pt-4","text-xl","font-medium","mb-2","text-chocolate-900","text-center",3,"click"],[1,"relative","overflow-hidden","mb-6",3,"click"],["loading","lazy",1,"w-full","h-[400px]","object-cover","transition-transform","duration-700","group-hover:scale-110",3,"src","alt"],[1,"flex","justify-center","items-center"],["type","button",1,"bg-chocolate-900","self-center","font-medium","rounded-lg","text-sm","px-4","py-2","text-white","cursor-pointer",3,"click"]],template:function(r,i){r&1&&(A(0,"section",0)(1,"div",1)(2,"h2",2),R(3,"Signature Chocolate Bars"),x(),A(4,"p",3),R(5," Discover our handcrafted chocolate collection, made with organic ingredients and love. "),x(),A(6,"div",4)(7,"div",5),Bt(8,tF,2,1,"div",6),x()()()()),r&2&&(re(8),Ue("ngForOf",i.productGroups))},dependencies:[be,Ti],styles:[".animate-scroll[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scroll 40s linear infinite}@keyframes _ngcontent-%COMP%_scroll{0%{transform:translate(0)}to{transform:translate(-100%)}}.product-slide[_ngcontent-%COMP%]{flex:0 0 auto}"]})}}return t})();function nF(t,e){if(t&1&&(A(0,"div",7),ue(1,"img",8),A(2,"div",9),ue(3,"div"),x(),A(4,"p",10),R(5),x(),A(6,"h3",11),R(7),x(),ue(8,"img",12),x()),t&2){let n=e.$implicit;re(5),$t(n.content),re(2),Ge("- ",n.name,"")}}var u0=(()=>{class t{constructor(){this.reviews=[{id:1,name:"Sanju",avatar:"https://i.pravatar.cc/150?img=1",content:"Bro, the chocolate was great! The crunchiness of the chickpeas combined with the white chocolate was a game-changer for me. Will definitely try the other flavors soon",rating:5},{id:2,name:"Dinithi",avatar:"https://i.pravatar.cc/150?img=2",content:"It's absolutely nuts how good this is! \u{1F60D} Everyone needs to get on it.",rating:5},{id:3,name:"Shevyn",avatar:"https://i.pravatar.cc/150?img=3",content:"Man this reminds of the penut butter mnm. So good ! Gotta try out the rest. So nice it bite into something and know that the manufacturer hasn't stinted on the nuts DAMN",rating:4},{id:4,name:"Irsham",avatar:"https://i.pravatar.cc/150?img=3",content:"This gotta be the best. SL made chocolates I have ever tried \u2764 Hats off. Great product. @nutsontopchocolates",rating:4},{id:5,name:"Yazmin",avatar:"https://i.pravatar.cc/150?img=3",content:"Can't try Bounty? Get the Coco Loco instead!",rating:4},{id:6,name:"Gavin",avatar:"https://i.pravatar.cc/150?img=3",content:"Bro... my fam also loved it. Let me know when you make the next batch",rating:4},{id:7,name:"Amaya",avatar:"https://i.pravatar.cc/150?img=3",content:"Hi! Yes they were great! My mom loved them \u2764 Our fav is the peanut butter one. Hope there will be more flavours in the future \u{1F60A}",rating:4}]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-reviews"]],decls:9,vars:1,consts:[["id","reviews",1,"py-20","bg-chocolate-100"],[1,"container","text-center"],[1,"text-4xl","font-bold","text-chocolate-900","text-center","mb-12"],[1,"text-xl","text-chocolate-700","leading-relaxed","max-w-2xl","mx-auto","justify-center","mb-6"],[1,"overflow-hidden","py-2"],[1,"flex","animate-scroll","gap-4"],["class","min-w-96 bg-white p-6 rounded-xl shadow-lg transform transition-transform duration-300 hover:-translate-y-2 relative",4,"ngFor","ngForOf"],[1,"min-w-96","bg-white","p-6","rounded-xl","shadow-lg","transform","transition-transform","duration-300","hover:-translate-y-2","relative"],["src","assets/images/double-quotes.png","loading","lazy",1,"absolute","left-2","top-2","rotate-180"],[1,"flex","items-center","mb-4"],[1,"text-chocolate-700"],[1,"font-semibold","text-chocolate-900","text-end","me-5"],["src","assets/images/double-quotes.png","loading","lazy",1,"absolute","right-2","bottom-2"]],template:function(r,i){r&1&&(A(0,"section",0)(1,"div",1)(2,"h2",2),R(3,"Sweet Words from Our Happy Customers"),x(),A(4,"p",3),R(5," Indulgence meets perfection! Don\u2019t just take our word for it, See what our chocolate lovers have to say. "),x(),A(6,"div",4)(7,"div",5),Bt(8,nF,9,2,"div",6),x()()()()),r&2&&(re(8),Ue("ngForOf",i.reviews))},dependencies:[be,Ti],styles:[".review-background[_ngcontent-%COMP%]{background:url(/assets/images/double-quotes.png) no-repeat}.animate-scroll[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scroll 40s linear infinite}@keyframes _ngcontent-%COMP%_scroll{0%{transform:translate(0)}to{transform:translate(-100%)}}"]})}}return t})();var l0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-about"]],decls:16,vars:0,consts:[["videoElement",""],["id","about",1,"py-20","bg-chocolate-100"],[1,"container"],[1,"grid","md:grid-cols-2","gap-12","items-end"],[1,"about-image","relative","h-full"],[1,"h-full"],["playsinline","true","loop","loop","muted","muted","preload","metadata","src",P_`https://www.youtube.com/embed/GMVkTRB4B08`,1,"rounded-xl","h-full"],[1,"about-content"],[1,"text-4xl","font-bold","text-chocolate-900","mb-6"],[1,"text-lg","text-chocolate-700","leading-relaxed","mb-6"],[1,"text-lg","text-chocolate-700","leading-relaxed"]],template:function(r,i){r&1&&(A(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),ue(5,"iframe",6,0),x()(),A(7,"div",7)(8,"h2",8),R(9,"Our Story"),x(),A(10,"p",9),R(11," At NutsOnTop, we don\u2019t just make chocolate\u2014we create experiences. Our handcrafted, bold, and fun flavors are designed to excite your taste buds. From Sri Lanka\u2019s first Peanut Butter & Jelly Truffle to our Garbanzo Nougat, we push the boundaries of chocolate. "),x(),A(12,"p",9),R(13," We focus on affordable indulgence, high-quality ingredients, and flavors that stand out. Every bar, truffle, and bite is made with passion to give you a chocolate experience like no other. "),x(),A(14,"p",10),R(15," \u{1F680} Handmade. Bold. Delicious. "),x()()()()())},dependencies:[be],encapsulation:2})}}return t})();var _0=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(q(wr),q(On))};static \u0275dir=at({type:t})}return t})(),rF=(()=>{class t extends _0{static \u0275fac=(()=>{let n;return function(i){return(n||(n=f_(t)))(i||t)}})();static \u0275dir=at({type:t,features:[Ln]})}return t})(),I0=new B("");var iF={provide:I0,useExisting:yi(()=>Vu),multi:!0};function oF(){let t=bi()?bi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var sF=new B(""),Vu=(()=>{class t extends _0{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!oF())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(q(wr),q(On),q(sF,8))};static \u0275dir=at({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[pc([iF]),Ln]})}return t})();function Jn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function w0(t){return t!=null&&typeof t.length=="number"}var E0=new B(""),D0=new B(""),aF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,zr=class{static min(e){return cF(e)}static max(e){return uF(e)}static required(e){return lF(e)}static requiredTrue(e){return dF(e)}static email(e){return hF(e)}static minLength(e){return fF(e)}static maxLength(e){return pF(e)}static pattern(e){return mF(e)}static nullValidator(e){return b0(e)}static compose(e){return x0(e)}static composeAsync(e){return R0(e)}};function cF(t){return e=>{if(Jn(e.value)||Jn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function uF(t){return e=>{if(Jn(e.value)||Jn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function lF(t){return Jn(t.value)?{required:!0}:null}function dF(t){return t.value===!0?null:{required:!0}}function hF(t){return Jn(t.value)||aF.test(t.value)?null:{email:!0}}function fF(t){return e=>Jn(e.value)||!w0(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function pF(t){return e=>w0(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function mF(t){if(!t)return b0;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Jn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function b0(t){return null}function T0(t){return t!=null}function C0(t){return wi(t)?Bl(t):t}function S0(t){let e={};return t.forEach(n=>{e=n!=null?$($({},e),n):e}),Object.keys(e).length===0?null:e}function A0(t,e){return e.map(n=>n(t))}function gF(t){return!t.validate}function N0(t){return t.map(e=>gF(e)?e:n=>e.validate(n))}function x0(t){if(!t)return null;let e=t.filter(T0);return e.length==0?null:function(n){return S0(A0(n,e))}}function M0(t){return t!=null?x0(N0(t)):null}function R0(t){if(!t)return null;let e=t.filter(T0);return e.length==0?null:function(n){let r=A0(n,e).map(C0);return Ul(r).pipe(cr(S0))}}function P0(t){return t!=null?R0(N0(t)):null}function d0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function k0(t){return t._rawValidators}function O0(t){return t._rawAsyncValidators}function Pm(t){return t?Array.isArray(t)?t:[t]:[]}function xu(t,e){return Array.isArray(t)?t.includes(e):t===e}function h0(t,e){let n=Pm(e);return Pm(t).forEach(i=>{xu(n,i)||n.push(i)}),n}function f0(t,e){return Pm(e).filter(n=>!xu(t,n))}var Mu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=M0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=P0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Zi=class extends Mu{name;get formDirective(){return null}get path(){return null}},Ts=class extends Mu{_parent=null;name=null;valueAccessor=null},Ru=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},yF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},k4=he($({},yF),{"[class.ng-submitted]":"isSubmitted"}),F0=(()=>{class t extends Ru{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(q(Ts,2))};static \u0275dir=at({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&jn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ln]})}return t})(),V0=(()=>{class t extends Ru{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(q(Zi,10))};static \u0275dir=at({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&jn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ln]})}return t})();var ws="VALID",Au="INVALID",Yi="PENDING",Es="DISABLED",Zn=class{},Pu=class extends Zn{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ds=class extends Zn{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},bs=class extends Zn{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Ji=class extends Zn{status;source;constructor(e,n){super(),this.status=e,this.source=n}},km=class extends Zn{source;constructor(e){super(),this.source=e}},Om=class extends Zn{source;constructor(e){super(),this.source=e}};function Lm(t){return(Lu(t)?t.validators:t)||null}function vF(t){return Array.isArray(t)?M0(t):t||null}function jm(t,e){return(Lu(e)?e.asyncValidators:t)||null}function _F(t){return Array.isArray(t)?P0(t):t||null}function Lu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function L0(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[n])throw new H(1001,"")}function j0(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new H(1002,"")})}var Xi=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Pt(this.statusReactive)}set status(e){Pt(()=>this.statusReactive.set(e))}_status=qo(()=>this.statusReactive());statusReactive=Er(void 0);get valid(){return this.status===ws}get invalid(){return this.status===Au}get pending(){return this.status==Yi}get disabled(){return this.status===Es}get enabled(){return this.status!==Es}errors;get pristine(){return Pt(this.pristineReactive)}set pristine(e){Pt(()=>this.pristineReactive.set(e))}_pristine=qo(()=>this.pristineReactive());pristineReactive=Er(!0);get dirty(){return!this.pristine}get touched(){return Pt(this.touchedReactive)}set touched(e){Pt(()=>this.touchedReactive.set(e))}_touched=qo(()=>this.touchedReactive());touchedReactive=Er(!1);get untouched(){return!this.touched}_events=new tn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(h0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(h0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(f0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(f0(e,this._rawAsyncValidators))}hasValidator(e){return xu(this._rawValidators,e)}hasAsyncValidator(e){return xu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he($({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new bs(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new bs(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he($({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ds(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ds(!0,r))}markAsPending(e={}){this.status=Yi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ji(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he($({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Es,this.errors=null,this._forEachChild(i=>{i.disable(he($({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pu(this.value,r)),this._events.next(new Ji(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he($({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ws,this._forEachChild(r=>{r.enable(he($({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he($({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ws||this.status===Yi)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pu(this.value,n)),this._events.next(new Ji(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he($({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Es:ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Yi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=C0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ji(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?Es:this.errors?Au:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yi)?Yi:this._anyControlsHaveStatus(Au)?Au:ws}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ds(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new bs(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=_F(this._rawAsyncValidators)}},ku=class extends Xi{constructor(e,n,r){super(Lm(n),jm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){j0(this,!0,e),Object.keys(e).forEach(r=>{L0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Fm=class extends ku{};var Bm=new B("CallSetDisabledState",{providedIn:"root",factory:()=>ju}),ju="always";function IF(t,e){return[...e.path,t]}function p0(t,e,n=ju){Um(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),EF(t,e),bF(t,e),DF(t,e),wF(t,e)}function m0(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Fu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ou(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function wF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Um(t,e){let n=k0(t);e.validator!==null?t.setValidators(d0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=O0(t);e.asyncValidator!==null?t.setAsyncValidators(d0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ou(e._rawValidators,i),Ou(e._rawAsyncValidators,i)}function Fu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=k0(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=O0(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Ou(e._rawValidators,r),Ou(e._rawAsyncValidators,r),n}function EF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&B0(t,e)})}function DF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&B0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function B0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function TF(t,e){t==null,Um(t,e)}function CF(t,e){return Fu(t,e)}function SF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function AF(t){return Object.getPrototypeOf(t.constructor)===rF}function NF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function xF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Vu?n=o:AF(o)?r=o:i=o}),i||r||n||null}function MF(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function g0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function y0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Nu=class extends Xi{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(Lm(n),jm(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(y0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){g0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){g0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){y0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var RF=t=>t instanceof Nu;var U0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=at({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var $0=new B("");var PF={provide:Zi,useExisting:yi(()=>$m)},$m=(()=>{class t extends Zi{callSetDisabledState;get submitted(){return Pt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=qo(()=>this._submittedReactive());_submittedReactive=Er(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new et;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return p0(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){m0(n.control||null,n,!1),MF(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),NF(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new km(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Om(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(m0(r||null,n),RF(i)&&(p0(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);TF(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&CF(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Um(this.form,this),this._oldForm&&Fu(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||t)(q(E0,10),q(D0,10),q(Bm,8))};static \u0275dir=at({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[pc([PF]),Ln,ec]})}return t})();var kF={provide:Ts,useExisting:yi(()=>Hm)},Hm=(()=>{class t extends Ts{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new et;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=xF(this,o)}ngOnChanges(n){this._added||this._setUpControl(),SF(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return IF(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(q(Zi,13),q(E0,10),q(D0,10),q(I0,10),q($0,8))};static \u0275dir=at({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[pc([kF]),Ln,ec]})}return t})();var H0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Dr({type:t});static \u0275inj=_r({})}return t})(),Vm=class extends Xi{constructor(e,n,r){super(Lm(n),jm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){j0(this,!1,e),e.forEach((r,i)=>{L0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function v0(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var q0=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return v0(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ku(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Fm(i,r)}control(n,r,i){let o={};return this.useNonNullable?(v0(r)?o=r:(o.validators=r,o.asyncValidators=i),new Nu(n,he($({},o),{nonNullable:!0}))):new Nu(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Vm(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Nu)return n;if(n instanceof Xi)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var z0=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Bm,useValue:n.callSetDisabledState??ju}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Dr({type:t});static \u0275inj=_r({imports:[H0]})}return t})(),G0=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:$0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Bm,useValue:n.callSetDisabledState??ju}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Dr({type:t});static \u0275inj=_r({imports:[H0]})}return t})();var Ct=class{constructor(e=0,n="Network Error"){this.status=e,this.text=n}};var W0=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}};var Se={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:W0()};var eo=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{};var K0=(t,e="https://api.emailjs.com")=>{if(!t)return;let n=eo(t);Se.publicKey=n.publicKey,Se.blockHeadless=n.blockHeadless,Se.storageProvider=n.storageProvider,Se.blockList=n.blockList,Se.limitRate=n.limitRate,Se.origin=n.origin||e};var Bu=(r,i,...o)=>T(void 0,[r,i,...o],function*(t,e,n={}){let s=yield fetch(Se.origin+t,{method:"POST",headers:n,body:e}),c=yield s.text(),u=new Ct(s.status,c);if(s.ok)return u;throw u});var Uu=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"};var Q0=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"};var $u=t=>t.webdriver||!t.languages||t.languages.length===0;var Hu=()=>new Ct(451,"Unavailable For Headless Browser");var Y0=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"};var FF=t=>!t.list?.length||!t.watchVariable,VF=(t,e)=>t instanceof FormData?t.get(e):t[e],qu=(t,e)=>{if(FF(t))return!1;Y0(t.list,t.watchVariable);let n=VF(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)};var zu=()=>new Ct(403,"Forbidden");var J0=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"};var LF=(t,e,n)=>T(void 0,null,function*(){let r=Number((yield n.get(t))||0);return e-Date.now()+r}),Gu=(t,e,n)=>T(void 0,null,function*(){if(!e.throttle||!n)return!1;J0(e.throttle,e.id);let r=e.id||t;return(yield LF(r,e.throttle,n))>0?!0:(yield n.set(r,Date.now().toString()),!1)});var Wu=()=>new Ct(429,"Too Many Requests");var Z0=(t,e,n,r)=>T(void 0,null,function*(){let i=eo(r),o=i.publicKey||Se.publicKey,s=i.blockHeadless||Se.blockHeadless,c=i.storageProvider||Se.storageProvider,u=$($({},Se.blockList),i.blockList),d=$($({},Se.limitRate),i.limitRate);return s&&$u(navigator)?Promise.reject(Hu()):(Uu(o,t,e),Q0(n),n&&qu(u,n)?Promise.reject(zu()):(yield Gu(location.pathname,d,c))?Promise.reject(Wu()):Bu("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))});var X0=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"};var jF=t=>typeof t=="string"?document.querySelector(t):t,eb=(t,e,n,r)=>T(void 0,null,function*(){let i=eo(r),o=i.publicKey||Se.publicKey,s=i.blockHeadless||Se.blockHeadless,c=Se.storageProvider||i.storageProvider,u=$($({},Se.blockList),i.blockList),d=$($({},Se.limitRate),i.limitRate);if(s&&$u(navigator))return Promise.reject(Hu());let f=jF(n);Uu(o,t,e),X0(f);let m=new FormData(f);return qu(u,m)?Promise.reject(zu()):(yield Gu(location.pathname,d,c))?Promise.reject(Wu()):(m.append("lib_version","4.4.1"),m.append("service_id",t),m.append("template_id",e),m.append("user_id",o),Bu("/api/v1.0/email/send-form",m))});var tb={init:K0,send:Z0,sendForm:eb,EmailJSResponseStatus:Ct};var nb=(()=>{class t{constructor(n){this.fb=n,this.isSubmitting=!1,this.contactForm=this.fb.group({name:["",zr.required],email:["",[zr.required,zr.email]],message:["",zr.required]})}onSubmit(){return T(this,null,function*(){if(this.contactForm.valid){this.isSubmitting=!0;try{yield tb.send("service_gt5zaur","template_91r34yw",{from_name:this.contactForm.value.name,from_email:this.contactForm.value.email,message:this.contactForm.value.message},"EBd1beACoFjqT4f04"),this.contactForm.reset(),alert("Message sent successfully!")}catch(n){console.error("Error sending message:",n),alert("Failed to send message. Please try again.")}finally{this.isSubmitting=!1}}})}openWhatsapp(){window.open("https://wa.me/+94740946220","_blank")}static{this.\u0275fac=function(r){return new(r||t)(q(q0))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-footer"]],decls:68,vars:3,consts:[[1,"bg-chocolate-900","text-white","py-12"],[1,"container","mx-auto","px-4"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-8"],[1,"text-2xl","font-bold","mb-4"],[1,"text-chocolate-200","mb-4"],[1,"space-y-2"],[1,"flex","items-center"],["href","https://maps.app.goo.gl/SAZ7qCieM7TpZUSR6",1,"text-chocolate-200","hover:text-white","transition-colors"],[1,"flex","items-center","cursor-pointer",3,"click"],["href","mailto:hello@nutsontop.com",1,"text-chocolate-200","hover:text-white","transition-colors"],[1,"text-xl","font-semibold","mb-4"],["href","#",1,"text-chocolate-200","hover:text-white","transition-colors"],["href","#products",1,"text-chocolate-200","hover:text-white","transition-colors"],["href","#about",1,"text-chocolate-200","hover:text-white","transition-colors"],["href","#reviews",1,"text-chocolate-200","hover:text-white","transition-colors"],[1,"text-chocolate-200","hover:text-white","transition-colors","space-y-2"],[1,""],["href","https://www.instagram.com/nutsontopchocolates/",1,"hover:underline"],["href","https://www.tiktok.com/@nutsontop",1,"hover:underline"],["href","https://www.facebook.com/nutsontop/",1,"hover:underline"],["href","https://www.youtube.com/channel/UCBVfFkxrHOqKua2ybmKURHw",1,"hover:underline"],[1,"col-span-2"],[3,"ngSubmit","formGroup"],[1,"my-2"],["type","text","formControlName","name","placeholder","Your Name",1,"w-full","px-4","py-2","rounded","bg-chocolate-800","text-white","placeholder-chocolate-400","border","border-chocolate-700","focus:outline-none","focus:border-chocolate-500"],["type","email","formControlName","email","placeholder","Your Email",1,"w-full","px-4","py-2","rounded","bg-chocolate-800","text-white","placeholder-chocolate-400","border","border-chocolate-700","focus:outline-none","focus:border-chocolate-500"],["formControlName","message","placeholder","Your Message","rows","4",1,"w-full","px-4","py-2","rounded","bg-chocolate-800","text-white","placeholder-chocolate-400","border","border-chocolate-700","focus:outline-none","focus:border-chocolate-500"],["type","submit",1,"w-full","bg-chocolate-600","text-white","py-2","rounded","hover:bg-chocolate-700","transition-colors","disabled:opacity-50",3,"disabled"],[1,"mt-8","pt-8","border-t","border-chocolate-700","text-center","text-chocolate-400"],[1,"text-sm"],["href","https://github.com/dan0131","target","_blank"]],template:function(r,i){r&1&&(A(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),R(5,"Nuts On Top"),x(),A(6,"p",4),R(7," Handmade. Bold. Delicious. "),x(),A(8,"div",5)(9,"p",6)(10,"a",7),R(11,"9/5 Station Road, Colombo 04, Sri Lanka"),x()(),A(12,"p",8),le("click",function(){return i.openWhatsapp()}),R(13," +94 74 094 6220 "),x(),A(14,"p",6)(15,"a",9),R(16,"hello@nutsontop.com"),x()()()(),A(17,"div")(18,"h3",10),R(19,"Quick Links"),x(),A(20,"ul",5)(21,"li")(22,"a",11),R(23,"Home"),x()(),A(24,"li")(25,"a",12),R(26,"Products"),x()(),A(27,"li")(28,"a",13),R(29,"About Us"),x()(),A(30,"li")(31,"a",14),R(32,"Reviews"),x()()()(),A(33,"div")(34,"h3",10),R(35,"Follow us"),x(),A(36,"ul",15)(37,"li",16)(38,"a",17),R(39,"Instagram"),x()(),A(40,"li",16)(41,"a",18),R(42,"TikTok"),x()(),A(43,"li",16)(44,"a",19),R(45,"Facebook"),x()(),A(46,"li")(47,"a",20),R(48,"YouTube"),x()()()(),A(49,"div",21)(50,"h3",10),R(51,"Contact Us"),x(),A(52,"form",22),le("ngSubmit",function(){return i.onSubmit()}),A(53,"div",23),ue(54,"input",24),x(),A(55,"div",23),ue(56,"input",25),x(),A(57,"div",23),ue(58,"textarea",26),x(),A(59,"button",27),R(60),x()()()(),A(61,"div",28)(62,"p"),R(63,"\xA9 2025 Nuts On Top. All rights reserved."),x(),A(64,"p",29),R(65,"Crafted by [Dan] | "),A(66,"a",30),R(67,"Github"),x()()()()()),r&2&&(re(52),Ue("formGroup",i.contactForm),re(7),Ue("disabled",!i.contactForm.valid||i.isSubmitting),re(),Ge(" ",i.isSubmitting?"Sending...":"Send Message"," "))},dependencies:[be,z0,U0,Vu,F0,V0,G0,$m,Hm],encapsulation:2})}}return t})();function BF(t,e){if(t&1){let n=hc();A(0,"div",14),ue(1,"img",15),A(2,"div",16)(3,"h3",17),R(4),x(),A(5,"p",18),R(6),x(),A(7,"div",19)(8,"button",20),le("click",function(){let i=Pn(n).$implicit,o=Ut();return kn(o.updateQuantity(i.id,i.quantity-1))}),R(9,"-"),x(),A(10,"span"),R(11),x(),A(12,"button",21),le("click",function(){let i=Pn(n).$implicit,o=Ut();return kn(o.updateQuantity(i.id,i.quantity+1))}),R(13,"+"),x(),A(14,"button",22),le("click",function(){let i=Pn(n).$implicit,o=Ut();return kn(o.removeFromCart(i.id))}),R(15," Remove "),x()()()()}if(t&2){let n=e.$implicit;re(),Ue("src",n.image,Ii)("alt",n.name),re(3),$t(n.name),re(2),Ge("LKR ",n.price,""),re(2),Ue("disabled",n.quantity<=1),re(3),$t(n.quantity)}}var rb=(()=>{class t{constructor(n){this.cartService=n,this.isOpen=DI(!1),this.items=[],this.cartItems$=this.cartService.getCartItems(),this.total$=new ge(r=>{this.cartItems$.subscribe(i=>{this.items=i,r.next(this.cartService.getTotal())})})}ngOnInit(){}toggleCart(){this.isOpen.update(n=>!n)}removeFromCart(n){this.cartService.removeFromCart(n)}updateQuantity(n,r){r>0&&this.cartService.updateQuantity(n,r)}checkout(){let n=`Hey, I want to place an order:

`+this.items.map(o=>`- ${o.name}: ${o.quantity}`).join(`
`)+`

Please confirm the availability. Thanks!`,i=`https://wa.me/94740946220?text=${encodeURIComponent(n)}`;window.open(i,"_blank"),this.cartService.clearCart(),console.log("Proceeding to checkout")}static{this.\u0275fac=function(r){return new(r||t)(q(Jt))}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-cart"]],inputs:{isOpen:[1,"isOpen"]},outputs:{isOpen:"isOpenChange"},decls:26,vars:10,consts:[[1,"fixed","right-0","top-0","h-screen","w-96","bg-white","shadow-lg","transform","transition-transform","duration-300","z-50"],[1,"p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-chocolate-900"],[1,"text-chocolate-600","hover:text-chocolate-900",3,"click"],[1,"text-2xl"],[1,"space-y-4"],["class","flex items-center space-x-4 p-4 bg-chocolate-50 rounded-lg",4,"ngFor","ngForOf"],[1,"mt-6","border-t","pt-4"],[1,"flex","justify-between","text-lg","font-semibold","mb-4"],[1,"my-3"],[1,"text-sm","italic"],[1,"text-center","bg-chocolate-100","rounded-2xl","py-5"],[1,"px-5","bg-chocolate-600","text-white","py-3","rounded-lg","hover:bg-chocolate-700","transition-colors","mt-3",3,"click"],[1,"flex","items-center","space-x-4","p-4","bg-chocolate-50","rounded-lg"],["loading","lazy",1,"w-16","h-16","object-cover","rounded",3,"src","alt"],[1,"flex-1"],[1,"font-semibold","text-chocolate-900","mx-2"],[1,"text-chocolate-600","mx-2"],[1,"flex","items-center","mt-2"],[1,"px-2","py-1","bg-chocolate-200","rounded","mx-2",3,"click","disabled"],[1,"px-2","py-1","bg-chocolate-200","rounded","mx-2",3,"click"],[1,"ml-4","text-red-500","hover:text-red-700","mx-2",3,"click"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),R(4,"Your Cart"),x(),A(5,"button",4),le("click",function(){return i.toggleCart()}),A(6,"span",5),R(7,"\xD7"),x()()(),A(8,"div",6),Bt(9,BF,16,6,"div",7),Ei(10,"async"),x(),A(11,"div",8)(12,"div",9)(13,"span"),R(14,"Total:"),x(),A(15,"span"),R(16),Ei(17,"async"),x()(),A(18,"div",10)(19,"p",11),R(20,"\u{1F4CC} Delivery fee will be added to the total amount."),x()(),A(21,"div",12)(22,"p"),R(23,"Please send a DM to +94740946220 "),x(),A(24,"button",13),le("click",function(){return i.checkout()}),R(25," Checkout "),x()()()()()),r&2&&(jn("translate-x-0",i.isOpen())("translate-x-full",!i.isOpen()),re(9),Ue("ngForOf",Di(10,6,i.cartItems$)),re(7),Ge("LKR ",Di(17,8,i.total$),""))},dependencies:[be,Ti,vc],encapsulation:2})}}return t})();var ib=(()=>{class t{constructor(){this.productService=z(Su),this.featuredProduct=this.productService.products.find(n=>n.isFeatured),this.cartService=z(Jt)}addToCart(){console.log("Adding to cart:",this.featuredProduct),this.featuredProduct&&this.cartService.addToCart({id:this.featuredProduct.id,name:this.featuredProduct.name,price:this.featuredProduct.price,image:this.featuredProduct.image,quantity:1})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-featuring-item"]],decls:27,vars:0,consts:[[1,"py-20","bg-chocolate-100","mx-auto"],[1,"text-center","mb-16"],[1,"text-4xl","font-bold","text-chocolate-900","text-center","mb-12"],[1,"text-xl","text-chocolate-700","leading-relaxed","max-w-2xl","mx-auto","justify-center"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-16","items-center","text-chocolate-900"],[1,"px-20"],[1,"text-4xl","font-bold","text-chocolate-900","mb-8"],[1,"text-lg","leading-relaxed","mb-6"],[1,"flex","justify-center","items-center","mt-4"],["type","button",1,"bg-chocolate-900","self-center","font-medium","rounded-lg","text-sm","px-4","py-2","text-white","cursor-pointer",3,"click"],["src","assets/images/dodol.png","alt","Truffle Box","loading","lazy",1,"w-full","h-full","object-cover"]],template:function(r,i){r&1&&(A(0,"section",0)(1,"div",1)(2,"h2",2),R(3,"Limited Edition Indulgence"),x(),A(4,"p",3),R(5," A Rare Treat - Here for a Limited Time!. "),x()(),A(6,"div",4)(7,"div",5)(8,"h2",6),R(9,"The Dodol Muscateer"),x(),A(10,"p",7),R(11," The Dodol Muscateer \u2013 A Legendary Ramadan Treat! \u{1F319}\u2728 "),x(),A(12,"p",7),R(13," Introducing The Dodol Muscateer, a chocolate bar crafted to honor the rich traditions of Ramadan! \u{1F36B}\u{1F4AB} "),x(),A(14,"p",7),R(15," This limited-edition creation is a bold fusion of flavors that bring together two legendary Ramadan sweet treats\u2014chewy Dodol and zesty Muscat\u2014wrapped in a luscious blend of dark chocolate and white chocolate. \u{1F90E}\u{1F90D} "),x(),A(16,"p",7),R(17," \u{1F330} Crunchy almonds add the perfect bite, while tangy raspberry and lemon Muscat pieces elevate the taste to a whole new level of indulgence! \u{1F34B}\u{1F347} "),x(),A(18,"p",7),R(19," Each bite is a journey through nostalgia and luxury, designed to make your Ramadan moments even sweeter. \u2728 "),x(),A(20,"p",7),R(21," Only available for a short time! Don\u2019t miss out\u2014grab yours before\xA0it's\xA0gone!\xA0\u23F3\u{1F525} "),x(),A(22,"div",8)(23,"button",9),le("click",function(){return i.addToCart()}),R(24,"Add to Cart LKR 1390.00 "),x()()(),A(25,"div"),ue(26,"img",10),x()()())},encapsulation:2})}}return t})();var ob=(()=>{class t{constructor(n,r){this.el=n,this.renderer=r}ngAfterViewInit(){let n=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&(this.loadTikTokScript(),n.disconnect())})});n.observe(this.el.nativeElement)}loadTikTokScript(){if(!document.querySelector('script[src="https://www.tiktok.com/embed.js"]')){console.log("loading....");let n=this.renderer.createElement("script");n.src="https://www.tiktok.com/embed.js",n.async=!0,this.renderer.appendChild(document.body,n)}}static{this.\u0275fac=function(r){return new(r||t)(q(On),q(wr))}}static{this.\u0275dir=at({type:t,selectors:[["","appLazyLoadTikTok",""]]})}}return t})();var sb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-social"]],decls:12,vars:0,consts:[["id","reviews",1,"py-20","bg-white"],[1,"container","text-center"],[1,"text-4xl","font-bold","text-chocolate-900","text-center","mb-12"],[1,"text-xl","text-chocolate-700","leading-relaxed","max-w-2xl","mx-auto","justify-center","mb-6"],[1,"overflow-hidden","py-2"],[1,"flex"],["cite","https://www.tiktok.com/@nutsontop","data-unique-id","nutsontop","data-embed-from","embed_page","data-embed-type","creator","appLazyLoadTikTok","",1,"tiktok-embed",2,"max-width","780px","min-width","288px"],["target","_blank","href","https://www.tiktok.com/@nutsontop?refer=creator_embed"]],template:function(r,i){r&1&&(A(0,"section",0)(1,"div",1)(2,"h2",2),R(3,"Stay Connected"),x(),A(4,"p",3),R(5," Follow us on social media for the latest updates, news, and behind the scenes content. "),x(),A(6,"div",4)(7,"div",5)(8,"blockquote",6)(9,"section")(10,"a",7),R(11,"nutsontop"),x()()()()()()())},dependencies:[ob],encapsulation:2})}}return t})();var ab=(()=>{class t{constructor(){this.title="NutsonTop",this.isOpen=Er(!1),console.log("%cBuilt by dan | https://github.com/dan0131","color: #ff5733; font-size: 16px;"),console.log("If you see this, you're a dev too! Let's connect \u{1F680}")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ee({type:t,selectors:[["app-root"]],decls:10,vars:1,consts:[[1,"min-h-screen","bg-white"],[3,"cartToggle"],[3,"isOpenChange","isOpen"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"app-navbar",1),le("cartToggle",function(s){return i.isOpen.set(s)}),x(),ue(2,"app-hero")(3,"app-featuring-item")(4,"app-products")(5,"app-reviews")(6,"app-social")(7,"app-about")(8,"app-footer"),A(9,"app-cart",2),Mh("isOpenChange",function(s){return FI(i.isOpen,s)||(i.isOpen=s),s}),x()()),r&2&&(re(9),xh("isOpen",i.isOpen))},dependencies:[be,r0,i0,c0,u0,l0,nb,rb,ib,sb],encapsulation:2})}}return t})();var UF={apiKey:"AIzaSyB9tSGr6Jz8hu3yWPbF5OM6x40z0miAde8",authDomain:"nutsontop-website.firebaseapp.com",projectId:"nutsontop-website",storageBucket:"nutsontop-website.firebasestorage.app",messagingSenderId:"522209077956",appId:"1:522209077956:web:e62a8b9668d3cef64fb791",measurementId:"G-4796CNH5VR"};rw(ab,{providers:[xw(()=>Mw(UF)),n0(()=>e0()),mD(()=>vD())]}).catch(t=>console.error(t));
