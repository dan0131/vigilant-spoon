var w0=Object.defineProperty,D0=Object.defineProperties;var b0=Object.getOwnPropertyDescriptors;var ug=Object.getOwnPropertySymbols;var T0=Object.prototype.hasOwnProperty,C0=Object.prototype.propertyIsEnumerable;var lg=(t,e,n)=>e in t?w0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$=(t,e)=>{for(var n in e||={})T0.call(e,n)&&lg(t,n,e[n]);if(ug)for(var n of ug(e))C0.call(e,n)&&lg(t,n,e[n]);return t},he=(t,e)=>D0(t,b0(e));var S=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(h){i(h)}},s=u=>{try{c(n.throw(u))}catch(h){i(h)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function il(t,e){return Object.is(t,e)}var Re=null,Ms=!1,ol=1,ot=Symbol("SIGNAL");function ee(t){let e=Re;return Re=t,e}function dg(){return Re}var ao={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ps(t){if(Ms)throw new Error("");if(Re===null)return;Re.consumerOnSignalRead(t);let e=Re.nextProducerIndex++;if(Fs(Re),e<Re.producerNode.length&&Re.producerNode[e]!==t&&so(Re)){let n=Re.producerNode[e];Os(n,Re.producerIndexOfThis[e])}Re.producerNode[e]!==t&&(Re.producerNode[e]=t,Re.producerIndexOfThis[e]=so(Re)?pg(t,Re,e):0),Re.producerLastReadVersion[e]=t.version}function S0(){ol++}function sl(t){if(!(so(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ol)){if(!t.producerMustRecompute(t)&&!cl(t)){rl(t);return}t.producerRecomputeValue(t),rl(t)}}function hg(t){if(t.liveConsumerNode===void 0)return;let e=Ms;Ms=!0;try{for(let n of t.liveConsumerNode)n.dirty||A0(n)}finally{Ms=e}}function fg(){return Re?.consumerAllowSignalWrites!==!1}function A0(t){t.dirty=!0,hg(t),t.consumerMarkedDirty?.(t)}function rl(t){t.dirty=!1,t.lastCleanEpoch=ol}function ks(t){return t&&(t.nextProducerIndex=0),ee(t)}function al(t,e){if(ee(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(so(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Os(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cl(t){Fs(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(sl(n),r!==n.version))return!0}return!1}function ul(t){if(Fs(t),so(t))for(let e=0;e<t.producerNode.length;e++)Os(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pg(t,e,n){if(mg(t),t.liveConsumerNode.length===0&&gg(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=pg(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Os(t,e){if(mg(t),t.liveConsumerNode.length===1&&gg(t))for(let r=0;r<t.producerNode.length;r++)Os(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Fs(i),i.producerIndexOfThis[r]=e}}function so(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function mg(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function gg(t){return t.producerNode!==void 0}function yg(t){let e=Object.create(N0);e.computation=t;let n=()=>{if(sl(e),Ps(e),e.value===Rs)throw e.error;return e.value};return n[ot]=e,n}var tl=Symbol("UNSET"),nl=Symbol("COMPUTING"),Rs=Symbol("ERRORED"),N0=he($({},ao),{value:tl,dirty:!0,error:null,equal:il,producerMustRecompute(t){return t.value===tl||t.value===nl},producerRecomputeValue(t){if(t.value===nl)throw new Error("Detected cycle in computations.");let e=t.value;t.value=nl;let n=ks(t),r;try{r=t.computation()}catch(i){r=Rs,t.error=i}finally{al(t,n)}if(e!==tl&&e!==Rs&&r!==Rs&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function x0(){throw new Error}var vg=x0;function _g(){vg()}function Ig(t){vg=t}var M0=null;function Eg(t){let e=Object.create(ll);e.value=t;let n=()=>(Ps(e),e.value);return n[ot]=e,n}function co(t,e){fg()||_g(),t.equal(t.value,e)||(t.value=e,R0(t))}function wg(t,e){fg()||_g(),co(t,e(t.value))}var ll=he($({},ao),{equal:il,value:void 0});function R0(t){t.version++,S0(),hg(t),M0?.()}function se(t){return typeof t=="function"}function Vs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ls=Vs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Kn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var je=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(o){e=o instanceof Ls?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Dg(o)}catch(s){e=e??[],s instanceof Ls?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ls(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Dg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Kn(n,e)}remove(e){let{_finalizers:n}=this;n&&Kn(n,e),e instanceof t&&e._removeParent(this)}};je.EMPTY=(()=>{let t=new je;return t.closed=!0,t})();var dl=je.EMPTY;function js(t){return t instanceof je||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function Dg(t){se(t)?t():t.unsubscribe()}var wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var kr={setTimeout(t,e,...n){let{delegate:r}=kr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=kr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bs(t){kr.setTimeout(()=>{let{onUnhandledError:e}=wt;if(e)e(t);else throw t})}function hl(){}var bg=fl("C",void 0,void 0);function Tg(t){return fl("E",void 0,t)}function Cg(t){return fl("N",t,void 0)}function fl(t,e,n){return{kind:t,value:e,error:n}}var Qn=null;function Or(t){if(wt.useDeprecatedSynchronousErrorHandling){let e=!Qn;if(e&&(Qn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Qn;if(Qn=null,n)throw r}}else t()}function Sg(t){wt.useDeprecatedSynchronousErrorHandling&&Qn&&(Qn.errorThrown=!0,Qn.error=t)}var Yn=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,js(e)&&e.add(this)):this.destination=O0}static create(e,n,r){return new Fr(e,n,r)}next(e){this.isStopped?ml(Cg(e),this):this._next(e)}error(e){this.isStopped?ml(Tg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ml(bg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},P0=Function.prototype.bind;function pl(t,e){return P0.call(t,e)}var gl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Us(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Us(r)}else Us(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Us(n)}}},Fr=class extends Yn{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&wt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pl(e.next,o),error:e.error&&pl(e.error,o),complete:e.complete&&pl(e.complete,o)}):i=e}this.destination=new gl(i)}};function Us(t){wt.useDeprecatedSynchronousErrorHandling?Sg(t):Bs(t)}function k0(t){throw t}function ml(t,e){let{onStoppedNotification:n}=wt;n&&kr.setTimeout(()=>n(t,e))}var O0={closed:!0,next:hl,error:k0,complete:hl};var Vr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $s(t){return t}function Ag(t){return t.length===0?$s:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=V0(n)?n:new Fr(n,r,i);return Or(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ng(r),new r((i,o)=>{let s=new Fr({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vr](){return this}pipe(...n){return Ag(n)(this)}toPromise(n){return n=Ng(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Ng(t){var e;return(e=t??wt.Promise)!==null&&e!==void 0?e:Promise}function F0(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function V0(t){return t&&t instanceof Yn||F0(t)&&js(t)}function L0(t){return se(t?.lift)}function fn(t){return e=>{if(L0(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pn(t,e,n,r,i){return new yl(t,e,n,r,i)}var yl=class extends Yn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var xg=Vs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qt=(()=>{class t extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Hs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xg}next(n){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?dl:(this.currentObservers=null,o.push(n),new je(()=>{this.currentObservers=null,Kn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ge;return n.source=this,n}}return t.create=(e,n)=>new Hs(e,n),t})(),Hs=class extends Qt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:dl}};var Jn=class extends Qt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vl={now(){return(vl.delegate||Date).now()},delegate:void 0};var qs=class extends je{constructor(e,n){super()}schedule(e,n=0){return this}};var uo={setInterval(t,e,...n){let{delegate:r}=uo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=uo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Lr=class extends qs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return uo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&uo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Kn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var jr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};jr.now=vl.now;var Br=class extends jr{constructor(e,n=jr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var _l=new Br(Lr);var Gs=class extends Lr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var zs=class extends Br{};var Il=new zs(Gs);function j0(t){return t[t.length-1]}function Mg(t){return se(j0(t))?t.pop():void 0}function El(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Pg(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{h(r.next(f))}catch(m){s(m)}}function u(f){try{h(r.throw(f))}catch(m){s(m)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(t,e||[])).next())})}function Rg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zn(t){return this instanceof Zn?(this.v=t,this):new Zn(t)}function kg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(N){return Promise.resolve(N).then(b,m)}}function c(b,N){r[b]&&(i[b]=function(F){return new Promise(function(O,B){o.push([b,F,O,B])>1||u(b,F)})},N&&(i[b]=N(i[b])))}function u(b,N){try{h(r[b](N))}catch(F){D(o[0][3],F)}}function h(b){b.value instanceof Zn?Promise.resolve(b.value.v).then(f,m):D(o[0][2],b)}function f(b){u("next",b)}function m(b){u("throw",b)}function D(b,N){b(N),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Og(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Rg=="function"?Rg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(h){o({value:h,done:c})},s)}}var Ws=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ks(t){return se(t?.then)}function Qs(t){return se(t[Vr])}function Ys(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function Js(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function B0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zs=B0();function Xs(t){return se(t?.[Zs])}function ea(t){return kg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Zn(n.read());if(i)return yield Zn(void 0);yield yield Zn(r)}}finally{n.releaseLock()}})}function ta(t){return se(t?.getReader)}function mn(t){if(t instanceof ge)return t;if(t!=null){if(Qs(t))return U0(t);if(Ws(t))return $0(t);if(Ks(t))return H0(t);if(Ys(t))return Fg(t);if(Xs(t))return q0(t);if(ta(t))return G0(t)}throw Js(t)}function U0(t){return new ge(e=>{let n=t[Vr]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $0(t){return new ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function H0(t){return new ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Bs)})}function q0(t){return new ge(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Fg(t){return new ge(e=>{z0(t,e).catch(n=>e.error(n))})}function G0(t){return Fg(ea(t))}function z0(t,e){var n,r,i,o;return Pg(this,void 0,void 0,function*(){try{for(n=Og(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function xt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function gn(t,e=0){return fn((n,r)=>{n.subscribe(pn(r,i=>xt(r,t,()=>r.next(i),e),()=>xt(r,t,()=>r.complete(),e),i=>xt(r,t,()=>r.error(i),e)))})}function yn(t,e=0){return fn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Vg(t,e){return mn(t).pipe(yn(e),gn(e))}function Lg(t,e){return mn(t).pipe(yn(e),gn(e))}function jg(t,e){return new ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Bg(t,e){return new ge(n=>{let r;return xt(n,e,()=>{r=t[Zs](),xt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function na(t,e){if(!t)throw new Error("Iterable cannot be null");return new ge(n=>{xt(n,e,()=>{let r=t[Symbol.asyncIterator]();xt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ug(t,e){return na(ea(t),e)}function $g(t,e){if(t!=null){if(Qs(t))return Vg(t,e);if(Ws(t))return jg(t,e);if(Ks(t))return Lg(t,e);if(Ys(t))return na(t,e);if(Xs(t))return Bg(t,e);if(ta(t))return Ug(t,e)}throw Js(t)}function wl(t,e){return e?$g(t,e):mn(t)}function Xn(t,e){return fn((n,r)=>{let i=0;n.subscribe(pn(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:W0}=Array;function K0(t,e){return W0(e)?t(...e):t(e)}function Hg(t){return Xn(e=>K0(t,e))}var{isArray:Q0}=Array,{getPrototypeOf:Y0,prototype:J0,keys:Z0}=Object;function qg(t){if(t.length===1){let e=t[0];if(Q0(e))return{args:e,keys:null};if(X0(e)){let n=Z0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function X0(t){return t&&typeof t=="object"&&Y0(t)===J0}function Gg(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Dl(...t){let e=Mg(t),{args:n,keys:r}=qg(t),i=new ge(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,h=s;for(let f=0;f<s;f++){let m=!1;mn(n[f]).subscribe(pn(o,D=>{m||(m=!0,h--),c[f]=D},()=>u--,void 0,()=>{(!u||!m)&&(h||o.next(r?Gg(r,c):c),o.complete())}))}});return e?i.pipe(Hg(e)):i}function bl(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?fn((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(pn(o,u=>{var h;(h=r.next)===null||h===void 0||h.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var h;c=!1,(h=r.error)===null||h===void 0||h.call(r,u),o.error(u)},()=>{var u,h;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):$s}var xy="https://g.co/ng/security#xss",U=class extends Error{code;constructor(e,n){super(Ad(e,n)),this.code=e}};function Ad(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var My=Symbol("InputSignalNode#UNSET"),eb=he($({},ll),{transformFn:void 0,applyValueToInputSignal(t,e){co(t,e)}});function To(t){return{toString:t}.toString()}var ra="__parameters__";function tb(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Ry(t,e,n){return To(()=>{let r=tb(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,h,f){let m=u.hasOwnProperty(ra)?u[ra]:Object.defineProperty(u,ra,{value:[]})[ra];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Vl=globalThis;function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function nb(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function st(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(st).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function zg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var rb=_e({__forward_ref__:_e});function ti(t){return t.__forward_ref__=ti,t.toString=function(){return st(this())},t}function Ye(t){return Py(t)?t():t}function Py(t){return typeof t=="function"&&t.hasOwnProperty(rb)&&t.__forward_ref__===ti}function ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nd(t){return Wg(t,ky)||Wg(t,Oy)}function Wg(t,e){return t.hasOwnProperty(e)?t[e]:null}function ib(t){let e=t&&(t[ky]||t[Oy]);return e||null}function Kg(t){return t&&(t.hasOwnProperty(Qg)||t.hasOwnProperty(ob))?t[Qg]:null}var ky=_e({\u0275prov:_e}),Qg=_e({\u0275inj:_e}),Oy=_e({ngInjectableDef:_e}),ob=_e({ngInjectorDef:_e}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Fy(t){return t&&!!t.\u0275providers}var sb=_e({\u0275cmp:_e}),ab=_e({\u0275dir:_e}),cb=_e({\u0275pipe:_e});var ha=_e({\u0275fac:_e}),po=_e({__NG_ELEMENT_ID__:_e}),Yg=_e({__NG_ENV_ID__:_e});function xd(t){return typeof t=="string"?t:t==null?"":String(t)}function ub(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xd(t)}function lb(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,t)}function Md(t,e){throw new U(-201,!1)}var Y=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Y||{}),Ll;function Vy(){return Ll}function tt(t){let e=Ll;return Ll=t,e}function Ly(t,e,n){let r=Nd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Y.Optional)return null;if(e!==void 0)return e;Md(t,"Injector")}var db={},mo=db,jl="__NG_DI_FLAG__",fa="ngTempTokenPath",hb="ngTokenPath",fb=/\n/gm,pb="\u0275",Jg="__source",qr;function mb(){return qr}function vn(t){let e=qr;return qr=t,e}function gb(t,e=Y.Default){if(qr===void 0)throw new U(-203,!1);return qr===null?Ly(t,void 0,e):qr.get(t,e&Y.Optional?null:void 0,e)}function te(t,e=Y.Default){return(Vy()||gb)(Ye(t),e)}function q(t,e=Y.Default){return te(t,Va(e))}function Va(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bl(t){let e=[];for(let n=0;n<t.length;n++){let r=Ye(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=Y.Default;for(let s=0;s<r.length;s++){let c=r[s],u=yb(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(te(i,o))}else e.push(te(r))}return e}function jy(t,e){return t[jl]=e,t.prototype[jl]=e,t}function yb(t){return t[jl]}function vb(t,e,n,r){let i=t[fa];throw e[Jg]&&i.unshift(e[Jg]),t.message=_b(`
`+t.message,i,n,r),t[hb]=i,t[fa]=null,t}function _b(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==pb?t.slice(2):t;let i=st(e);if(Array.isArray(e))i=e.map(st).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):st(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fb,`
  `)}`}var Ft=jy(Ry("Optional"),8);var Ib=jy(Ry("SkipSelf"),4);function tr(t,e){let n=t.hasOwnProperty(ha);return n?t[ha]:null}function Rd(t,e){t.forEach(n=>Array.isArray(n)?Rd(n,e):e(n))}function By(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Eb(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function wb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Db(t,e,n){let r=Co(t,e);return r>=0?t[r|1]=n:(r=~r,wb(t,r,e,n)),r}function Tl(t,e){let n=Co(t,e);if(n>=0)return t[n|1]}function Co(t,e){return bb(t,e,1)}function bb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var zr={},ht=[],go=new H(""),Uy=new H("",-1),$y=new H(""),ma=class{get(e,n=mo){if(n===mo){let r=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw r.name="NullInjectorError",r}return n}};function nr(t){return t[sb]||null}function Hy(t){return t[ab]||null}function qy(t){return t[cb]||null}function Tb(t){let e=nr(t)||Hy(t)||qy(t);return e!==null&&e.standalone}function So(t){return{\u0275providers:t}}function Cb(...t){return{\u0275providers:Gy(!0,t),\u0275fromNgModule:!0}}function Gy(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Rd(e,s=>{let c=s;Ul(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&zy(i,o),n}function zy(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Pd(i,o=>{e(o,r)})}}function Ul(t,e,n,r){if(t=Ye(t),!t)return!1;let i=null,o=Kg(t),s=!o&&nr(t);if(!o&&!s){let u=t.ngModule;if(o=Kg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let h of u)Ul(h,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let h;try{Rd(o.imports,f=>{Ul(f,e,n,r)&&(h||=[],h.push(f))})}finally{}h!==void 0&&zy(h,e)}if(!c){let h=tr(i)||(()=>new i);e({provide:i,useFactory:h,deps:ht},i),e({provide:$y,useValue:i,multi:!0},i),e({provide:go,useValue:()=>te(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let h=t;Pd(u,f=>{e(f,h)})}}else return!1;return i!==t&&t.providers!==void 0}function Pd(t,e){for(let n of t)Fy(n)&&(n=n.\u0275providers),Array.isArray(n)?Pd(n,e):e(n)}var Sb=_e({provide:String,useValue:_e});function Wy(t){return t!==null&&typeof t=="object"&&Sb in t}function Ab(t){return!!(t&&t.useExisting)}function Nb(t){return!!(t&&t.useFactory)}function Wr(t){return typeof t=="function"}function xb(t){return!!t.useClass}var La=new H(""),aa={},Mb={},Cl;function ja(){return Cl===void 0&&(Cl=new ma),Cl}var Pt=class{},yo=class extends Pt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Hl(e,s=>this.processProvider(s)),this.records.set(Uy,Ur(void 0,this)),i.has("environment")&&this.records.set(Pt,Ur(void 0,this));let o=this.records.get(La);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($y,ht,Y.Self))}destroy(){ho(this),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return ho(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ho(this);let n=vn(this),r=tt(void 0),i;try{return e()}finally{vn(n),tt(r)}}get(e,n=mo,r=Y.Default){if(ho(this),e.hasOwnProperty(Yg))return e[Yg](this);r=Va(r);let i,o=vn(this),s=tt(void 0);try{if(!(r&Y.SkipSelf)){let u=this.records.get(e);if(u===void 0){let h=Fb(e)&&Nd(e);h&&this.injectableDefInScope(h)?u=Ur($l(e),aa):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&Y.Self?ja():this.parent;return n=r&Y.Optional&&n===mo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[fa]=c[fa]||[]).unshift(st(e)),o)throw c;return vb(c,e,"R3InjectorError",this.source)}else throw c}finally{tt(s),vn(o)}}resolveInjectorInitializers(){let e=ee(null),n=vn(this),r=tt(void 0),i;try{let o=this.get(go,ht,Y.Self);for(let s of o)s()}finally{vn(n),tt(r),ee(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(st(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ye(e);let n=Wr(e)?e:Ye(e&&e.provide),r=Pb(e);if(!Wr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ur(void 0,aa,!0),i.factory=()=>Bl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ee(null);try{return n.value===aa&&(n.value=Mb,n.value=n.factory()),typeof n.value=="object"&&n.value&&Ob(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ye(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function $l(t){let e=Nd(t),n=e!==null?e.factory:tr(t);if(n!==null)return n;if(t instanceof H)throw new U(204,!1);if(t instanceof Function)return Rb(t);throw new U(204,!1)}function Rb(t){if(t.length>0)throw new U(204,!1);let n=ib(t);return n!==null?()=>n.factory(t):()=>new t}function Pb(t){if(Wy(t))return Ur(void 0,t.useValue);{let e=Ky(t);return Ur(e,aa)}}function Ky(t,e,n){let r;if(Wr(t)){let i=Ye(t);return tr(i)||$l(i)}else if(Wy(t))r=()=>Ye(t.useValue);else if(Nb(t))r=()=>t.useFactory(...Bl(t.deps||[]));else if(Ab(t))r=()=>te(Ye(t.useExisting));else{let i=Ye(t&&(t.useClass||t.provide));if(kb(t))r=()=>new i(...Bl(t.deps));else return tr(i)||$l(i)}return r}function ho(t){if(t.destroyed)throw new U(205,!1)}function Ur(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function kb(t){return!!t.deps}function Ob(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Fb(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Hl(t,e){for(let n of t)Array.isArray(n)?Hl(n,e):n&&Fy(n)?Hl(n.\u0275providers,e):e(n)}function Qy(t,e){t instanceof yo&&ho(t);let n,r=vn(t),i=tt(void 0);try{return e()}finally{vn(r),tt(i)}}function Vb(){return Vy()!==void 0||mb()!=null}function Lb(t){return typeof t=="function"}var Xt=0,Q=1,j=2,Ze=3,bt=4,nt=5,vo=6,ga=7,Tt=8,Kr=9,Yt=10,Se=11,_o=12,Zg=13,ni=14,pt=15,Qr=16,$r=17,Yr=18,Ba=19,Yy=20,_n=21,Sl=22,ya=23,at=24,mt=25,Jy=1;var rr=7,va=8,_a=9,ft=10,Ia=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ia||{});function In(t){return Array.isArray(t)&&typeof t[Jy]=="object"}function en(t){return Array.isArray(t)&&t[Jy]===!0}function Zy(t){return(t.flags&4)!==0}function Ua(t){return t.componentOffset>-1}function kd(t){return(t.flags&1)===1}function En(t){return!!t.template}function ql(t){return(t[j]&512)!==0}var Gl=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Xy(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var $a=(()=>{let t=()=>ev;return t.ngInherit=!0,t})();function ev(t){return t.type.prototype.ngOnChanges&&(t.setInput=Bb),jb}function jb(){let t=nv(this),e=t?.current;if(e){let n=t.previous;if(n===zr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Bb(t,e,n,r,i){let o=this.declaredInputs[r],s=nv(t)||Ub(t,{previous:zr,current:null}),c=s.current||(s.current={}),u=s.previous,h=u[o];c[o]=new Gl(h&&h.currentValue,n,u===zr),Xy(t,e,i,n)}var tv="__ngSimpleChanges__";function nv(t){return t[tv]||null}function Ub(t,e){return t[tv]=e}var Xg=null;var Mt=function(t,e,n){Xg?.(t,e,n)},rv="svg",$b="math";function kt(t){for(;Array.isArray(t);)t=t[Xt];return t}function iv(t,e){return kt(e[t])}function St(t,e){return kt(e[t.index])}function ov(t,e){return t.data[e]}function Hb(t,e){return t[e]}function Tn(t,e){let n=e[t];return In(n)?n:n[Xt]}function Od(t){return(t[j]&128)===128}function qb(t){return en(t[Ze])}function Ea(t,e){return e==null?null:t[e]}function sv(t){t[$r]=0}function Fd(t){t[j]&1024||(t[j]|=1024,Od(t)&&qa(t))}function Gb(t,e){for(;t>0;)e=e[ni],t--;return e}function Ha(t){return!!(t[j]&9216||t[at]?.dirty)}function zl(t){t[Yt].changeDetectionScheduler?.notify(9),t[j]&64&&(t[j]|=1024),Ha(t)&&qa(t)}function qa(t){t[Yt].changeDetectionScheduler?.notify(0);let e=ir(t);for(;e!==null&&!(e[j]&8192||(e[j]|=8192,!Od(e)));)e=ir(e)}function av(t,e){if((t[j]&256)===256)throw new U(911,!1);t[_n]===null&&(t[_n]=[]),t[_n].push(e)}function zb(t,e){if(t[_n]===null)return;let n=t[_n].indexOf(e);n!==-1&&t[_n].splice(n,1)}function ir(t){let e=t[Ze];return en(e)?e[Ze]:e}var z={lFrame:yv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Wl=!1;function Wb(){return z.lFrame.elementDepthCount}function Kb(){z.lFrame.elementDepthCount++}function Qb(){z.lFrame.elementDepthCount--}function cv(){return z.bindingsEnabled}function uv(){return z.skipHydrationRootTNode!==null}function Yb(t){return z.skipHydrationRootTNode===t}function Jb(){z.skipHydrationRootTNode=null}function de(){return z.lFrame.lView}function Xe(){return z.lFrame.tView}function Cn(t){return z.lFrame.contextLView=t,t[Tt]}function Sn(t){return z.lFrame.contextLView=null,t}function rt(){let t=lv();for(;t!==null&&t.type===64;)t=t.parent;return t}function lv(){return z.lFrame.currentTNode}function Zb(){let t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ao(t,e){let n=z.lFrame;n.currentTNode=t,n.isParent=e}function dv(){return z.lFrame.isParent}function hv(){z.lFrame.isParent=!1}function fv(){return Wl}function ey(t){let e=Wl;return Wl=t,e}function Xb(){let t=z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function eT(t){return z.lFrame.bindingIndex=t}function Vd(){return z.lFrame.bindingIndex++}function tT(t){let e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nT(){return z.lFrame.inI18n}function rT(t,e){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Kl(e)}function iT(){return z.lFrame.currentDirectiveIndex}function Kl(t){z.lFrame.currentDirectiveIndex=t}function oT(t){let e=z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function pv(t){z.lFrame.currentQueryIndex=t}function sT(t){let e=t[Q];return e.type===2?e.declTNode:e.type===1?t[nt]:null}function mv(t,e,n){if(n&Y.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Y.Host);)if(i=sT(o),i===null||(o=o[ni],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=z.lFrame=gv();return r.currentTNode=e,r.lView=t,!0}function Ld(t){let e=gv(),n=t[Q];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function gv(){let t=z.lFrame,e=t===null?null:t.child;return e===null?yv(t):e}function yv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function vv(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var _v=vv;function jd(){let t=vv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function aT(t){return(z.lFrame.contextLView=Gb(t,z.lFrame.contextLView))[Tt]}function ri(){return z.lFrame.selectedIndex}function or(t){z.lFrame.selectedIndex=t}function Bd(){let t=z.lFrame;return ov(t.tView,t.selectedIndex)}function Iv(){z.lFrame.currentNamespace=rv}function cT(){return z.lFrame.currentNamespace}var Ev=!0;function Ud(){return Ev}function $d(t){Ev=t}function uT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ev(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Hd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),h&&((t.viewHooks??=[]).push(n,h),(t.viewCheckHooks??=[]).push(n,h)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function ca(t,e,n){wv(t,e,3,n)}function ua(t,e,n,r){(t[j]&3)===n&&wv(t,e,n,r)}function Al(t,e){let n=t[j];(n&3)===e&&(n&=16383,n+=1,t[j]=n)}function wv(t,e,n,r){let i=r!==void 0?t[$r]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[$r]+=65536),(c<o||o==-1)&&(lT(t,n,e,u),t[$r]=(t[$r]&4294901760)+u+2),u++}function ty(t,e){Mt(4,t,e);let n=ee(null);try{e.call(t)}finally{ee(n),Mt(5,t,e)}}function lT(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[j]>>14<t[$r]>>16&&(t[j]&3)===e&&(t[j]+=16384,ty(c,o)):ty(c,o)}var Gr=-1,sr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function dT(t){return t instanceof sr}function hT(t){return(t.flags&8)!==0}function fT(t){return(t.flags&16)!==0}function Ql(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];mT(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function pT(t){return t===3||t===4||t===6}function mT(t){return t.charCodeAt(0)===64}function Io(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ny(t,n,i,null,e[++r]):ny(t,n,i,null,null))}}return t}function ny(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Nl={},Yl=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Va(r);let i=this.injector.get(e,Nl,r);return i!==Nl||n===Nl?i:this.parentInjector.get(e,n,r)}};function Dv(t){return t!==Gr}function wa(t){return t&32767}function gT(t){return t>>16}function Da(t,e){let n=gT(t),r=e;for(;n>0;)r=r[ni],n--;return r}var Jl=!0;function ba(t){let e=Jl;return Jl=t,e}var yT=256,bv=yT-1,Tv=5,vT=0,Rt={};function _T(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(po)&&(r=n[po]),r==null&&(r=n[po]=vT++);let i=r&bv,o=1<<i;e.data[t+(i>>Tv)]|=o}function Ta(t,e){let n=Cv(t,e);if(n!==-1)return n;let r=e[Q];r.firstCreatePass&&(t.injectorIndex=e.length,xl(r.data,t),xl(e,null),xl(r.blueprint,null));let i=qd(t,e),o=t.injectorIndex;if(Dv(i)){let s=wa(i),c=Da(i,e),u=c[Q].data;for(let h=0;h<8;h++)e[o+h]=c[s+h]|u[s+h]}return e[o+8]=i,o}function xl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Cv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function qd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Rv(i),r===null)return Gr;if(n++,i=i[ni],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Gr}function Zl(t,e,n){_T(t,e,n)}function Sv(t,e,n){if(n&Y.Optional||t!==void 0)return t;Md(e,"NodeInjector")}function Av(t,e,n,r){if(n&Y.Optional&&r===void 0&&(r=null),!(n&(Y.Self|Y.Host))){let i=t[Kr],o=tt(void 0);try{return i?i.get(e,r,n&Y.Optional):Ly(e,r,n&Y.Optional)}finally{tt(o)}}return Sv(r,e,n)}function Nv(t,e,n,r=Y.Default,i){if(t!==null){if(e[j]&2048&&!(r&Y.Self)){let s=bT(t,e,n,r,Rt);if(s!==Rt)return s}let o=xv(t,e,n,r,Rt);if(o!==Rt)return o}return Av(e,n,r,i)}function xv(t,e,n,r,i){let o=wT(n);if(typeof o=="function"){if(!mv(e,t,r))return r&Y.Host?Sv(i,n,r):Av(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Y.Optional))Md(n);else return s}finally{_v()}}else if(typeof o=="number"){let s=null,c=Cv(t,e),u=Gr,h=r&Y.Host?e[pt][nt]:null;for((c===-1||r&Y.SkipSelf)&&(u=c===-1?qd(t,e):e[c+8],u===Gr||!iy(r,!1)?c=-1:(s=e[Q],c=wa(u),e=Da(u,e)));c!==-1;){let f=e[Q];if(ry(o,c,f.data)){let m=IT(c,e,n,s,r,h);if(m!==Rt)return m}u=e[c+8],u!==Gr&&iy(r,e[Q].data[c+8]===h)&&ry(o,c,e)?(s=f,c=wa(u),e=Da(u,e)):c=-1}}return i}function IT(t,e,n,r,i,o){let s=e[Q],c=s.data[t+8],u=r==null?Ua(c)&&Jl:r!=s&&(c.type&3)!==0,h=i&Y.Host&&o===c,f=ET(c,s,n,u,h);return f!==null?Jr(e,s,f,c):Rt}function ET(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,h=t.directiveEnd,f=o>>20,m=r?c:c+f,D=i?c+f:h;for(let b=m;b<D;b++){let N=s[b];if(b<u&&n===N||b>=u&&N.type===n)return b}if(i){let b=s[u];if(b&&En(b)&&b.type===n)return u}return null}function Jr(t,e,n,r){let i=t[n],o=e.data;if(dT(i)){let s=i;s.resolving&&lb(ub(o[n]));let c=ba(s.canSeeViewProviders);s.resolving=!0;let u,h=s.injectImpl?tt(s.injectImpl):null,f=mv(t,r,Y.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&uT(n,o[n],e)}finally{h!==null&&tt(h),ba(c),s.resolving=!1,_v()}}return i}function wT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(po)?t[po]:void 0;return typeof e=="number"?e>=0?e&bv:DT:e}function ry(t,e,n){let r=1<<t;return!!(n[e+(t>>Tv)]&r)}function iy(t,e){return!(t&Y.Self)&&!(t&Y.Host&&e)}var er=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Nv(this._tNode,this._lView,e,Va(r),n)}};function DT(){return new er(rt(),de())}function Mv(t){return To(()=>{let e=t.prototype.constructor,n=e[ha]||Xl(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ha]||Xl(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Xl(t){return Py(t)?()=>{let e=Xl(Ye(t));return e&&e()}:tr(t)}function bT(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[j]&2048&&!(s[j]&512);){let c=xv(o,s,n,r|Y.Self,Rt);if(c!==Rt)return c;let u=o.parent;if(!u){let h=s[Yy];if(h){let f=h.get(n,Rt,r);if(f!==Rt)return f}u=Rv(s),s=s[ni]}o=u}return i}function Rv(t){let e=t[Q],n=e.type;return n===2?e.declTNode:n===1?t[nt]:null}function oy(t,e=null,n=null,r){let i=TT(t,e,n,r);return i.resolveInjectorInitializers(),i}function TT(t,e=null,n=null,r,i=new Set){let o=[n||ht,Cb(t)];return r=r||(typeof t=="object"?void 0:st(t)),new yo(o,e||ja(),r||null,i)}var Ct=class t{static THROW_IF_NOT_FOUND=mo;static NULL=new ma;static create(e,n){if(Array.isArray(e))return oy({name:""},n,e,"");{let r=e.name??"";return oy({name:r},e.parent,e.providers,r)}}static \u0275prov=ae({token:t,providedIn:"any",factory:()=>te(Uy)});static __NG_ELEMENT_ID__=-1};var CT=new H("");CT.__NG_ELEMENT_ID__=t=>{let e=rt();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&Y.Optional)return null;throw new U(204,!1)};var Pv=!1,Gd=(()=>{class t{static __NG_ELEMENT_ID__=ST;static __NG_ENV_ID__=n=>n}return t})(),ed=class extends Gd{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return av(this._lView,e),()=>zb(this._lView,e)}};function ST(){return new ed(de())}var Eo=class{},zd=new H("",{providedIn:"root",factory:()=>!1});var kv=new H(""),Ov=new H(""),Ga=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Jn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})();var td=class extends Qt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Vb()&&(this.destroyRef=q(Gd,{optional:!0})??void 0,this.pendingTasks=q(Ga,{optional:!0})??void 0)}emit(e){let n=ee(null);try{super.next(e)}finally{ee(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Je=td;function Ca(...t){}function Fv(t){let e,n;function r(){t=Ca;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function sy(t){return queueMicrotask(()=>t()),()=>{t=Ca}}var Wd="isAngularZone",Sa=Wd+"_ID",AT=0,Ie=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Je(!1);onMicrotaskEmpty=new Je(!1);onStable=new Je(!1);onError=new Je(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Pv}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,MT(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Wd)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,NT,Ca,Ca);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},NT={};function Kd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xT(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Fv(()=>{t.callbackScheduled=!1,nd(t),t.isCheckStableRunning=!0,Kd(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),nd(t)}function MT(t){let e=()=>{xT(t)},n=AT++;t._inner=t._inner.fork({name:"angular",properties:{[Wd]:!0,[Sa]:n,[Sa+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(RT(u))return r.invokeTask(o,s,c,u);try{return ay(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),cy(t)}},onInvoke:(r,i,o,s,c,u,h)=>{try{return ay(t),r.invoke(o,s,c,u,h)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!PT(u)&&e(),cy(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,nd(t),Kd(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function nd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ay(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cy(t){t._nesting--,Kd(t)}var rd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Je;onMicrotaskEmpty=new Je;onStable=new Je;onError=new Je;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function RT(t){return Vv(t,"__ignore_ng_zone__")}function PT(t){return Vv(t,"__scheduler_tick__")}function Vv(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Jt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},kT=new H("",{providedIn:"root",factory:()=>{let t=q(Ie),e=q(Jt);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),Aa=class{destroyed=!1;listeners=null;errorHandler=q(Jt,{optional:!0});destroyRef=q(Gd);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new U(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new U(953,!1);if(this.listeners===null)return;let n=ee(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{ee(n)}}};function Lv(t){return new Aa}function OT(){return za(rt(),de())}function za(t,e){return new ii(St(t,e))}var ii=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=OT}return t})();function jv(t){return(t.flags&128)===128}var Bv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Bv||{}),Uv=new Map,FT=0;function VT(){return FT++}function LT(t){Uv.set(t[Ba],t)}function id(t){Uv.delete(t[Ba])}var uy="__ngContext__";function ar(t,e){In(e)?(t[uy]=e[Ba],LT(e)):t[uy]=e}function $v(t){return qv(t[_o])}function Hv(t){return qv(t[bt])}function qv(t){for(;t!==null&&!en(t);)t=t[bt];return t}var od;function Gv(t){od=t}function jT(){if(od!==void 0)return od;if(typeof document<"u")return document;throw new U(210,!1)}var Qd=new H("",{providedIn:"root",factory:()=>BT}),BT="ng",Yd=new H(""),An=new H("",{providedIn:"platform",factory:()=>"unknown"});var Jd=new H("",{providedIn:"root",factory:()=>jT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var UT="h",$T="b";var zv=!1,HT=new H("",{providedIn:"root",factory:()=>zv});var Wv=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Wv||{}),Kv=new H(""),ly=new Set;function Wa(t){ly.has(t)||(ly.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var qT=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})();var GT=()=>null;function Zd(t,e,n=!1){return GT(t,e,n)}var Ot=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ot||{}),ia;function zT(){if(ia===void 0&&(ia=null,Vl.trustedTypes))try{ia=Vl.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ia}function WT(t){return zT()?.createScriptURL(t)||t}var Na=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xy})`}};function Ka(t){return t instanceof Na?t.changingThisBreaksApplicationSecurity:t}function Qv(t,e){let n=KT(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${xy})`)}return n===e}function KT(t){return t instanceof Na&&t.getTypeName()||null}var QT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yv(t){return t=String(t),t.match(QT)?t:"unsafe:"+t}var Xd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xd||{});function oi(t){let e=YT();return e?e.sanitize(Xd.URL,t)||"":Qv(t,"URL")?Ka(t):Yv(xd(t))}function Jv(t){return WT(t[0])}function YT(){let t=de();return t&&t[Yt].sanitizer}function Zv(t){return t.ownerDocument.defaultView}var wn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(wn||{}),Zt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zt||{}),JT;function eh(t,e){return JT(t,e)}function Hr(t,e,n,r,i){if(r!=null){let o,s=!1;en(r)?o=r:In(r)&&(s=!0,r=r[Xt]);let c=kt(r);t===0&&n!==null?i==null?i_(e,n,c):xa(e,n,c,i||null,!0):t===1&&n!==null?xa(e,n,c,i||null,!0):t===2?lC(e,c,s):t===3&&e.destroyNode(c),o!=null&&hC(e,t,o,n,i)}}function ZT(t,e){return t.createText(e)}function XT(t,e,n){t.setValue(e,n)}function Xv(t,e,n){return t.createElement(e,n)}function eC(t,e){e_(t,e),e[Xt]=null,e[nt]=null}function tC(t,e,n,r,i,o){r[Xt]=i,r[nt]=e,Qa(t,r,n,1,i,o)}function e_(t,e){e[Yt].changeDetectionScheduler?.notify(10),Qa(t,e,e[Se],2,null,null)}function nC(t){let e=t[_o];if(!e)return Ml(t[Q],t);for(;e;){let n=null;if(In(e))n=e[_o];else{let r=e[ft];r&&(n=r)}if(!n){for(;e&&!e[bt]&&e!==t;)In(e)&&Ml(e[Q],e),e=e[Ze];e===null&&(e=t),In(e)&&Ml(e[Q],e),n=e&&e[bt]}e=n}}function rC(t,e,n,r){let i=ft+r,o=n.length;r>0&&(n[i-1][bt]=e),r<o-ft?(e[bt]=n[i],By(n,ft+r,e)):(n.push(e),e[bt]=null),e[Ze]=n;let s=e[Qr];s!==null&&n!==s&&t_(s,e);let c=e[Yr];c!==null&&c.insertView(t),zl(e),e[j]|=128}function t_(t,e){let n=t[_a],r=e[Ze];if(In(r))t[j]|=Ia.HasTransplantedViews;else{let i=r[Ze][pt];e[pt]!==i&&(t[j]|=Ia.HasTransplantedViews)}n===null?t[_a]=[e]:n.push(e)}function th(t,e){let n=t[_a],r=n.indexOf(e);n.splice(r,1)}function sd(t,e){if(t.length<=ft)return;let n=ft+e,r=t[n];if(r){let i=r[Qr];i!==null&&i!==t&&th(i,r),e>0&&(t[n-1][bt]=r[bt]);let o=pa(t,ft+e);eC(r[Q],r);let s=o[Yr];s!==null&&s.detachView(o[Q]),r[Ze]=null,r[bt]=null,r[j]&=-129}return r}function n_(t,e){if(!(e[j]&256)){let n=e[Se];n.destroyNode&&Qa(t,e,n,3,null,null),nC(e)}}function Ml(t,e){if(e[j]&256)return;let n=ee(null);try{e[j]&=-129,e[j]|=256,e[at]&&ul(e[at]),oC(t,e),iC(t,e),e[Q].type===1&&e[Se].destroy();let r=e[Qr];if(r!==null&&en(e[Ze])){r!==e[Ze]&&th(r,e);let i=e[Yr];i!==null&&i.detachView(t)}id(e)}finally{ee(n)}}function iC(t,e){let n=t.cleanup,r=e[ga];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[ga]=null);let i=e[_n];if(i!==null){e[_n]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[ya];if(o!==null){e[ya]=null;for(let s of o)s.destroy()}}function oC(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof sr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Mt(4,c,u);try{u.call(c)}finally{Mt(5,c,u)}}else{Mt(4,i,o);try{o.call(i)}finally{Mt(5,i,o)}}}}}function r_(t,e,n){return sC(t,e.parent,n)}function sC(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Xt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ot.None||o===Ot.Emulated)return null}return St(r,n)}}function xa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function i_(t,e,n){t.appendChild(e,n)}function dy(t,e,n,r,i){r!==null?xa(t,e,n,r,i):i_(t,e,n)}function o_(t,e){return t.parentNode(e)}function aC(t,e){return t.nextSibling(e)}function s_(t,e,n){return uC(t,e,n)}function cC(t,e,n){return t.type&40?St(t,n):null}var uC=cC,hy;function nh(t,e,n,r){let i=r_(t,r,e),o=e[Se],s=r.parent||e[nt],c=s_(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)dy(o,i,n[u],c,!1);else dy(o,i,n,c,!1);hy!==void 0&&hy(o,r,e,n,i)}function fo(t,e){if(e!==null){let n=e.type;if(n&3)return St(e,t);if(n&4)return ad(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return fo(t,r);{let i=t[e.index];return en(i)?ad(-1,i):kt(i)}}else{if(n&128)return fo(t,e.next);if(n&32)return eh(e,t)()||kt(t[e.index]);{let r=a_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ir(t[pt]);return fo(i,r)}else return fo(t,e.next)}}}return null}function a_(t,e){if(e!==null){let r=t[pt][nt],i=e.projection;return r.projection[i]}return null}function ad(t,e){let n=ft+t+1;if(n<e.length){let r=e[n],i=r[Q].firstChild;if(i!==null)return fo(r,i)}return e[rr]}function lC(t,e,n){t.removeChild(null,e,n)}function rh(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&ar(kt(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)rh(t,e,n.child,r,i,o,!1),Hr(e,t,i,c,o);else if(u&32){let h=eh(n,r),f;for(;f=h();)Hr(e,t,i,f,o);Hr(e,t,i,c,o)}else u&16?c_(t,e,r,n,i,o):Hr(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Qa(t,e,n,r,i,o){rh(n,r,t.firstChild,e,i,o,!1)}function dC(t,e,n){let r=e[Se],i=r_(t,n,e),o=n.parent||e[nt],s=s_(o,n,e);c_(r,0,e,n,i,s)}function c_(t,e,n,r,i,o){let s=n[pt],u=s[nt].projection[r.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++){let f=u[h];Hr(e,t,i,f,o)}else{let h=u,f=s[Ze];jv(r)&&(h.flags|=128),rh(t,e,h,f,i,o,!0)}}function hC(t,e,n,r,i){let o=n[rr],s=kt(n);o!==s&&Hr(e,t,r,o,i);for(let c=ft;c<n.length;c++){let u=n[c];Qa(u[Q],u,t,e,r,o)}}function fC(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Zt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zt.Important),t.setStyle(n,r,i,o))}}function pC(t,e,n){t.setAttribute(e,"style",n)}function u_(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function l_(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ql(t,e,r),i!==null&&u_(t,e,i),o!==null&&pC(t,e,o)}function mC(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var d_="ng-template";function gC(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&mC(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ih(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ih(t){return t.type===4&&t.value!==d_}function yC(t,e,n){let r=t.type===4&&!n?d_:t.value;return e===r}function vC(t,e,n){let r=4,i=t.attrs,o=i!==null?EC(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Dt(r)&&!Dt(u))return!1;if(s&&Dt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!yC(t,u,n)||u===""&&e.length===1){if(Dt(r))return!1;s=!0}}else if(r&8){if(i===null||!gC(t,i,u,n)){if(Dt(r))return!1;s=!0}}else{let h=e[++c],f=_C(u,i,ih(t),n);if(f===-1){if(Dt(r))return!1;s=!0;continue}if(h!==""){let m;if(f>o?m="":m=i[f+1].toLowerCase(),r&2&&h!==m){if(Dt(r))return!1;s=!0}}}}return Dt(r)||s}function Dt(t){return(t&1)===0}function _C(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return wC(e,t)}function h_(t,e,n=!1){for(let r=0;r<e.length;r++)if(vC(t,e[r],n))return!0;return!1}function IC(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function EC(t){for(let e=0;e<t.length;e++){let n=t[e];if(pT(n))return e}return t.length}function wC(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function DC(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function fy(t,e){return t?":not("+e.trim()+")":e}function bC(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dt(s)&&(e+=fy(o,i),i=""),r=s,o=o||!Dt(r);n++}return i!==""&&(e+=fy(o,i)),e}function TC(t){return t.map(bC).join(",")}function CC(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Dt(i))break;i=o}r++}return{attrs:e,classes:n}}var Nn={};function re(t=1){f_(Xe(),de(),ri()+t,!1)}function f_(t,e,n,r){if(!r)if((e[j]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ca(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ua(e,o,0,n)}or(n)}function W(t,e=Y.Default){let n=de();if(n===null)return te(t,e);let r=rt();return Nv(r,n,Ye(t),e)}function p_(t,e,n,r,i,o){let s=ee(null);try{let c=null;i&wn.SignalBased&&(c=e[r][ot]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&wn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):Xy(e,c,r,o)}finally{ee(s)}}function SC(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)or(~i);else{let o=i,s=n[++r],c=n[++r];rT(s,o);let u=e[o];c(2,u)}}}finally{or(-1)}}function Ya(t,e,n,r,i,o,s,c,u,h,f){let m=e.blueprint.slice();return m[Xt]=i,m[j]=r|4|128|8|64|1024,(h!==null||t&&t[j]&2048)&&(m[j]|=2048),sv(m),m[Ze]=m[ni]=t,m[Tt]=n,m[Yt]=s||t&&t[Yt],m[Se]=c||t&&t[Se],m[Kr]=u||t&&t[Kr]||null,m[nt]=o,m[Ba]=VT(),m[vo]=f,m[Yy]=h,m[pt]=e.type==2?t[pt]:m,m}function No(t,e,n,r,i){let o=t.data[e];if(o===null)o=AC(t,e,n,r,i),nT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Zb();o.injectorIndex=s===null?-1:s.injectorIndex}return Ao(o,!0),o}function AC(t,e,n,r,i){let o=lv(),s=dv(),c=s?o:o&&o.parent,u=t.data[e]=PC(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function m_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function g_(t,e,n,r,i){let o=ri(),s=r&2;try{or(-1),s&&e.length>mt&&f_(t,e,mt,!1),Mt(s?2:0,i),n(r,i)}finally{or(o),Mt(s?3:1,i)}}function y_(t,e,n){if(Zy(e)){let r=ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{ee(r)}}}function v_(t,e,n){cv()&&(jC(t,e,n,St(n,e)),(n.flags&64)===64&&D_(t,e,n))}function __(t,e,n=St){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function I_(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=oh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function oh(t,e,n,r,i,o,s,c,u,h,f){let m=mt+r,D=m+i,b=NC(m,D),N=typeof h=="function"?h():h;return b[Q]={type:t,blueprint:b,template:n,queries:null,viewQuery:c,declTNode:e,data:b.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:N,incompleteFirstPass:!1,ssrId:f}}function NC(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Nn);return n}function xC(t,e,n,r){let o=r.get(HT,zv)||n===Ot.ShadowDom,s=t.selectRootElement(e,o);return MC(s),s}function MC(t){RC(t)}var RC=()=>null;function PC(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return uv()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function py(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=wn.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let h=o;if(i!==null){if(!i.hasOwnProperty(o))continue;h=i[o]}t===0?my(r,n,h,c,u):my(r,n,h,c)}return r}function my(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function kC(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,h=null;for(let f=r;f<i;f++){let m=o[f],D=n?n.get(m):null,b=D?D.inputs:null,N=D?D.outputs:null;u=py(0,m.inputs,f,u,b),h=py(1,m.outputs,f,h,N);let F=u!==null&&s!==null&&!ih(e)?KC(u,f,s):null;c.push(F)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=h}function OC(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function sh(t,e,n,r,i,o,s,c){let u=St(e,n),h=e.inputs,f;!c&&h!=null&&(f=h[r])?(ah(t,n,f,r,i),Ua(e)&&FC(n,e.index)):e.type&3?(r=OC(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function FC(t,e){let n=Tn(e,t);n[j]&16||(n[j]|=64)}function E_(t,e,n,r){if(cv()){let i=r===null?null:{"":-1},o=UC(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&w_(t,e,n,s,i,c),i&&$C(n,r,i)}n.mergedAttrs=Io(n.mergedAttrs,n.attrs)}function w_(t,e,n,r,i,o){for(let h=0;h<r.length;h++)Zl(Ta(n,e),t,r[h].type);qC(n,t.data.length,r.length);for(let h=0;h<r.length;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=m_(t,e,r.length,null);for(let h=0;h<r.length;h++){let f=r[h];n.mergedAttrs=Io(n.mergedAttrs,f.hostAttrs),GC(t,n,e,u,f),HC(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let m=f.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}kC(t,n,o)}function VC(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;LC(s)!=c&&s.push(c),s.push(n,r,o)}}function LC(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function jC(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ua(n)&&zC(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ta(n,e),ar(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],h=Jr(e,t,c,n);if(ar(h,e),s!==null&&WC(e,c-i,h,u,n,s),En(u)){let f=Tn(n.index,e);f[Tt]=Jr(e,t,c,n)}}}function D_(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=iT();try{or(o);for(let c=r;c<i;c++){let u=t.data[c],h=e[c];Kl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&BC(u,h)}}finally{or(-1),Kl(s)}}function BC(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function UC(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(h_(e,s.selectors,!1))if(r||(r=[]),En(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;cd(t,e,u)}else r.unshift(s),cd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function cd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $C(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}}function HC(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;En(e)&&(n[""]=t)}}function qC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function GC(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=tr(i.type,!0)),s=new sr(o,En(i),W);t.blueprint[r]=s,n[r]=s,VC(t,e,r,m_(t,n,i.hostVars,Nn),i)}function b_(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function zC(t,e,n){let r=St(e,t),i=I_(n),o=t[Yt].rendererFactory,s=Ja(t,Ya(t,i,null,b_(n),r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=s}function WC(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],h=s[c++],f=s[c++],m=s[c++];p_(r,n,u,h,f,m)}}function KC(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function T_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function C_(t,e){let n=t.contentQueries;if(n!==null){let r=ee(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];pv(o),c.contentQueries(2,e[s],s)}}}finally{ee(r)}}}function Ja(t,e){return t[_o]?t[Zg][bt]=e:t[_o]=e,t[Zg]=e,e}function ud(t,e,n){pv(0);let r=ee(null);try{e(t,n)}finally{ee(r)}}function QC(t){return t[ga]??=[]}function YC(t){return t.cleanup??=[]}function S_(t,e){let n=t[Kr],r=n?n.get(Jt,null):null;r&&r.handleError(e)}function ah(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],h=e[s],f=t.data[s];p_(f,h,r,c,u,i)}}function JC(t,e,n){let r=iv(e,t);XT(t[Se],r,n)}function ZC(t,e){let n=Tn(e,t),r=n[Q];XC(r,n);let i=n[Xt];i!==null&&n[vo]===null&&(n[vo]=Zd(i,n[Kr])),ch(r,n,n[Tt])}function XC(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ch(t,e,n){Ld(e);try{let r=t.viewQuery;r!==null&&ud(1,r,n);let i=t.template;i!==null&&g_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Yr]?.finishViewCreation(t),t.staticContentQueries&&C_(t,e),t.staticViewQueries&&ud(2,t.viewQuery,n);let o=t.components;o!==null&&eS(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[j]&=-5,jd()}}function eS(t,e){for(let n=0;n<e.length;n++)ZC(t,e[n])}function A_(t,e,n,r){let i=ee(null);try{let o=e.tView,c=t[j]&4096?4096:16,u=Ya(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=t[e.index];u[Qr]=h;let f=t[Yr];return f!==null&&(u[Yr]=f.createEmbeddedView(o)),ch(o,u,n),u}finally{ee(i)}}function ld(t,e){return!e||e.firstChild===null||jv(t)}function N_(t,e,n,r=!0){let i=e[Q];if(rC(i,e,t,n),r){let s=ad(n,t),c=e[Se],u=o_(c,t[rr]);u!==null&&tC(i,t[nt],c,e,u,s)}let o=e[vo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ma(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(kt(o)),en(o)&&tS(o,r);let s=n.type;if(s&8)Ma(t,e,n.child,r);else if(s&32){let c=eh(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=a_(e,n);if(Array.isArray(c))r.push(...c);else{let u=ir(e[pt]);Ma(u[Q],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function tS(t,e){for(let n=ft;n<t.length;n++){let r=t[n],i=r[Q].firstChild;i!==null&&Ma(r[Q],r,i,e)}t[rr]!==t[Xt]&&e.push(t[rr])}var x_=[];function nS(t){return t[at]??rS(t)}function rS(t){let e=x_.pop()??Object.create(oS);return e.lView=t,e}function iS(t){t.lView[at]!==t&&(t.lView=null,x_.push(t))}var oS=he($({},ao),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qa(t.lView)},consumerOnSignalRead(){this.lView[at]=this}});function sS(t){let e=t[at]??Object.create(aS);return e.lView=t,e}var aS=he($({},ao),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ir(t.lView);for(;e&&!M_(e[Q]);)e=ir(e);e&&Fd(e)},consumerOnSignalRead(){this.lView[at]=this}});function M_(t){return t.type!==2}function R_(t){if(t[ya]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ya])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[j]&8192)}}var cS=100;function P_(t,e=!0,n=0){let i=t[Yt].rendererFactory,o=!1;o||i.begin?.();try{uS(t,n)}catch(s){throw e&&S_(t,s),s}finally{o||i.end?.()}}function uS(t,e){let n=fv();try{ey(!0),dd(t,e);let r=0;for(;Ha(t);){if(r===cS)throw new U(103,!1);r++,dd(t,1)}}finally{ey(n)}}function lS(t,e,n,r){let i=e[j];if((i&256)===256)return;let o=!1,s=!1;Ld(e);let c=!0,u=null,h=null;o||(M_(t)?(h=nS(e),u=ks(h)):dg()===null?(c=!1,h=sS(e),u=ks(h)):e[at]&&(ul(e[at]),e[at]=null));try{sv(e),eT(t.bindingStartIndex),n!==null&&g_(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let b=t.preOrderCheckHooks;b!==null&&ca(e,b,null)}else{let b=t.preOrderHooks;b!==null&&ua(e,b,0,null),Al(e,0)}if(s||dS(e),R_(e),k_(e,0),t.contentQueries!==null&&C_(t,e),!o)if(f){let b=t.contentCheckHooks;b!==null&&ca(e,b)}else{let b=t.contentHooks;b!==null&&ua(e,b,1),Al(e,1)}SC(t,e);let m=t.components;m!==null&&F_(e,m,0);let D=t.viewQuery;if(D!==null&&ud(2,D,r),!o)if(f){let b=t.viewCheckHooks;b!==null&&ca(e,b)}else{let b=t.viewHooks;b!==null&&ua(e,b,2),Al(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Sl]){for(let b of e[Sl])b();e[Sl]=null}o||(e[j]&=-73)}catch(f){throw o||qa(e),f}finally{h!==null&&(al(h,u),c&&iS(h)),jd()}}function k_(t,e){for(let n=$v(t);n!==null;n=Hv(n))for(let r=ft;r<n.length;r++){let i=n[r];O_(i,e)}}function dS(t){for(let e=$v(t);e!==null;e=Hv(e)){if(!(e[j]&Ia.HasTransplantedViews))continue;let n=e[_a];for(let r=0;r<n.length;r++){let i=n[r];Fd(i)}}}function hS(t,e,n){let r=Tn(e,t);O_(r,n)}function O_(t,e){Od(t)&&dd(t,e)}function dd(t,e){let r=t[Q],i=t[j],o=t[at],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&cl(o)),s||=!1,o&&(o.dirty=!1),t[j]&=-9217,s)lS(r,t,r.template,t[Tt]);else if(i&8192){R_(t),k_(t,1);let c=r.components;c!==null&&F_(t,c,1)}}function F_(t,e,n){for(let r=0;r<e.length;r++)hS(t,e[r],n)}function uh(t,e){let n=fv()?64:1088;for(t[Yt].changeDetectionScheduler?.notify(e);t;){t[j]|=n;let r=ir(t);if(ql(t)&&!r)return t;t=r}return null}var cr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[Q];return Ma(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Tt]}get dirty(){return!!(this._lView[j]&9280)||!!this._lView[at]?.dirty}set context(e){this._lView[Tt]=e}get destroyed(){return(this._lView[j]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ze];if(en(e)){let n=e[va],r=n?n.indexOf(this):-1;r>-1&&(sd(e,r),pa(n,r))}this._attachedToViewContainer=!1}n_(this._lView[Q],this._lView)}onDestroy(e){av(this._lView,e)}markForCheck(){uh(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Fd(this._cdRefInjectingView||this._lView)}detach(){this._lView[j]&=-129}reattach(){zl(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,P_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ql(this._lView),n=this._lView[Qr];n!==null&&!e&&th(n,this._lView),e_(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=ql(this._lView),r=this._lView[Qr];r!==null&&!n&&t_(r,this._lView),zl(this._lView)}},Za=(()=>{class t{static __NG_ELEMENT_ID__=mS}return t})(),fS=Za,pS=class extends fS{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=A_(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new cr(i)}};function mS(){return gS(rt(),de())}function gS(t,e){return t.type&4?new pS(e,t,za(t,e)):null}var OV=new RegExp(`^(\\d+)*(${$T}|${UT})*(.*)`);var yS=()=>null;function hd(t,e){return yS(t,e)}var fd=class{},Ra=class{},pd=class{resolveComponentFactory(e){throw Error(`No component factory found for ${st(e)}.`)}},wo=class{static NULL=new pd},Zr=class{},xo=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>vS()}return t})();function vS(){let t=de(),e=rt(),n=Tn(e.index,t);return(In(n)?n:t)[Se]}var _S=(()=>{class t{static \u0275prov=ae({token:t,providedIn:"root",factory:()=>null})}return t})();function md(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=zg(i,c);else if(o==2){let u=c,h=e[++s];r=zg(r,u+": "+h+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var gd=class extends wo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=nr(e);return new Do(n,this.ngModule)}};function gy(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,c=o?i[1]:wn.None;e?n.push({propName:s,templateName:r,isSignal:(c&wn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function IS(t){let e=t.toLowerCase();return e==="svg"?rv:e==="math"?$b:null}var Do=class extends Ra{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,r=gy(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gy(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=TC(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ee(null);try{i=i||this.ngModule;let s=i instanceof Pt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new Yl(e,s):e,u=c.get(Zr,null);if(u===null)throw new U(407,!1);let h=c.get(_S,null),f=c.get(Eo,null),m={rendererFactory:u,sanitizer:h,changeDetectionScheduler:f},D=u.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",N=r?xC(D,r,this.componentDef.encapsulation,c):Xv(D,b,IS(b)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let O=null;N!==null&&(O=Zd(N,c,!0));let B=oh(0,null,null,1,0,null,null,null,null,null,null),G=Ya(null,B,null,F,null,null,m,D,c,null,O);Ld(G);let X,ce,Ve=null;try{let ie=this.componentDef,I,g=null;ie.findHostDirectiveDefs?(I=[],g=new Map,ie.findHostDirectiveDefs(ie,I,g),I.push(ie)):I=[ie];let y=ES(G,N);Ve=wS(y,N,ie,I,G,m,D),ce=ov(B,mt),N&&TS(D,ie,N,r),n!==void 0&&CS(ce,this.ngContentSelectors,n),X=bS(Ve,ie,I,g,G,[SS]),ch(B,G,null)}catch(ie){throw Ve!==null&&id(Ve),id(G),ie}finally{jd()}return new yd(this.componentType,X,za(ce,G),G,ce)}finally{ee(o)}}},yd=class extends fd{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new cr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;ah(o[Q],o,i,e,n),this.previousInputValues.set(e,n);let s=Tn(this._tNode.index,o);uh(s,1)}}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ES(t,e){let n=t[Q],r=mt;return t[r]=e,No(n,r,2,"#host",null)}function wS(t,e,n,r,i,o,s){let c=i[Q];DS(r,t,e,s);let u=null;e!==null&&(u=Zd(e,i[Kr]));let h=o.rendererFactory.createRenderer(e,n),f=Ya(i,I_(n),null,b_(n),i[t.index],t,o,h,null,null,u);return c.firstCreatePass&&cd(c,t,r.length-1),Ja(i,f),i[t.index]=f}function DS(t,e,n,r){for(let i of t)e.mergedAttrs=Io(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(md(e,e.mergedAttrs,!0),n!==null&&l_(r,n,e))}function bS(t,e,n,r,i,o){let s=rt(),c=i[Q],u=St(s,i);w_(c,i,s,n,null,r);for(let f=0;f<n.length;f++){let m=s.directiveStart+f,D=Jr(i,c,m,s);ar(D,i)}D_(c,i,s),u&&ar(u,i);let h=Jr(i,c,s.directiveStart+s.componentOffset,s);if(t[Tt]=i[Tt]=h,o!==null)for(let f of o)f(h,e);return y_(c,s,i),h}function TS(t,e,n,r){if(r)Ql(t,n,["ng-version","19.0.6"]);else{let{attrs:i,classes:o}=CC(e.selectors[0]);i&&Ql(t,n,i),o&&o.length>0&&u_(t,n,o.join(" "))}}function CS(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}function SS(){let t=rt();Hd(de()[Q],t)}var Xa=(()=>{class t{static __NG_ELEMENT_ID__=AS}return t})();function AS(){let t=rt();return xS(t,de())}var NS=Xa,V_=class extends NS{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return za(this._hostTNode,this._hostLView)}get injector(){return new er(this._hostTNode,this._hostLView)}get parentInjector(){let e=qd(this._hostTNode,this._hostLView);if(Dv(e)){let n=Da(e,this._hostLView),r=wa(e),i=n[Q].data[r+8];return new er(i,n)}else return new er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=yy(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=hd(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,ld(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!Lb(e),c;if(s)c=n;else{let N=n||{};c=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef}let u=s?e:new Do(nr(e)),h=r||this.parentInjector;if(!o&&u.ngModule==null){let F=(s?h:this.parentInjector).get(Pt,null);F&&(o=F)}let f=nr(u.componentType??{}),m=hd(this._lContainer,f?.id??null),D=m?.firstChild??null,b=u.create(h,i,D,o);return this.insertImpl(b.hostView,c,ld(this._hostTNode,m)),b}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(qb(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Ze],h=new V_(u,u[nt],u[Ze]);h.detach(h.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return N_(s,i,o,r),e.attachToViewContainerRef(),By(Rl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=yy(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=sd(this._lContainer,n);r&&(pa(Rl(this._lContainer),n),n_(r[Q],r))}detach(e){let n=this._adjustIndex(e,-1),r=sd(this._lContainer,n);return r&&pa(Rl(this._lContainer),n)!=null?new cr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function yy(t){return t[va]}function Rl(t){return t[va]||(t[va]=[])}function xS(t,e){let n,r=e[t.index];return en(r)?n=r:(n=T_(r,e,null,t),e[t.index]=n,Ja(e,n)),RS(n,e,t,r),new V_(n,t,e)}function MS(t,e){let n=t[Se],r=n.createComment(""),i=St(e,t),o=o_(n,i);return xa(n,o,r,aC(n,i),!1),r}var RS=OS,PS=()=>!1;function kS(t,e,n){return PS(t,e,n)}function OS(t,e,n,r){if(t[rr])return;let i;n.type&8?i=kt(r):i=MS(e,n),t[rr]=i}function FS(t){return typeof t=="function"&&t[ot]!==void 0}function dr(t,e){Wa("NgSignals");let n=Eg(t),r=n[ot];return e?.equal&&(r.equal=e.equal),n.set=i=>co(r,i),n.update=i=>wg(r,i),n.asReadonly=L_.bind(n),n}function L_(){let t=this[ot];if(t.readonlyFn===void 0){let e=()=>this();e[ot]=t,t.readonlyFn=e}return t.readonlyFn}function j_(t){return FS(t)&&typeof t.set=="function"}function B_(t,e){let n=Object.create(eb),r=new Aa;n.value=t;function i(){return Ps(n),vy(n.value),n.value}return i[ot]=n,i.asReadonly=L_.bind(i),i.set=o=>{n.equal(n.value,o)||(co(n,o),r.emit(o))},i.update=o=>{vy(n.value),i.set(o(n.value))},i.subscribe=r.subscribe.bind(r),i.destroyRef=r.destroyRef,i}function vy(t){if(t===My)throw new U(952,!1)}function _y(t,e){return B_(t,e)}function VS(t){return B_(My,t)}var U_=(_y.required=VS,_y);var Xr=class{};var Pa=class extends Xr{injector;componentFactoryResolver=new gd(this);instance=null;constructor(e){super();let n=new yo([...e.providers,{provide:Xr,useValue:this},{provide:wo,useValue:this.componentFactoryResolver}],e.parent||ja(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function LS(t,e,n=null){return new Pa({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var jS=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Gy(!1,n.type),i=r.length>0?LS([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ae({token:t,providedIn:"environment",factory:()=>new t(te(Pt))})}return t})();function we(t){return To(()=>{let e=H_(t),n=he($({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(jS).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ot.Emulated,styles:t.styles||ht,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Wa("NgStandalone"),q_(n);let r=t.dependencies;return n.directiveDefs=Ey(r,!1),n.pipeDefs=Ey(r,!0),n.id=$S(n),n})}function BS(t){return nr(t)||Hy(t)}function US(t){return t!==null}function hr(t){return To(()=>({type:t.type,bootstrap:t.bootstrap||ht,declarations:t.declarations||ht,imports:t.imports||ht,exports:t.exports||ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Iy(t,e){if(t==null)return zr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=wn.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==wn.None?[r,c]:r,e[o]=s):n[o]=r}return n}function gt(t){return To(()=>{let e=H_(t);return q_(e),e})}function $_(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function H_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||zr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Iy(t.inputs,e),outputs:Iy(t.outputs),debugInfo:null}}function q_(t){t.features?.forEach(e=>e(t))}function Ey(t,e){if(!t)return null;let n=e?qy:BS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(US)}function $S(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function HS(t){return Object.getPrototypeOf(t.prototype).constructor}function xn(t){let e=HS(t.type),n=!0,r=[t];for(;e;){let i;if(En(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=oa(t.inputs),s.inputTransforms=oa(t.inputTransforms),s.declaredInputs=oa(t.declaredInputs),s.outputs=oa(t.outputs);let c=i.hostBindings;c&&KS(t,c);let u=i.viewQuery,h=i.contentQueries;if(u&&zS(t,u),h&&WS(t,h),qS(t,i),nb(t.outputs,i.outputs),En(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===xn&&(n=!1)}}e=Object.getPrototypeOf(e)}GS(r)}function qS(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function GS(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Io(i.hostAttrs,n=Io(n,i.hostAttrs))}}function oa(t){return t===zr?{}:t===ht?[]:t}function zS(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function WS(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function KS(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function G_(t){return YS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function QS(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function YS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function JS(t,e,n){return t[e]=n}function Mo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ZS(t){return(t.flags&32)===32}function XS(t,e,n,r,i,o,s,c,u){let h=e.consts,f=No(e,t,4,s||null,c||null);E_(e,n,f,Ea(h,u)),Hd(e,f);let m=f.tView=oh(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,f),m.queries=e.queries.embeddedTView(f)),f}function z_(t,e,n,r,i,o,s,c,u,h){let f=n+mt,m=e.firstCreatePass?XS(f,e,t,r,i,o,s,c,u):e.data[f];Ao(m,!1);let D=eA(e,t,m,n);Ud()&&nh(e,t,D,m),ar(D,t);let b=T_(D,t,D,m);return t[f]=b,Ja(t,b),kS(b,m,t),kd(m)&&v_(e,t,m),u!=null&&__(t,m,h),m}function Vt(t,e,n,r,i,o,s,c){let u=de(),h=Xe(),f=Ea(h.consts,o);return z_(u,h,t,e,n,r,i,f,s,c),Vt}var eA=tA;function tA(t,e,n,r){return $d(!0),e[Se].createComment("")}var W_=new H("");function si(t){return!!t&&typeof t.then=="function"}function lh(t){return!!t&&typeof t.subscribe=="function"}var nA=new H("");var K_=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=q(nA,{optional:!0})??[];injector=q(Ct);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Qy(this.injector,i);if(si(o))n.push(o);else if(lh(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rA=(()=>{class t{static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new vd})}return t})(),vd=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},iA=new H("");function oA(){Ig(()=>{throw new U(600,!1)})}function sA(t){return t.isBoundToModule}var aA=10;function cA(t,e,n){try{let r=n();return si(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Dn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=q(kT);afterRenderManager=q(qT);zonelessEnabled=q(zd);rootEffectScheduler=q(rA);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Qt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=q(Ga).hasPendingTasks.pipe(Xn(n=>!n));constructor(){q(Kv,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=q(Pt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ra;if(!this._injector.get(K_).done){let D=!i&&Tb(n),b=!1;throw new U(405,b)}let s;i?s=n:s=this._injector.get(wo).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let c=sA(s)?void 0:this._injector.get(Xr),u=r||s.selector,h=s.create(Ct.NULL,[],u,c),f=h.location.nativeElement,m=h.injector.get(W_,null);return m?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),la(this.components,h),m?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Wv.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new U(101,!1);let n=ee(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ee(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<aA;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)uA(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ha(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;la(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(iA,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>la(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function la(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function uA(t,e,n,r){if(!n&&!Ha(t))return;P_(t,e,n&&!r?0:1)}function Q_(t,e,n,r){return Mo(t,Vd(),n)?e+xd(n)+r:Nn}function sa(t,e){return t<<17|e<<2}function ur(t){return t>>17&32767}function lA(t){return(t&2)==2}function dA(t,e){return t&131071|e<<17}function _d(t){return t|2}function ei(t){return(t&131068)>>2}function Pl(t,e){return t&-131069|e<<2}function hA(t){return(t&1)===1}function Id(t){return t|1}function fA(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ur(s),u=ei(s);t[r]=n;let h=!1,f;if(Array.isArray(n)){let m=n;f=m[1],(f===null||Co(m,f)>0)&&(h=!0)}else f=n;if(i)if(u!==0){let D=ur(t[c+1]);t[r+1]=sa(D,c),D!==0&&(t[D+1]=Pl(t[D+1],r)),t[c+1]=dA(t[c+1],r)}else t[r+1]=sa(c,0),c!==0&&(t[c+1]=Pl(t[c+1],r)),c=r;else t[r+1]=sa(u,0),c===0?c=r:t[u+1]=Pl(t[u+1],r),u=r;h&&(t[r+1]=_d(t[r+1])),wy(t,f,r,!0),wy(t,f,r,!1),pA(e,f,t,r,o),s=sa(c,u),o?e.classBindings=s:e.styleBindings=s}function pA(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Co(o,e)>=0&&(n[r+1]=Id(n[r+1]))}function wy(t,e,n,r){let i=t[n+1],o=e===null,s=r?ur(i):ei(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],h=t[s+1];mA(u,e)&&(c=!0,t[s+1]=r?Id(h):_d(h)),s=r?ur(h):ei(h)}c&&(t[n+1]=r?_d(i):Id(i))}function mA(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Co(t,e)>=0:!1}function Be(t,e,n){let r=de(),i=Vd();if(Mo(r,i,e)){let o=Xe(),s=Bd();sh(o,s,r,t,e,r[Se],n,!1)}return Be}function Dy(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";ah(t,n,o[s],s,r)}function Mn(t,e){return gA(t,e,null,!0),Mn}function gA(t,e,n,r){let i=de(),o=Xe(),s=tT(2);if(o.firstUpdatePass&&vA(o,t,s,r),e!==Nn&&Mo(i,s,e)){let c=o.data[ri()];DA(o,c,i,i[Se],t,i[s+1]=bA(e,n),r,s)}}function yA(t,e){return e>=t.expandoStartIndex}function vA(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ri()],s=yA(t,n);TA(o,r)&&e===null&&!s&&(e=!1),e=_A(i,o,e,r),fA(i,o,e,n,s,r)}}function _A(t,e,n,r){let i=oT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=kl(null,t,e,n,r),n=bo(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=kl(i,t,e,n,r),o===null){let u=IA(t,e,r);u!==void 0&&Array.isArray(u)&&(u=kl(null,t,e,u[1],r),u=bo(u,e.attrs,r),EA(t,e,r,u))}else o=wA(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function IA(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ei(r)!==0)return t[ur(r)]}function EA(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ur(i)]=r}function wA(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=bo(r,s,n)}return bo(r,e.attrs,n)}function kl(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=bo(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function bo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Db(t,s,n?!0:e[++o]))}return t===void 0?null:t}function DA(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,h=u[c+1],f=hA(h)?by(u,e,n,i,ei(h),s):void 0;if(!ka(f)){ka(o)||lA(h)&&(o=by(u,null,n,i,c,s));let m=iv(ri(),n);fC(r,s,m,i,o)}}function by(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],h=Array.isArray(u),f=h?u[1]:u,m=f===null,D=n[i+1];D===Nn&&(D=m?ht:void 0);let b=m?Tl(D,r):f===r?D:void 0;if(h&&!ka(b)&&(b=Tl(u,r)),ka(b)&&(c=b,s))return c;let N=t[i+1];i=s?ur(N):ei(N)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Tl(u,r))}return c}function ka(t){return t!==void 0}function bA(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=st(Ka(t)))),t}function TA(t,e){return(t.flags&(e?8:16))!==0}function CA(t,e,n,r,i,o){let s=e.consts,c=Ea(s,i),u=No(e,t,2,r,c);return E_(e,n,u,Ea(s,o)),u.attrs!==null&&md(u,u.attrs,!1),u.mergedAttrs!==null&&md(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function A(t,e,n,r){let i=de(),o=Xe(),s=mt+t,c=i[Se],u=o.firstCreatePass?CA(s,o,i,e,n,r):o.data[s],h=SA(o,i,u,c,e,t);i[s]=h;let f=kd(u);return Ao(u,!0),l_(c,h,u),!ZS(u)&&Ud()&&nh(o,i,h,u),Wb()===0&&ar(h,i),Kb(),f&&(v_(o,i,u),y_(o,u,i)),r!==null&&__(i,u),A}function x(){let t=rt();dv()?hv():(t=t.parent,Ao(t,!1));let e=t;Yb(e)&&Jb(),Qb();let n=Xe();return n.firstCreatePass&&(Hd(n,t),Zy(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&hT(e)&&Dy(n,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&fT(e)&&Dy(n,e,de(),e.stylesWithoutHost,!1),x}function pe(t,e,n,r){return A(t,e,n,r),x(),pe}var SA=(t,e,n,r,i,o)=>($d(!0),Xv(r,i,cT()));function ec(){return de()}var Oa="en-US";var AA=Oa;function NA(t){typeof t=="string"&&(AA=t.toLowerCase().replace(/_/g,"-"))}var xA=(t,e,n)=>{};function ue(t,e,n,r){let i=de(),o=Xe(),s=rt();return Y_(o,i,i[Se],s,t,e,r),ue}function MA(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[ga],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function Y_(t,e,n,r,i,o,s){let c=kd(r),h=t.firstCreatePass&&YC(t),f=e[Tt],m=QC(e),D=!0;if(r.type&3||s){let F=St(r,e),O=s?s(F):F,B=m.length,G=s?ce=>s(kt(ce[r.index])):r.index,X=null;if(!s&&c&&(X=MA(t,e,i,r.index)),X!==null){let ce=X.__ngLastListenerFn__||X;ce.__ngNextListenerFn__=o,X.__ngLastListenerFn__=o,D=!1}else{o=Cy(r,e,f,o),xA(F,i,o);let ce=n.listen(O,i,o);m.push(o,ce),h&&h.push(i,G,B,B+1)}}else o=Cy(r,e,f,o);let b=r.outputs,N;if(D&&b!==null&&(N=b[i])){let F=N.length;if(F)for(let O=0;O<F;O+=2){let B=N[O],G=N[O+1],Ve=e[B][G].subscribe(o),ie=m.length;m.push(o,Ve),h&&h.push(i,r.index,ie,-(ie+1))}}}function Ty(t,e,n,r){let i=ee(null);try{return Mt(6,e,n),n(r)!==!1}catch(o){return S_(t,o),!1}finally{Mt(7,e,n),ee(i)}}function Cy(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Tn(t.index,e):e;uh(s,5);let c=Ty(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)c=Ty(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function Lt(t=1){return aT(t)}function RA(t,e){let n=null,r=IC(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?h_(t,o,!0):DC(r,o))return i}return n}function J_(t){let e=de()[pt][nt];if(!e.projection){let n=t?t.length:1,r=e.projection=Eb(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?RA(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Z_(t,e=0,n,r,i,o){let s=de(),c=Xe(),u=r?t+1:null;u!==null&&z_(s,c,u,r,i,o,null,n);let h=No(c,mt+t,16,null,n||null);h.projection===null&&(h.projection=e),hv();let m=!s[vo]||uv();s[pt][nt].projection[h.projection]===null&&u!==null?PA(s,c,u):m&&(h.flags&32)!==32&&dC(c,s,h)}function PA(t,e,n){let r=mt+n,i=e.data[r],o=t[r],s=hd(o,i.tView.ssrId),c=A_(t,i,void 0,{dehydratedView:s});N_(o,c,0,ld(i,s))}function tc(t,e,n){return X_(t,"",e,"",n),tc}function X_(t,e,n,r,i){let o=de(),s=Q_(o,e,n,r);if(s!==Nn){let c=Xe(),u=Bd();sh(c,u,o,t,s,o[Se],i,!1)}return X_}function kA(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function R(t,e=""){let n=de(),r=Xe(),i=t+mt,o=r.firstCreatePass?No(r,i,1,e,null):r.data[i],s=OA(r,n,o,e,t);n[i]=s,Ud()&&nh(r,n,s,o),Ao(o,!1)}var OA=(t,e,n,r,i)=>($d(!0),ZT(e[Se],r));function yt(t){return ct("",t,""),yt}function ct(t,e,n){let r=de(),i=Q_(r,t,e,n);return i!==Nn&&JC(r,ri(),i),ct}function dh(t,e,n){j_(e)&&(e=e());let r=de(),i=Vd();if(Mo(r,i,e)){let o=Xe(),s=Bd();sh(o,s,r,t,e,r[Se],n,!1)}return dh}function eI(t,e){let n=j_(t);return n&&t.set(e),n}function hh(t,e){let n=de(),r=Xe(),i=rt();return Y_(r,n,n[Se],i,t,e),hh}function FA(t,e,n){let r=Xe();if(r.firstCreatePass){let i=En(t);Ed(n,r.data,r.blueprint,i,!0),Ed(e,r.data,r.blueprint,i,!1)}}function Ed(t,e,n,r,i){if(t=Ye(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ed(t[o],e,n,r,i);else{let o=Xe(),s=de(),c=rt(),u=Wr(t)?t:Ye(t.provide),h=Ky(t),f=c.providerIndexes&1048575,m=c.directiveStart,D=c.providerIndexes>>20;if(Wr(t)||!t.multi){let b=new sr(h,i,W),N=Fl(u,e,i?f:f+D,m);N===-1?(Zl(Ta(c,s),o,u),Ol(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(b),s.push(b)):(n[N]=b,s[N]=b)}else{let b=Fl(u,e,f+D,m),N=Fl(u,e,f,f+D),F=b>=0&&n[b],O=N>=0&&n[N];if(i&&!O||!i&&!F){Zl(Ta(c,s),o,u);let B=jA(i?LA:VA,n.length,i,r,h);!i&&O&&(n[N].providerFactory=B),Ol(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(B),s.push(B)}else{let B=tI(n[i?N:b],h,!i&&r);Ol(o,t,b>-1?b:N,B)}!i&&r&&O&&n[N].componentProviders++}}}function Ol(t,e,n,r){let i=Wr(e),o=xb(e);if(i||o){let u=(o?Ye(e.useClass):e).prototype.ngOnDestroy;if(u){let h=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=h.indexOf(n);f===-1?h.push(n,[r,u]):h[f+1].push(r,u)}else h.push(n,u)}}}function tI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Fl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function VA(t,e,n,r){return wd(this.multi,[])}function LA(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=Jr(n,n[Q],this.providerFactory.index,r);o=c.slice(0,s),wd(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],wd(i,o);return o}function wd(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function jA(t,e,n,r,i){let o=new sr(t,n,W);return o.multi=[],o.index=e,o.componentProviders=0,tI(o,i,r&&!n),o}function nc(t,e=[]){return n=>{n.providersResolver=(r,i)=>FA(r,i?i(t):t,e)}}function BA(t,e){let n=t[e];return n===Nn?void 0:n}function UA(t,e,n,r,i,o){let s=e+n;return Mo(t,s,i)?JS(t,s+1,o?r.call(o,i):r(i)):BA(t,s+1)}function ai(t,e){let n=Xe(),r,i=t+mt;n.firstCreatePass?(r=$A(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=tr(r.type,!0)),s,c=tt(W);try{let u=ba(!1),h=o();return ba(u),kA(n,de(),i,h),h}finally{tt(c)}}function $A(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function ci(t,e,n){let r=t+mt,i=de(),o=Hb(i,r);return HA(i,r)?UA(i,Xb(),e,o.transform,n,o):o.transform(n)}function HA(t,e){return t[Q].data[e].pure}var bn=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},nI=new bn("19.0.6");var qA=(()=>{class t{zone=q(Ie);changeDetectionScheduler=q(Eo);applicationRef=q(Dn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GA({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ie(he($({},zA()),{scheduleInRootZone:n})),[{provide:Ie,useFactory:t},{provide:go,multi:!0,useFactory:()=>{let r=q(qA,{optional:!0});return()=>r.initialize()}},{provide:go,multi:!0,useFactory:()=>{let r=q(WA);return()=>{r.initialize()}}},e===!0?{provide:kv,useValue:!0}:[],{provide:Ov,useValue:n??Pv}]}function zA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var WA=(()=>{class t{subscription=new je;initialized=!1;zone=q(Ie);pendingTasks=q(Ga);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var KA=(()=>{class t{appRef=q(Dn);taskService=q(Ga);ngZone=q(Ie);zonelessEnabled=q(zd);tracing=q(Kv,{optional:!0});disableScheduling=q(kv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Sa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(q(Ov,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof rd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?sy:Fv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Sa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function QA(){return typeof $localize<"u"&&$localize.locale||Oa}var fh=new H("",{providedIn:"root",factory:()=>q(fh,Y.Optional|Y.SkipSelf)||QA()});var Dd=new H(""),YA=new H("");function lo(t){return!t.moduleRef}function JA(t){let e=lo(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{lo(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Jt,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),lo(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Dd);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Dd);s.add(o),t.moduleRef.onDestroy(()=>{la(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return cA(r,n,()=>{let o=e.get(K_);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(fh,Oa);if(NA(s||Oa),!e.get(YA,!0))return lo(t)?e.get(Dn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(lo(t)){let u=e.get(Dn);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return ZA(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function ZA(t,e){let n=t.injector.get(Dn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new U(-403,!1);e.push(t)}var da=null;function XA(t=[],e){return Ct.create({name:e,providers:[{provide:La,useValue:"platform"},{provide:Dd,useValue:new Set([()=>da=null])},...t]})}function eN(t=[]){if(da)return da;let e=XA(t);return da=e,oA(),tN(e),e}function tN(t){let e=t.get(Yd,null);Qy(t,()=>{e?.forEach(n=>n())})}var rc=(()=>{class t{static __NG_ELEMENT_ID__=nN}return t})();function nN(t){return rN(rt(),de(),(t&16)===16)}function rN(t,e,n){if(Ua(t)&&!n){let r=Tn(t.index,e);return new cr(r,r)}else if(t.type&175){let r=e[pt];return new cr(r,e)}return null}var bd=class{constructor(){}supports(e){return G_(e)}create(e){return new Td(e)}},iN=(t,e)=>e,Td=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||iN}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Sy(r,i,o)?n:r,c=Sy(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let h=c-i,f=u-i;if(h!=f){for(let D=0;D<h;D++){let b=D<o.length?o[D]:o[D]=0,N=b+D;f<=N&&N<h&&(o[D]=b+1)}let m=s.previousIndex;o[m]=f-h}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!G_(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,QS(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Cd(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Fa),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Cd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Sd=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Fa=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Sd,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Sy(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Ay(){return new ph([new bd])}var ph=(()=>{class t{factories;static \u0275prov=ae({token:t,providedIn:"root",factory:Ay});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Ay()),deps:[[t,new Ib,new Ft]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new U(901,!1)}}return t})();function rI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=eN(r),o=[GA({}),{provide:Eo,useExisting:KA},...n||[]],s=new Pa({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return JA({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Ro(t,e){Wa("NgSignals");let n=yg(t);return e?.equal&&(n[ot].equal=e.equal),n}function At(t){let e=ee(null);try{return t()}finally{ee(e)}}var Ny=class{[ot];constructor(e){this[ot]=e}destroy(){this[ot].destroy()}};function iI(t,e){let n=nr(t),r=e.elementInjector||ja();return new Do(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var aI=null;function ui(){return aI}function cI(t){aI??=t}var ic=class{};var Rn=new H("");function uI(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var mh=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},li=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new mh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),oI(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);oI(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(W(Xa),W(Za),W(ph))};static \u0275dir=gt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function oI(t,e){t.context.$implicit=e.item}var lI=(()=>{class t{_viewContainer;_context=new gh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){sI("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){sI("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(W(Xa),W(Za))};static \u0275dir=gt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),gh=class{$implicit=null;ngIf=null};function sI(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${st(e)}'.`)}function sN(t,e){return new U(2100,!1)}var yh=class{createSubscription(e,n){return At(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){At(()=>e.unsubscribe())}},vh=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},aN=new vh,cN=new yh,sc=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(si(n))return aN;if(lh(n))return cN;throw sN(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(W(rc,16))};static \u0275pipe=$_({name:"async",type:t,pure:!1})}return t})();var De=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=hr({type:t});static \u0275inj=lr({})}return t})(),dI="browser",uN="server";function _h(t){return t===uN}var oc=class{};var Eh=class extends ic{supportsDOMEvents=!0},wh=class t extends Eh{static makeCurrent(){cI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=dN();return n==null?null:hN(n)}resetBaseElement(){Po=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uI(document.cookie,e)}},Po=null;function dN(){return Po=Po||document.querySelector("base"),Po?Po.getAttribute("href"):null}function hN(t){return new URL(t,document.baseURI).pathname}var fN=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),Dh=new H(""),yI=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(te(Dh),te(Ie))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),uc=class{_doc;constructor(e){this._doc=e}manager},cc="ng-app-id";function hI(t){for(let e of t)e.remove()}function fI(t,e){let n=e.createElement("style");return n.textContent=t,n}function pN(t,e,n,r){let i=t.head?.querySelectorAll(`style[${cc}="${e}"],link[${cc}="${e}"]`);if(i)for(let o of i)o.removeAttribute(cc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function bh(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var vI=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=_h(o),pN(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,fI);r?.forEach(i=>this.addUsage(i,this.external,bh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(hI(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])hI(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,fI(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,bh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(cc,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(te(Rn),te(Qd),te(Jd,8),te(An))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),Ih={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ch=/%COMP%/g,_I="%COMP%",mN=`_nghost-${_I}`,gN=`_ngcontent-${_I}`,yN=!0,vN=new H("",{providedIn:"root",factory:()=>yN});function _N(t){return gN.replace(Ch,t)}function IN(t){return mN.replace(Ch,t)}function II(t,e){return e.map(n=>n.replace(Ch,t))}var pI=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,u,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=h,this.platformIsServer=_h(c),this.defaultRenderer=new ko(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ot.ShadowDom&&(r=he($({},r),{encapsulation:Ot.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof lc?i.applyToHost(n):i instanceof Oo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Ot.Emulated:o=new lc(u,h,r,this.appId,f,s,c,m);break;case Ot.ShadowDom:return new Th(u,h,n,r,s,c,this.nonce,m);default:o=new Oo(u,h,r,f,s,c,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(te(yI),te(vI),te(Qd),te(vN),te(Rn),te(An),te(Ie),te(Jd))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),ko=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Ih[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(mI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(mI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ih[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ih[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Zt.DashCase|Zt.Important)?e.style.setProperty(n,r,i&Zt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Zt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ui().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function mI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Th=class extends ko{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=II(i.id,i.styles);for(let m of h){let D=document.createElement("style");c&&D.setAttribute("nonce",c),D.textContent=m,this.shadowRoot.appendChild(D)}let f=i.getExternalStyles?.();if(f)for(let m of f){let D=bh(m,o);c&&D.setAttribute("nonce",c),this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Oo=class extends ko{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?II(u,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},lc=class extends Oo{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,u){let h=i+"-"+r.id;super(e,n,r,o,s,c,u,h),this.contentAttr=_N(h),this.hostAttr=IN(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},EN=(()=>{class t extends uc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||t)(te(Rn))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),gI=["alt","control","meta","shift"],wN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},bN=(()=>{class t extends uc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ui().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),gI.forEach(h=>{let f=r.indexOf(h);f>-1&&(r.splice(f,1),s+=h+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=wN[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),gI.forEach(s=>{if(s!==i){let c=DN[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(te(Rn))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})();function EI(t,e){return rI($({rootComponent:t},TN(e)))}function TN(t){return{appProviders:[...xN,...t?.providers??[]],platformProviders:NN}}function CN(){wh.makeCurrent()}function SN(){return new Jt}function AN(){return Gv(document),document}var NN=[{provide:An,useValue:dI},{provide:Yd,useValue:CN,multi:!0},{provide:Rn,useFactory:AN,deps:[]}];var xN=[{provide:La,useValue:"root"},{provide:Jt,useFactory:SN,deps:[]},{provide:Dh,useClass:EN,multi:!0,deps:[Rn,Ie,An]},{provide:Dh,useClass:bN,multi:!0,deps:[Rn]},pI,vI,yI,{provide:Zr,useExisting:pI},{provide:oc,useClass:fN,deps:[]},[]];var DI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MN=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},bI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=o>>2,m=(o&3)<<4|c>>4,D=(c&15)<<2|h>>6,b=h&63;u||(b=64,s||(D=64)),r.push(n[f],n[m],n[D],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let h=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||h==null||m==null)throw new Ah;let D=o<<2|c>>4;if(r.push(D),h!==64){let b=c<<4&240|h>>2;if(r.push(b),m!==64){let N=h<<6&192|m;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ah=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},RN=function(t){let e=DI(t);return bI.encodeByteArray(e,!0)},Fo=function(t){return RN(t).replace(/\./g,"")},xh=function(t){try{return bI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var kN=()=>PN().__FIREBASE_DEFAULTS__,ON=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&xh(t[1]);return e&&JSON.parse(e)},hc=()=>{try{return kN()||ON()||FN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TI=t=>{var e,n;return(n=(e=hc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CI=t=>{let e=TI(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mh=()=>{var t;return(t=hc())===null||t===void 0?void 0:t.config},SI=t=>{var e;return(e=hc())===null||e===void 0?void 0:e[`_${t}`]};var dc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function AI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fo(JSON.stringify(n)),Fo(JSON.stringify(s)),""].join(".")}function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function VN(){var t;let e=(t=hc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MI(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PI(){return!VN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rh(){try{return typeof indexedDB=="object"}catch{return!1}}function kI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var LN="FirebaseError",vt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tn.prototype.create)}},tn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?jN(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new vt(i,c,r)}};function jN(t,e){return t.replace(BN,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var BN=/\{\$([^}]+)}/g;function di(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(wI(o)&&wI(s)){if(!di(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function wI(t){return t!==null&&typeof t=="object"}function Ph(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function OI(t,e){let n=new Nh(t,e);return n.subscribe.bind(n)}var Nh=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sh),i.error===void 0&&(i.error=Sh),i.complete===void 0&&(i.complete=Sh);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function UN(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sh(){}var FL=4*60*60*1e3;function Nt(t){return t&&t._delegate?t._delegate:t}var _t=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fr="[DEFAULT]";var kh=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new dc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HN(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$N(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $N(t){return t===fr?void 0:t}function HN(t){return t.instantiationMode==="EAGER"}var fc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new kh(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var qN=[],J=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(J||{}),GN={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},zN=J.INFO,WN={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},KN=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=WN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Pn=class{constructor(e){this.name=e,this._logLevel=zN,this._logHandler=KN,this._userLogHandler=null,qN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}};var QN=(t,e)=>e.some(n=>t instanceof n),FI,VI;function YN(){return FI||(FI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JN(){return VI||(VI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var LI=new WeakMap,Fh=new WeakMap,jI=new WeakMap,Oh=new WeakMap,Lh=new WeakMap;function ZN(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(jt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&LI.set(n,t)}).catch(()=>{}),Lh.set(e,t),e}function XN(t){if(Fh.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Fh.set(t,e)}var Vh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BI(t){Vh=t(Vh)}function ex(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(pc(this),e,...n);return jI.set(r,e.sort?e.sort():[e]),jt(r)}:JN().includes(t)?function(...e){return t.apply(pc(this),e),jt(LI.get(this))}:function(...e){return jt(t.apply(pc(this),e))}}function tx(t){return typeof t=="function"?ex(t):(t instanceof IDBTransaction&&XN(t),QN(t,YN())?new Proxy(t,Vh):t)}function jt(t){if(t instanceof IDBRequest)return ZN(t);if(Oh.has(t))return Oh.get(t);let e=tx(t);return e!==t&&(Oh.set(t,e),Lh.set(e,t)),e}var pc=t=>Lh.get(t);function $I(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=jt(s);return r&&s.addEventListener("upgradeneeded",u=>{r(jt(s.result),u.oldVersion,u.newVersion,jt(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var nx=["get","getKey","getAll","getAllKeys","count"],rx=["put","add","delete","clear"],jh=new Map;function UI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jh.get(e))return jh.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=rx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nx.includes(n)))return;let o=function(s,...c){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),h=u.store;return r&&(h=h.index(c.shift())),(yield Promise.all([h[n](...c),i&&u.done]))[0]})};return jh.set(e,o),o}BI(t=>he($({},t),{get:(e,n,r)=>UI(e,n)||t.get(e,n,r),has:(e,n)=>!!UI(e,n)||t.has(e,n)}));var Uh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ix(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function ix(t){let e=t.getComponent();return e?.type==="VERSION"}var $h="@firebase/app",HI="0.10.13";var nn=new Pn("@firebase/app"),ox="@firebase/app-compat",sx="@firebase/analytics-compat",ax="@firebase/analytics",cx="@firebase/app-check-compat",ux="@firebase/app-check",lx="@firebase/auth",dx="@firebase/auth-compat",hx="@firebase/database",fx="@firebase/data-connect",px="@firebase/database-compat",mx="@firebase/functions",gx="@firebase/functions-compat",yx="@firebase/installations",vx="@firebase/installations-compat",_x="@firebase/messaging",Ix="@firebase/messaging-compat",Ex="@firebase/performance",wx="@firebase/performance-compat",Dx="@firebase/remote-config",bx="@firebase/remote-config-compat",Tx="@firebase/storage",Cx="@firebase/storage-compat",Sx="@firebase/firestore",Ax="@firebase/vertexai-preview",Nx="@firebase/firestore-compat",xx="firebase",Mx="10.14.1";var Hh="[DEFAULT]",Rx={[$h]:"fire-core",[ox]:"fire-core-compat",[ax]:"fire-analytics",[sx]:"fire-analytics-compat",[ux]:"fire-app-check",[cx]:"fire-app-check-compat",[lx]:"fire-auth",[dx]:"fire-auth-compat",[hx]:"fire-rtdb",[fx]:"fire-data-connect",[px]:"fire-rtdb-compat",[mx]:"fire-fn",[gx]:"fire-fn-compat",[yx]:"fire-iid",[vx]:"fire-iid-compat",[_x]:"fire-fcm",[Ix]:"fire-fcm-compat",[Ex]:"fire-perf",[wx]:"fire-perf-compat",[Dx]:"fire-rc",[bx]:"fire-rc-compat",[Tx]:"fire-gcs",[Cx]:"fire-gcs-compat",[Sx]:"fire-fst",[Nx]:"fire-fst-compat",[Ax]:"fire-vertex","fire-js":"fire-js",[xx]:"fire-js-all"};var Vo=new Map,Px=new Map,qh=new Map;function qI(t,e){try{t.container.addComponent(e)}catch(n){nn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function On(t){let e=t.name;if(qh.has(e))return nn.debug(`There were multiple attempts to register component ${e}.`),!1;qh.set(e,t);for(let n of Vo.values())qI(n,t);for(let n of Px.values())qI(n,t);return!0}function Kh(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hi(t){return t.settings!==void 0}var kx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kn=new tn("app","Firebase",kx);var Gh=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}};var fi=Mx;function Qh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Hh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw kn.create("bad-app-name",{appName:String(i)});if(n||(n=Mh()),!n)throw kn.create("no-options");let o=Vo.get(i);if(o){if(di(n,o.options)&&di(r,o.config))return o;throw kn.create("duplicate-app",{appName:i})}let s=new fc(i);for(let u of qh.values())s.addComponent(u);let c=new Gh(n,r,s);return Vo.set(i,c),c}function jo(t=Hh){let e=Vo.get(t);if(!e&&t===Hh&&Mh())return Qh();if(!e)throw kn.create("no-app",{appName:t});return e}function mc(){return Array.from(Vo.values())}function ke(t,e,n){var r;let i=(r=Rx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nn.warn(c.join(" "));return}On(new _t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Ox="firebase-heartbeat-database",Fx=1,Lo="firebase-heartbeat-store",Bh=null;function KI(){return Bh||(Bh=$I(Ox,Fx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lo)}catch(n){console.warn(n)}}}}).catch(t=>{throw kn.create("idb-open",{originalErrorMessage:t.message})})),Bh}function Vx(t){return S(this,null,function*(){try{let n=(yield KI()).transaction(Lo),r=yield n.objectStore(Lo).get(QI(t));return yield n.done,r}catch(e){if(e instanceof vt)nn.warn(e.message);else{let n=kn.create("idb-get",{originalErrorMessage:e?.message});nn.warn(n.message)}}})}function GI(t,e){return S(this,null,function*(){try{let r=(yield KI()).transaction(Lo,"readwrite");yield r.objectStore(Lo).put(e,QI(t)),yield r.done}catch(n){if(n instanceof vt)nn.warn(n.message);else{let r=kn.create("idb-set",{originalErrorMessage:n?.message});nn.warn(r.message)}}})}function QI(t){return`${t.name}!${t.options.appId}`}var Lx=1024,jx=30*24*60*60*1e3,zh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Wh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=zI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=jx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){nn.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=zI(),{heartbeatsToSend:r,unsentEntries:i}=Bx(this._heartbeatsCache.heartbeats),o=Fo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return nn.warn(n),""}})}};function zI(){return new Date().toISOString().substring(0,10)}function Bx(t,e=Lx){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),WI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Wh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Rh()?kI().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Vx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function WI(t){return Fo(JSON.stringify({version:2,heartbeats:t})).length}function Ux(t){On(new _t("platform-logger",e=>new Uh(e),"PRIVATE")),On(new _t("heartbeat",e=>new zh(e),"PRIVATE")),ke($h,HI,t),ke($h,HI,"esm2017"),ke("fire-js","")}Ux("");var $x="firebase",Hx="10.14.1";ke($x,Hx,"app");var mi=new bn("ANGULARFIRE2_VERSION");function Jh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Uo=(t,e)=>{let n=e?[e]:mc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Bo=class{constructor(){return Uo(qx)}},qx="app-check";function pi(){}var gc=class{zone;delegate;constructor(e,n=Il){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Yh=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pi,{},pi,pi)),n.pipe(bl({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},$o=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new gc(Zone.current)),this.insideAngular=n.run(()=>new gc(Zone.current,_l)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(te(Ie))};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Gx(t){return yc().ngZone.runOutsideAngular(()=>t())}function pr(t){return yc().ngZone.run(()=>t())}function zx(t){return Wx(yc())(t)}function Wx(t){return function(n){return n=n.lift(new Yh(t.ngZone)),n.pipe(yn(t.outsideAngular),gn(t.insideAngular))}}var Kx=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),pr(()=>t.apply(void 0,r))},mr=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=pr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pi,{},pi,pi))),r[o]=Kx(r[o],n));let i=Gx(()=>t.apply(this,r));if(!e)if(i instanceof ge){let o=yc();return i.pipe(yn(o.outsideAngular),gn(o.insideAngular))}else return pr(()=>i);return i instanceof ge?i.pipe(zx):i instanceof Promise?pr(()=>new Promise((o,s)=>i.then(c=>pr(()=>o(c)),c=>pr(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:pr(()=>i)};var gr=class{constructor(e){return e}},Ho=class{constructor(){return mc()}};function Qx(t){return t&&t.length===1?t[0]:new gr(jo())}var Zh=new H("angularfire2._apps"),Yx={provide:gr,useFactory:Qx,deps:[[new Ft,Zh]]},Jx={provide:Ho,deps:[[new Ft,Zh]]};function Zx(t){return(e,n)=>{let r=n.get(An);ke("angularfire",mi.full,"core"),ke("angularfire",mi.full,"app"),ke("angular",nI.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new gr(i)}}function YI(t,...e){return So([Yx,Jx,{provide:Zh,useFactory:Zx(t),multi:!0,deps:[Ie,Ct,$o,...e]}])}var JI=mr(Qh,!0);function oE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var sE=oE,aE=new tn("auth","Firebase",oE());var Ec=new Pn("@firebase/auth");function eM(t,...e){Ec.logLevel<=J.WARN&&Ec.warn(`Auth (${fi}): ${t}`,...e)}function _c(t,...e){Ec.logLevel<=J.ERROR&&Ec.error(`Auth (${fi}): ${t}`,...e)}function ZI(t,...e){throw df(t,...e)}function lf(t,...e){return df(t,...e)}function cE(t,e,n){let r=Object.assign(Object.assign({},sE()),{[e]:n});return new tn("auth","Firebase",r).create(e,{appName:t.name})}function Ic(t){return cE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function df(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aE.create(t,...e)}function le(t,e,...n){if(!t)throw df(e,...n)}function qo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw _c(e),new Error(e)}function wc(t,e){t||qo(e)}function tM(){return XI()==="http:"||XI()==="https:"}function XI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function nM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tM()||MI()||"connection"in navigator)?navigator.onLine:!0}function rM(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var vr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,wc(n>e,"Short delay should be less than long delay!"),this.isMobile=NI()||RI()}get(){return nM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function iM(t,e){wc(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Dc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var oM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var sM=new vr(3e4,6e4);function uE(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Sc(o,s,c,u){return S(this,arguments,function*(t,e,n,r,i={}){return lE(t,i,()=>S(this,null,function*(){let h={},f={};r&&(e==="GET"?f=r:h={body:JSON.stringify(r)});let m=Ph(Object.assign({key:t.config.apiKey},f)).slice(1),D=yield t._getAdditionalHeaders();D["Content-Type"]="application/json",t.languageCode&&(D["X-Firebase-Locale"]=t.languageCode);let b=Object.assign({method:e,headers:D},h);return xI()||(b.referrerPolicy="no-referrer"),Dc.fetch()(dE(t,t.config.apiHost,n,m),b)}))})}function lE(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},oM),e);try{let i=new tf(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw vc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw vc(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw vc(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw cE(t,f,h);ZI(t,f)}}catch(i){if(i instanceof vt)throw i;ZI(t,"network-request-failed",{message:String(i)})}})}function dE(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?iM(t.config,i):`${t.config.apiScheme}://${i}`}var tf=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lf(this.auth,"network-request-failed")),sM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function vc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=lf(t,e,r);return i.customData._tokenResponse=n,i}function aM(t,e){return S(this,null,function*(){return Sc(t,"POST","/v1/accounts:delete",e)})}function hE(t,e){return S(this,null,function*(){return Sc(t,"POST","/v1/accounts:lookup",e)})}function Go(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function hf(t,e=!1){return S(this,null,function*(){let n=Nt(t),r=yield n.getIdToken(e),i=fE(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Go(Xh(i.auth_time)),issuedAtTime:Go(Xh(i.iat)),expirationTime:Go(Xh(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Xh(t){return Number(t)*1e3}function fE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _c("JWT malformed, contained fewer than 3 sections"),null;try{let i=xh(n);return i?JSON.parse(i):(_c("Failed to decode base64 JWT payload"),null)}catch(i){return _c("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eE(t){let e=fE(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function nf(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof vt&&cM(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function cM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var rf=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Wo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bc(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield nf(t,hE(n,{idToken:r}));le(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?pE(o.providerUserInfo):[],c=uM(t.providerData,s),u=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!c?.length,f=u?h:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Wo(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,m)})}function ff(t){return S(this,null,function*(){let e=Nt(t);yield bc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function uM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pE(t){return t.map(e=>{var{providerId:n}=e,r=El(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function lM(t,e){return S(this,null,function*(){let n=yield lE(t,{},()=>S(this,null,function*(){let r=Ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=dE(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Dc.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function dM(t,e){return S(this,null,function*(){return Sc(t,"POST","/v2/accounts:revokeToken",uE(t,e))})}var zo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");let n=eE(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield lM(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(le(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return qo("not implemented")}};function Fn(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ko=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=El(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wo(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield nf(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return hf(this,e)}reload(){return ff(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield bc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(hi(this.auth.app))return Promise.reject(Ic(this.auth));let e=yield this.getIdToken();return yield nf(this,aM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,h,f;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,D=(i=n.email)!==null&&i!==void 0?i:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,N=(s=n.photoURL)!==null&&s!==void 0?s:void 0,F=(c=n.tenantId)!==null&&c!==void 0?c:void 0,O=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,B=(h=n.createdAt)!==null&&h!==void 0?h:void 0,G=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:X,emailVerified:ce,isAnonymous:Ve,providerData:ie,stsTokenManager:I}=n;le(X&&I,e,"internal-error");let g=zo.fromJSON(this.name,I);le(typeof X=="string",e,"internal-error"),Fn(m,e.name),Fn(D,e.name),le(typeof ce=="boolean",e,"internal-error"),le(typeof Ve=="boolean",e,"internal-error"),Fn(b,e.name),Fn(N,e.name),Fn(F,e.name),Fn(O,e.name),Fn(B,e.name),Fn(G,e.name);let y=new t({uid:X,auth:e,email:D,emailVerified:ce,displayName:m,isAnonymous:Ve,photoURL:N,phoneNumber:b,tenantId:F,stsTokenManager:g,createdAt:B,lastLoginAt:G});return ie&&Array.isArray(ie)&&(y.providerData=ie.map(_=>Object.assign({},_))),O&&(y._redirectEventId=O),y}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new zo;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bc(o),o})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];le(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?pE(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new zo;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Wo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,h),u})}};var tE=new Map;function yr(t){wc(t instanceof Function,"Expected a class definition");let e=tE.get(t);return e?(wc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tE.set(t,e),e)}var hM=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),of=hM;function ef(t,e,n){return`firebase:${t}:${e}:${n}`}var Tc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ef(this.userKey,i.apiKey,o),this.fullPersistenceKey=ef("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ko._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(yr(of),e,r);let i=(yield Promise.all(n.map(h=>S(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=i[0]||yr(of),s=ef(r,e.config.apiKey,e.name),c=null;for(let h of n)try{let f=yield h._get(s);if(f){let m=Ko._fromJSON(e,f);h!==o&&(c=m),o=h;break}}catch{}let u=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(h=>S(this,null,function*(){if(h!==o)try{yield h._remove(s)}catch{}}))),new t(o,e,r))})}};function nE(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vM(e))return"Blackberry";if(_M(e))return"Webos";if(pM(e))return"Safari";if((e.includes("chrome/")||mM(e))&&!e.includes("edge/"))return"Chrome";if(yM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fM(t=ut()){return/firefox\//i.test(t)}function pM(t=ut()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mM(t=ut()){return/crios\//i.test(t)}function gM(t=ut()){return/iemobile/i.test(t)}function yM(t=ut()){return/android/i.test(t)}function vM(t=ut()){return/blackberry/i.test(t)}function _M(t=ut()){return/webos/i.test(t)}function mE(t,e=[]){let n;switch(t){case"Browser":n=nE(ut());break;case"Worker":n=`${nE(ut())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fi}/${r}`}var sf=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function IM(n){return S(this,arguments,function*(t,e={}){return Sc(t,"GET","/v2/passwordPolicy",uE(t,e))})}var EM=6,af=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:EM,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var cf=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cc(this),this.idTokenSubscription=new Cc(this),this.beforeStateQueue=new sf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Tc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield hE(this,{idToken:e}),r=yield Ko._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(hi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield bc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=rM()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(hi(this.app))return Promise.reject(Ic(this));let n=e?Nt(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return hi(this.app)?Promise.reject(Ic(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return hi(this.app)?Promise.reject(Ic(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(yr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield IM(this),n=new af(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield dM(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&yr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=yield Tc.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&eM(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function wM(t){return Nt(t)}var Cc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=OI(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var DM={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bM(t){DM=t}function TM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function CM(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var P2=TM("rcb"),k2=new vr(3e4,6e4);var O2=new vr(2e3,1e4);var F2=10*60*1e3;var V2=new vr(3e4,6e4);var L2=new vr(5e3,15e3);var j2=encodeURIComponent("fac");var rE="@firebase/auth",iE="1.7.9";var uf=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function SM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AM(t){On(new _t("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mE(t)},h=new cf(r,i,o,u);return CM(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),On(new _t("auth-internal",e=>{let n=wM(e.getProvider("auth").getImmediate());return(r=>new uf(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ke(rE,iE,SM(t)),ke(rE,iE,"esm2017")}var NM=5*60,B2=SI("authIdTokenMaxAge")||NM;function xM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bM({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=lf("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",xM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AM("Browser");var NR="auth";var Ac=class{constructor(){return Uo(NR)}};var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yE={};var pf,vE;(function(){var t;function e(I,g){function y(){}y.prototype=g.prototype,I.D=g.prototype,I.prototype=new y,I.prototype.constructor=I,I.C=function(_,E,T){for(var v=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)v[zt-2]=arguments[zt];return g.prototype[E].apply(_,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,g,y){y||(y=0);var _=Array(16);if(typeof g=="string")for(var E=0;16>E;++E)_[E]=g.charCodeAt(y++)|g.charCodeAt(y++)<<8|g.charCodeAt(y++)<<16|g.charCodeAt(y++)<<24;else for(E=0;16>E;++E)_[E]=g[y++]|g[y++]<<8|g[y++]<<16|g[y++]<<24;g=I.g[0],y=I.g[1],E=I.g[2];var T=I.g[3],v=g+(T^y&(E^T))+_[0]+3614090360&4294967295;g=y+(v<<7&4294967295|v>>>25),v=T+(E^g&(y^E))+_[1]+3905402710&4294967295,T=g+(v<<12&4294967295|v>>>20),v=E+(y^T&(g^y))+_[2]+606105819&4294967295,E=T+(v<<17&4294967295|v>>>15),v=y+(g^E&(T^g))+_[3]+3250441966&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(T^y&(E^T))+_[4]+4118548399&4294967295,g=y+(v<<7&4294967295|v>>>25),v=T+(E^g&(y^E))+_[5]+1200080426&4294967295,T=g+(v<<12&4294967295|v>>>20),v=E+(y^T&(g^y))+_[6]+2821735955&4294967295,E=T+(v<<17&4294967295|v>>>15),v=y+(g^E&(T^g))+_[7]+4249261313&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(T^y&(E^T))+_[8]+1770035416&4294967295,g=y+(v<<7&4294967295|v>>>25),v=T+(E^g&(y^E))+_[9]+2336552879&4294967295,T=g+(v<<12&4294967295|v>>>20),v=E+(y^T&(g^y))+_[10]+4294925233&4294967295,E=T+(v<<17&4294967295|v>>>15),v=y+(g^E&(T^g))+_[11]+2304563134&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(T^y&(E^T))+_[12]+1804603682&4294967295,g=y+(v<<7&4294967295|v>>>25),v=T+(E^g&(y^E))+_[13]+4254626195&4294967295,T=g+(v<<12&4294967295|v>>>20),v=E+(y^T&(g^y))+_[14]+2792965006&4294967295,E=T+(v<<17&4294967295|v>>>15),v=y+(g^E&(T^g))+_[15]+1236535329&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(E^T&(y^E))+_[1]+4129170786&4294967295,g=y+(v<<5&4294967295|v>>>27),v=T+(y^E&(g^y))+_[6]+3225465664&4294967295,T=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(T^g))+_[11]+643717713&4294967295,E=T+(v<<14&4294967295|v>>>18),v=y+(T^g&(E^T))+_[0]+3921069994&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(E^T&(y^E))+_[5]+3593408605&4294967295,g=y+(v<<5&4294967295|v>>>27),v=T+(y^E&(g^y))+_[10]+38016083&4294967295,T=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(T^g))+_[15]+3634488961&4294967295,E=T+(v<<14&4294967295|v>>>18),v=y+(T^g&(E^T))+_[4]+3889429448&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(E^T&(y^E))+_[9]+568446438&4294967295,g=y+(v<<5&4294967295|v>>>27),v=T+(y^E&(g^y))+_[14]+3275163606&4294967295,T=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(T^g))+_[3]+4107603335&4294967295,E=T+(v<<14&4294967295|v>>>18),v=y+(T^g&(E^T))+_[8]+1163531501&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(E^T&(y^E))+_[13]+2850285829&4294967295,g=y+(v<<5&4294967295|v>>>27),v=T+(y^E&(g^y))+_[2]+4243563512&4294967295,T=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(T^g))+_[7]+1735328473&4294967295,E=T+(v<<14&4294967295|v>>>18),v=y+(T^g&(E^T))+_[12]+2368359562&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(y^E^T)+_[5]+4294588738&4294967295,g=y+(v<<4&4294967295|v>>>28),v=T+(g^y^E)+_[8]+2272392833&4294967295,T=g+(v<<11&4294967295|v>>>21),v=E+(T^g^y)+_[11]+1839030562&4294967295,E=T+(v<<16&4294967295|v>>>16),v=y+(E^T^g)+_[14]+4259657740&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(y^E^T)+_[1]+2763975236&4294967295,g=y+(v<<4&4294967295|v>>>28),v=T+(g^y^E)+_[4]+1272893353&4294967295,T=g+(v<<11&4294967295|v>>>21),v=E+(T^g^y)+_[7]+4139469664&4294967295,E=T+(v<<16&4294967295|v>>>16),v=y+(E^T^g)+_[10]+3200236656&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(y^E^T)+_[13]+681279174&4294967295,g=y+(v<<4&4294967295|v>>>28),v=T+(g^y^E)+_[0]+3936430074&4294967295,T=g+(v<<11&4294967295|v>>>21),v=E+(T^g^y)+_[3]+3572445317&4294967295,E=T+(v<<16&4294967295|v>>>16),v=y+(E^T^g)+_[6]+76029189&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(y^E^T)+_[9]+3654602809&4294967295,g=y+(v<<4&4294967295|v>>>28),v=T+(g^y^E)+_[12]+3873151461&4294967295,T=g+(v<<11&4294967295|v>>>21),v=E+(T^g^y)+_[15]+530742520&4294967295,E=T+(v<<16&4294967295|v>>>16),v=y+(E^T^g)+_[2]+3299628645&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(E^(y|~T))+_[0]+4096336452&4294967295,g=y+(v<<6&4294967295|v>>>26),v=T+(y^(g|~E))+_[7]+1126891415&4294967295,T=g+(v<<10&4294967295|v>>>22),v=E+(g^(T|~y))+_[14]+2878612391&4294967295,E=T+(v<<15&4294967295|v>>>17),v=y+(T^(E|~g))+_[5]+4237533241&4294967295,y=E+(v<<21&4294967295|v>>>11),v=g+(E^(y|~T))+_[12]+1700485571&4294967295,g=y+(v<<6&4294967295|v>>>26),v=T+(y^(g|~E))+_[3]+2399980690&4294967295,T=g+(v<<10&4294967295|v>>>22),v=E+(g^(T|~y))+_[10]+4293915773&4294967295,E=T+(v<<15&4294967295|v>>>17),v=y+(T^(E|~g))+_[1]+2240044497&4294967295,y=E+(v<<21&4294967295|v>>>11),v=g+(E^(y|~T))+_[8]+1873313359&4294967295,g=y+(v<<6&4294967295|v>>>26),v=T+(y^(g|~E))+_[15]+4264355552&4294967295,T=g+(v<<10&4294967295|v>>>22),v=E+(g^(T|~y))+_[6]+2734768916&4294967295,E=T+(v<<15&4294967295|v>>>17),v=y+(T^(E|~g))+_[13]+1309151649&4294967295,y=E+(v<<21&4294967295|v>>>11),v=g+(E^(y|~T))+_[4]+4149444226&4294967295,g=y+(v<<6&4294967295|v>>>26),v=T+(y^(g|~E))+_[11]+3174756917&4294967295,T=g+(v<<10&4294967295|v>>>22),v=E+(g^(T|~y))+_[2]+718787259&4294967295,E=T+(v<<15&4294967295|v>>>17),v=y+(T^(E|~g))+_[9]+3951481745&4294967295,I.g[0]=I.g[0]+g&4294967295,I.g[1]=I.g[1]+(E+(v<<21&4294967295|v>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+T&4294967295}r.prototype.u=function(I,g){g===void 0&&(g=I.length);for(var y=g-this.blockSize,_=this.B,E=this.h,T=0;T<g;){if(E==0)for(;T<=y;)i(this,I,T),T+=this.blockSize;if(typeof I=="string"){for(;T<g;)if(_[E++]=I.charCodeAt(T++),E==this.blockSize){i(this,_),E=0;break}}else for(;T<g;)if(_[E++]=I[T++],E==this.blockSize){i(this,_),E=0;break}}this.h=E,this.o+=g},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var g=1;g<I.length-8;++g)I[g]=0;var y=8*this.o;for(g=I.length-8;g<I.length;++g)I[g]=y&255,y/=256;for(this.u(I),I=Array(16),g=y=0;4>g;++g)for(var _=0;32>_;_+=8)I[y++]=this.g[g]>>>_&255;return I};function o(I,g){var y=c;return Object.prototype.hasOwnProperty.call(y,I)?y[I]:y[I]=g(I)}function s(I,g){this.h=g;for(var y=[],_=!0,E=I.length-1;0<=E;E--){var T=I[E]|0;_&&T==g||(y[E]=T,_=!1)}this.g=y}var c={};function u(I){return-128<=I&&128>I?o(I,function(g){return new s([g|0],0>g?-1:0)}):new s([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return O(h(-I));for(var g=[],y=1,_=0;I>=y;_++)g[_]=I/y|0,y*=4294967296;return new s(g,0)}function f(I,g){if(I.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(I.charAt(0)=="-")return O(f(I.substring(1),g));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=h(Math.pow(g,8)),_=m,E=0;E<I.length;E+=8){var T=Math.min(8,I.length-E),v=parseInt(I.substring(E,E+T),g);8>T?(T=h(Math.pow(g,T)),_=_.j(T).add(h(v))):(_=_.j(y),_=_.add(h(v)))}return _}var m=u(0),D=u(1),b=u(16777216);t=s.prototype,t.m=function(){if(F(this))return-O(this).m();for(var I=0,g=1,y=0;y<this.g.length;y++){var _=this.i(y);I+=(0<=_?_:4294967296+_)*g,g*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N(this))return"0";if(F(this))return"-"+O(this).toString(I);for(var g=h(Math.pow(I,6)),y=this,_="";;){var E=ce(y,g).g;y=B(y,E.j(g));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(I);if(y=E,N(y))return T+_;for(;6>T.length;)T="0"+T;_=T+_}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function N(I){if(I.h!=0)return!1;for(var g=0;g<I.g.length;g++)if(I.g[g]!=0)return!1;return!0}function F(I){return I.h==-1}t.l=function(I){return I=B(this,I),F(I)?-1:N(I)?0:1};function O(I){for(var g=I.g.length,y=[],_=0;_<g;_++)y[_]=~I.g[_];return new s(y,~I.h).add(D)}t.abs=function(){return F(this)?O(this):this},t.add=function(I){for(var g=Math.max(this.g.length,I.g.length),y=[],_=0,E=0;E<=g;E++){var T=_+(this.i(E)&65535)+(I.i(E)&65535),v=(T>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);_=v>>>16,T&=65535,v&=65535,y[E]=v<<16|T}return new s(y,y[y.length-1]&-2147483648?-1:0)};function B(I,g){return I.add(O(g))}t.j=function(I){if(N(this)||N(I))return m;if(F(this))return F(I)?O(this).j(O(I)):O(O(this).j(I));if(F(I))return O(this.j(O(I)));if(0>this.l(b)&&0>I.l(b))return h(this.m()*I.m());for(var g=this.g.length+I.g.length,y=[],_=0;_<2*g;_++)y[_]=0;for(_=0;_<this.g.length;_++)for(var E=0;E<I.g.length;E++){var T=this.i(_)>>>16,v=this.i(_)&65535,zt=I.i(E)>>>16,Ui=I.i(E)&65535;y[2*_+2*E]+=v*Ui,G(y,2*_+2*E),y[2*_+2*E+1]+=T*Ui,G(y,2*_+2*E+1),y[2*_+2*E+1]+=v*zt,G(y,2*_+2*E+1),y[2*_+2*E+2]+=T*zt,G(y,2*_+2*E+2)}for(_=0;_<g;_++)y[_]=y[2*_+1]<<16|y[2*_];for(_=g;_<2*g;_++)y[_]=0;return new s(y,0)};function G(I,g){for(;(I[g]&65535)!=I[g];)I[g+1]+=I[g]>>>16,I[g]&=65535,g++}function X(I,g){this.g=I,this.h=g}function ce(I,g){if(N(g))throw Error("division by zero");if(N(I))return new X(m,m);if(F(I))return g=ce(O(I),g),new X(O(g.g),O(g.h));if(F(g))return g=ce(I,O(g)),new X(O(g.g),g.h);if(30<I.g.length){if(F(I)||F(g))throw Error("slowDivide_ only works with positive integers.");for(var y=D,_=g;0>=_.l(I);)y=Ve(y),_=Ve(_);var E=ie(y,1),T=ie(_,1);for(_=ie(_,2),y=ie(y,2);!N(_);){var v=T.add(_);0>=v.l(I)&&(E=E.add(y),T=v),_=ie(_,1),y=ie(y,1)}return g=B(I,E.j(g)),new X(E,g)}for(E=m;0<=I.l(g);){for(y=Math.max(1,Math.floor(I.m()/g.m())),_=Math.ceil(Math.log(y)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),T=h(y),v=T.j(g);F(v)||0<v.l(I);)y-=_,T=h(y),v=T.j(g);N(T)&&(T=D),E=E.add(T),I=B(I,v)}return new X(E,I)}t.A=function(I){return ce(this,I).h},t.and=function(I){for(var g=Math.max(this.g.length,I.g.length),y=[],_=0;_<g;_++)y[_]=this.i(_)&I.i(_);return new s(y,this.h&I.h)},t.or=function(I){for(var g=Math.max(this.g.length,I.g.length),y=[],_=0;_<g;_++)y[_]=this.i(_)|I.i(_);return new s(y,this.h|I.h)},t.xor=function(I){for(var g=Math.max(this.g.length,I.g.length),y=[],_=0;_<g;_++)y[_]=this.i(_)^I.i(_);return new s(y,this.h^I.h)};function Ve(I){for(var g=I.g.length+1,y=[],_=0;_<g;_++)y[_]=I.i(_)<<1|I.i(_-1)>>>31;return new s(y,I.h)}function ie(I,g){var y=g>>5;g%=32;for(var _=I.g.length-y,E=[],T=0;T<_;T++)E[T]=0<g?I.i(T+y)>>>g|I.i(T+y+1)<<32-g:I.i(T+y);return new s(E,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vE=yE.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=f,pf=yE.Integer=s}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rn={};var mf,xR,gi,gf,Qo,xc,yf,vf,_f;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,d){return a==Array.prototype||a==Object.prototype||(a[l]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var l=0;l<a.length;++l){var d=a[l];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var d=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var w=a[p];if(!(w in d))break e;d=d[w]}a=a[a.length-1],p=d[a],l=l(p),l!=p&&l!=null&&e(d,a,{configurable:!0,writable:!0,value:l})}}function o(a,l){a instanceof String&&(a+="");var d=0,p=!1,w={next:function(){if(!p&&d<a.length){var C=d++;return{value:l(C,a[C]),done:!1}}return p=!0,{done:!0,value:void 0}}};return w[Symbol.iterator]=function(){return w},w}i("Array.prototype.values",function(a){return a||function(){return o(this,function(l,d){return d})}});var s=s||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function h(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,d){return a.call.apply(a.bind,arguments)}function m(a,l,d){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var w=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(w,p),a.apply(l,w)}}return function(){return a.apply(l,arguments)}}function D(a,l,d){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,D.apply(null,arguments)}function b(a,l){var d=Array.prototype.slice.call(arguments,1);return function(){var p=d.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function N(a,l){function d(){}d.prototype=l.prototype,a.aa=l.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(p,w,C){for(var k=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)k[fe-2]=arguments[fe];return l.prototype[w].apply(p,k)}}function F(a){let l=a.length;if(0<l){let d=Array(l);for(let p=0;p<l;p++)d[p]=a[p];return d}return[]}function O(a,l){for(let d=1;d<arguments.length;d++){let p=arguments[d];if(u(p)){let w=a.length||0,C=p.length||0;a.length=w+C;for(let k=0;k<C;k++)a[w+k]=p[k]}else a.push(p)}}class B{constructor(l,d){this.i=l,this.j=d,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function G(a){return/^[\s\xa0]*$/.test(a)}function X(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ce(a){return ce[" "](a),a}ce[" "]=function(){};var Ve=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ie(a,l,d){for(let p in a)l.call(d,a[p],p,a)}function I(a,l){for(let d in a)l.call(void 0,a[d],d,a)}function g(a){let l={};for(let d in a)l[d]=a[d];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(a,l){let d,p;for(let w=1;w<arguments.length;w++){p=arguments[w];for(d in p)a[d]=p[d];for(let C=0;C<y.length;C++)d=y[C],Object.prototype.hasOwnProperty.call(p,d)&&(a[d]=p[d])}}function E(a){var l=1;a=a.split(":");let d=[];for(;0<l&&a.length;)d.push(a.shift()),l--;return a.length&&d.push(a.join(":")),d}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=xu;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class zt{constructor(){this.h=this.g=null}add(l,d){let p=Ui.get();p.set(l,d),this.h?this.h.next=p:this.g=p,this.h=p}}var Ui=new B(()=>new $D,a=>a.reset());class $D{constructor(){this.next=this.g=this.h=null}set(l,d){this.h=l,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let $i,Hi=!1,xu=new zt,cm=()=>{let a=c.Promise.resolve(void 0);$i=()=>{a.then(HD)}};var HD=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(d){T(d)}var l=Ui;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}Hi=!1};function un(){this.s=this.s,this.C=this.C}un.prototype.s=!1,un.prototype.ma=function(){this.s||(this.s=!0,this.N())},un.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ue(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var qD=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let d=()=>{};c.addEventListener("test",d,l),c.removeEventListener("test",d,l)}catch{}return a}();function qi(a,l){if(Ue.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(Ve){e:{try{ce(l.nodeName);var w=!0;break e}catch{}w=!1}w||(l=null)}}else d=="mouseover"?l=a.fromElement:d=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:GD[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&qi.aa.h.call(this)}}N(qi,Ue);var GD={2:"touch",3:"pen",4:"mouse"};qi.prototype.h=function(){qi.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Gi="closure_listenable_"+(1e6*Math.random()|0),zD=0;function WD(a,l,d,p,w){this.listener=a,this.proxy=null,this.src=l,this.type=d,this.capture=!!p,this.ha=w,this.key=++zD,this.da=this.fa=!1}function ps(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ms(a){this.src=a,this.g={},this.h=0}ms.prototype.add=function(a,l,d,p,w){var C=a.toString();a=this.g[C],a||(a=this.g[C]=[],this.h++);var k=Ru(a,l,p,w);return-1<k?(l=a[k],d||(l.fa=!1)):(l=new WD(l,this.src,C,!!p,w),l.fa=d,a.push(l)),l};function Mu(a,l){var d=l.type;if(d in a.g){var p=a.g[d],w=Array.prototype.indexOf.call(p,l,void 0),C;(C=0<=w)&&Array.prototype.splice.call(p,w,1),C&&(ps(l),a.g[d].length==0&&(delete a.g[d],a.h--))}}function Ru(a,l,d,p){for(var w=0;w<a.length;++w){var C=a[w];if(!C.da&&C.listener==l&&C.capture==!!d&&C.ha==p)return w}return-1}var Pu="closure_lm_"+(1e6*Math.random()|0),ku={};function um(a,l,d,p,w){if(p&&p.once)return dm(a,l,d,p,w);if(Array.isArray(l)){for(var C=0;C<l.length;C++)um(a,l[C],d,p,w);return null}return d=Lu(d),a&&a[Gi]?a.K(l,d,h(p)?!!p.capture:!!p,w):lm(a,l,d,!1,p,w)}function lm(a,l,d,p,w,C){if(!l)throw Error("Invalid event type");var k=h(w)?!!w.capture:!!w,fe=Fu(a);if(fe||(a[Pu]=fe=new ms(a)),d=fe.add(l,d,p,k,C),d.proxy)return d;if(p=KD(),d.proxy=p,p.src=a,p.listener=d,a.addEventListener)qD||(w=k),w===void 0&&(w=!1),a.addEventListener(l.toString(),p,w);else if(a.attachEvent)a.attachEvent(fm(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return d}function KD(){function a(d){return l.call(a.src,a.listener,d)}let l=QD;return a}function dm(a,l,d,p,w){if(Array.isArray(l)){for(var C=0;C<l.length;C++)dm(a,l[C],d,p,w);return null}return d=Lu(d),a&&a[Gi]?a.L(l,d,h(p)?!!p.capture:!!p,w):lm(a,l,d,!0,p,w)}function hm(a,l,d,p,w){if(Array.isArray(l))for(var C=0;C<l.length;C++)hm(a,l[C],d,p,w);else p=h(p)?!!p.capture:!!p,d=Lu(d),a&&a[Gi]?(a=a.i,l=String(l).toString(),l in a.g&&(C=a.g[l],d=Ru(C,d,p,w),-1<d&&(ps(C[d]),Array.prototype.splice.call(C,d,1),C.length==0&&(delete a.g[l],a.h--)))):a&&(a=Fu(a))&&(l=a.g[l.toString()],a=-1,l&&(a=Ru(l,d,p,w)),(d=-1<a?l[a]:null)&&Ou(d))}function Ou(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[Gi])Mu(l.i,a);else{var d=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(d,p,a.capture):l.detachEvent?l.detachEvent(fm(d),p):l.addListener&&l.removeListener&&l.removeListener(p),(d=Fu(l))?(Mu(d,a),d.h==0&&(d.src=null,l[Pu]=null)):ps(a)}}}function fm(a){return a in ku?ku[a]:ku[a]="on"+a}function QD(a,l){if(a.da)a=!0;else{l=new qi(l,this);var d=a.listener,p=a.ha||a.src;a.fa&&Ou(a),a=d.call(p,l)}return a}function Fu(a){return a=a[Pu],a instanceof ms?a:null}var Vu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lu(a){return typeof a=="function"?a:(a[Vu]||(a[Vu]=function(l){return a.handleEvent(l)}),a[Vu])}function $e(){un.call(this),this.i=new ms(this),this.M=this,this.F=null}N($e,un),$e.prototype[Gi]=!0,$e.prototype.removeEventListener=function(a,l,d,p){hm(this,a,l,d,p)};function Ke(a,l){var d,p=a.F;if(p)for(d=[];p;p=p.F)d.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new Ue(l,a);else if(l instanceof Ue)l.target=l.target||a;else{var w=l;l=new Ue(p,a),_(l,w)}if(w=!0,d)for(var C=d.length-1;0<=C;C--){var k=l.g=d[C];w=gs(k,p,!0,l)&&w}if(k=l.g=a,w=gs(k,p,!0,l)&&w,w=gs(k,p,!1,l)&&w,d)for(C=0;C<d.length;C++)k=l.g=d[C],w=gs(k,p,!1,l)&&w}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var d=a.g[l],p=0;p<d.length;p++)ps(d[p]);delete a.g[l],a.h--}}this.F=null},$e.prototype.K=function(a,l,d,p){return this.i.add(String(a),l,!1,d,p)},$e.prototype.L=function(a,l,d,p){return this.i.add(String(a),l,!0,d,p)};function gs(a,l,d,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var w=!0,C=0;C<l.length;++C){var k=l[C];if(k&&!k.da&&k.capture==d){var fe=k.listener,Le=k.ha||k.src;k.fa&&Mu(a.i,k),w=fe.call(Le,p)!==!1&&w}}return w&&!p.defaultPrevented}function pm(a,l,d){if(typeof a=="function")d&&(a=D(a,d));else if(a&&typeof a.handleEvent=="function")a=D(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function mm(a){a.g=pm(()=>{a.g=null,a.i&&(a.i=!1,mm(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class YD extends un{constructor(l,d){super(),this.m=l,this.l=d,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:mm(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(a){un.call(this),this.h=a,this.g={}}N(zi,un);var gm=[];function ym(a){ie(a.g,function(l,d){this.g.hasOwnProperty(d)&&Ou(l)},a),a.g={}}zi.prototype.N=function(){zi.aa.N.call(this),ym(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ju=c.JSON.stringify,JD=c.JSON.parse,ZD=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Bu(){}Bu.prototype.h=null;function vm(a){return a.h||(a.h=a.i())}function _m(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Uu(){Ue.call(this,"d")}N(Uu,Ue);function $u(){Ue.call(this,"c")}N($u,Ue);var qn={},Im=null;function ys(){return Im=Im||new $e}qn.La="serverreachability";function Em(a){Ue.call(this,qn.La,a)}N(Em,Ue);function Ki(a){let l=ys();Ke(l,new Em(l))}qn.STAT_EVENT="statevent";function wm(a,l){Ue.call(this,qn.STAT_EVENT,a),this.stat=l}N(wm,Ue);function Qe(a){let l=ys();Ke(l,new wm(l,a))}qn.Ma="timingevent";function Dm(a,l){Ue.call(this,qn.Ma,a),this.size=l}N(Dm,Ue);function Qi(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function Yi(){this.g=!0}Yi.prototype.xa=function(){this.g=!1};function XD(a,l,d,p,w,C){a.info(function(){if(a.g)if(C)for(var k="",fe=C.split("&"),Le=0;Le<fe.length;Le++){var oe=fe[Le].split("=");if(1<oe.length){var He=oe[0];oe=oe[1];var qe=He.split("_");k=2<=qe.length&&qe[1]=="type"?k+(He+"="+oe+"&"):k+(He+"=redacted&")}}else k=null;else k=C;return"XMLHTTP REQ ("+p+") [attempt "+w+"]: "+l+`
`+d+`
`+k})}function e0(a,l,d,p,w,C,k){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+w+"]: "+l+`
`+d+`
`+C+" "+k})}function xr(a,l,d,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+n0(a,d)+(p?" "+p:"")})}function t0(a,l){a.info(function(){return"TIMEOUT: "+l})}Yi.prototype.info=function(){};function n0(a,l){if(!a.g)return l;if(!l)return null;try{var d=JSON.parse(l);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var p=d[a];if(!(2>p.length)){var w=p[1];if(Array.isArray(w)&&!(1>w.length)){var C=w[0];if(C!="noop"&&C!="stop"&&C!="close")for(var k=1;k<w.length;k++)w[k]=""}}}}return ju(d)}catch{return l}}var vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hu;function _s(){}N(_s,Bu),_s.prototype.g=function(){return new XMLHttpRequest},_s.prototype.i=function(){return{}},Hu=new _s;function ln(a,l,d,p){this.j=a,this.i=l,this.l=d,this.R=p||1,this.U=new zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tm}function Tm(){this.i=null,this.g="",this.h=!1}var Cm={},qu={};function Gu(a,l,d){a.L=1,a.v=Ds(Wt(l)),a.m=d,a.P=!0,Sm(a,null)}function Sm(a,l){a.F=Date.now(),Is(a),a.A=Wt(a.v);var d=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),Um(d.i,"t",p),a.C=0,d=a.j.J,a.h=new Tm,a.g=og(a.j,d?l:null,!a.m),0<a.O&&(a.M=new YD(D(a.Y,a,a.g),a.O)),l=a.U,d=a.g,p=a.ca;var w="readystatechange";Array.isArray(w)||(w&&(gm[0]=w.toString()),w=gm);for(var C=0;C<w.length;C++){var k=um(d,w[C],p||l.handleEvent,!1,l.h||l);if(!k)break;l.g[k.key]=k}l=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),Ki(),XD(a.i,a.u,a.A,a.l,a.R,a.m)}ln.prototype.ca=function(a){a=a.target;let l=this.M;l&&Kt(a)==3?l.j():this.Y(a)},ln.prototype.Y=function(a){try{if(a==this.g)e:{let qe=Kt(this.g);var l=this.g.Ba();let Pr=this.g.Z();if(!(3>qe)&&(qe!=3||this.g&&(this.h.h||this.g.oa()||Km(this.g)))){this.J||qe!=4||l==7||(l==8||0>=Pr?Ki(3):Ki(2)),zu(this);var d=this.g.Z();this.X=d;t:if(Am(this)){var p=Km(this.g);a="";var w=p.length,C=Kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gn(this),Ji(this);var k="";break t}this.h.i=new c.TextDecoder}for(l=0;l<w;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(C&&l==w-1)});p.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=d==200,e0(this.i,this.u,this.A,this.l,this.R,qe,d),this.o){if(this.T&&!this.K){t:{if(this.g){var fe,Le=this.g;if((fe=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(fe)){var oe=fe;break t}}oe=null}if(d=oe)xr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wu(this,d);else{this.o=!1,this.s=3,Qe(12),Gn(this),Ji(this);break e}}if(this.P){d=!0;let Et;for(;!this.J&&this.C<k.length;)if(Et=r0(this,k),Et==qu){qe==4&&(this.s=4,Qe(14),d=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Cm){this.s=4,Qe(15),xr(this.i,this.l,k,"[Invalid Chunk]"),d=!1;break}else xr(this.i,this.l,Et,null),Wu(this,Et);if(Am(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||k.length!=0||this.h.h||(this.s=1,Qe(16),d=!1),this.o=this.o&&d,!d)xr(this.i,this.l,k,"[Invalid Chunked Response]"),Gn(this),Ji(this);else if(0<k.length&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.ba&&!He.M&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Xu(He),He.M=!0,Qe(11))}}else xr(this.i,this.l,k,null),Wu(this,k);qe==4&&Gn(this),this.o&&!this.J&&(qe==4?tg(this.j,this):(this.o=!1,Is(this)))}else I0(this.g),d==400&&0<k.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),Gn(this),Ji(this)}}}catch{}finally{}};function Am(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function r0(a,l){var d=a.C,p=l.indexOf(`
`,d);return p==-1?qu:(d=Number(l.substring(d,p)),isNaN(d)?Cm:(p+=1,p+d>l.length?qu:(l=l.slice(p,p+d),a.C=p+d,l)))}ln.prototype.cancel=function(){this.J=!0,Gn(this)};function Is(a){a.S=Date.now()+a.I,Nm(a,a.I)}function Nm(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Qi(D(a.ba,a),l)}function zu(a){a.B&&(c.clearTimeout(a.B),a.B=null)}ln.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(t0(this.i,this.A),this.L!=2&&(Ki(),Qe(17)),Gn(this),this.s=2,Ji(this)):Nm(this,this.S-a)};function Ji(a){a.j.G==0||a.J||tg(a.j,a)}function Gn(a){zu(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,ym(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function Wu(a,l){try{var d=a.j;if(d.G!=0&&(d.g==a||Ku(d.h,a))){if(!a.K&&Ku(d.h,a)&&d.G==3){try{var p=d.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var w=p;if(w[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)As(d),Cs(d);else break e;Zu(d),Qe(18)}}else d.za=w[1],0<d.za-d.T&&37500>w[2]&&d.F&&d.v==0&&!d.C&&(d.C=Qi(D(d.Za,d),6e3));if(1>=Rm(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Wn(d,11)}else if((a.K||d.g==a)&&As(d),!G(l))for(w=d.Da.g.parse(l),l=0;l<w.length;l++){let oe=w[l];if(d.T=oe[0],oe=oe[1],d.G==2)if(oe[0]=="c"){d.K=oe[1],d.ia=oe[2];let He=oe[3];He!=null&&(d.la=He,d.j.info("VER="+d.la));let qe=oe[4];qe!=null&&(d.Aa=qe,d.j.info("SVER="+d.Aa));let Pr=oe[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(p=1.5*Pr,d.L=p,d.j.info("backChannelRequestTimeoutMs_="+p)),p=d;let Et=a.g;if(Et){let xs=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var C=p.h;C.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(Qu(C,C.h),C.h=null))}if(p.D){let el=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(p.ya=el,ve(p.I,p.D,el))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),p=d;var k=a;if(p.qa=ig(p,p.J?p.ia:null,p.W),k.K){Pm(p.h,k);var fe=k,Le=p.L;Le&&(fe.I=Le),fe.B&&(zu(fe),Is(fe)),p.g=k}else Xm(p);0<d.i.length&&Ss(d)}else oe[0]!="stop"&&oe[0]!="close"||Wn(d,7);else d.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?Wn(d,7):Ju(d):oe[0]!="noop"&&d.l&&d.l.ta(oe),d.v=0)}}Ki(4)}catch{}}var i0=class{constructor(a,l){this.g=a,this.map=l}};function xm(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mm(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Rm(a){return a.h?1:a.g?a.g.size:0}function Ku(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function Qu(a,l){a.g?a.g.add(l):a.h=l}function Pm(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}xm.prototype.cancel=function(){if(this.i=km(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function km(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let d of a.g.values())l=l.concat(d.D);return l}return F(a.i)}function o0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],d=a.length,p=0;p<d;p++)l.push(a[p]);return l}l=[],d=0;for(p in a)l[d++]=a[p];return l}function s0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var d=0;d<a;d++)l.push(d);return l}l=[],d=0;for(let p in a)l[d++]=p;return l}}}function Om(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var d=s0(a),p=o0(a),w=p.length,C=0;C<w;C++)l.call(void 0,p[C],d&&d[C],a)}var Fm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function a0(a,l){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var p=a[d].indexOf("="),w=null;if(0<=p){var C=a[d].substring(0,p);w=a[d].substring(p+1)}else C=a[d];l(C,w?decodeURIComponent(w.replace(/\+/g," ")):"")}}}function zn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof zn){this.h=a.h,Es(this,a.j),this.o=a.o,this.g=a.g,ws(this,a.s),this.l=a.l;var l=a.i,d=new eo;d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),Vm(this,d),this.m=a.m}else a&&(l=String(a).match(Fm))?(this.h=!1,Es(this,l[1]||"",!0),this.o=Zi(l[2]||""),this.g=Zi(l[3]||"",!0),ws(this,l[4]),this.l=Zi(l[5]||"",!0),Vm(this,l[6]||"",!0),this.m=Zi(l[7]||"")):(this.h=!1,this.i=new eo(null,this.h))}zn.prototype.toString=function(){var a=[],l=this.j;l&&a.push(Xi(l,Lm,!0),":");var d=this.g;return(d||l=="file")&&(a.push("//"),(l=this.o)&&a.push(Xi(l,Lm,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(Xi(d,d.charAt(0)=="/"?l0:u0,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",Xi(d,h0)),a.join("")};function Wt(a){return new zn(a)}function Es(a,l,d){a.j=d?Zi(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function ws(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function Vm(a,l,d){l instanceof eo?(a.i=l,f0(a.i,a.h)):(d||(l=Xi(l,d0)),a.i=new eo(l,a.h))}function ve(a,l,d){a.i.set(l,d)}function Ds(a){return ve(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Zi(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Xi(a,l,d){return typeof a=="string"?(a=encodeURI(a).replace(l,c0),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function c0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Lm=/[#\/\?@]/g,u0=/[#\?:]/g,l0=/[#\?]/g,d0=/[#\?@]/g,h0=/#/g;function eo(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function dn(a){a.g||(a.g=new Map,a.h=0,a.i&&a0(a.i,function(l,d){a.add(decodeURIComponent(l.replace(/\+/g," ")),d)}))}t=eo.prototype,t.add=function(a,l){dn(this),this.i=null,a=Mr(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(l),this.h+=1,this};function jm(a,l){dn(a),l=Mr(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function Bm(a,l){return dn(a),l=Mr(a,l),a.g.has(l)}t.forEach=function(a,l){dn(this),this.g.forEach(function(d,p){d.forEach(function(w){a.call(l,w,p,this)},this)},this)},t.na=function(){dn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),d=[];for(let p=0;p<l.length;p++){let w=a[p];for(let C=0;C<w.length;C++)d.push(l[p])}return d},t.V=function(a){dn(this);let l=[];if(typeof a=="string")Bm(this,a)&&(l=l.concat(this.g.get(Mr(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)l=l.concat(a[d])}return l},t.set=function(a,l){return dn(this),this.i=null,a=Mr(this,a),Bm(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function Um(a,l,d){jm(a,l),0<d.length&&(a.i=null,a.g.set(Mr(a,l),F(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var d=0;d<l.length;d++){var p=l[d];let C=encodeURIComponent(String(p)),k=this.V(p);for(p=0;p<k.length;p++){var w=C;k[p]!==""&&(w+="="+encodeURIComponent(String(k[p]))),a.push(w)}}return this.i=a.join("&")};function Mr(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function f0(a,l){l&&!a.j&&(dn(a),a.i=null,a.g.forEach(function(d,p){var w=p.toLowerCase();p!=w&&(jm(this,p),Um(this,w,d))},a)),a.j=l}function p0(a,l){let d=new Yi;if(c.Image){let p=new Image;p.onload=b(hn,d,"TestLoadImage: loaded",!0,l,p),p.onerror=b(hn,d,"TestLoadImage: error",!1,l,p),p.onabort=b(hn,d,"TestLoadImage: abort",!1,l,p),p.ontimeout=b(hn,d,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function m0(a,l){let d=new Yi,p=new AbortController,w=setTimeout(()=>{p.abort(),hn(d,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(C=>{clearTimeout(w),C.ok?hn(d,"TestPingServer: ok",!0,l):hn(d,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(w),hn(d,"TestPingServer: error",!1,l)})}function hn(a,l,d,p,w){try{w&&(w.onload=null,w.onerror=null,w.onabort=null,w.ontimeout=null),p(d)}catch{}}function g0(){this.g=new ZD}function y0(a,l,d){let p=d||"";try{Om(a,function(w,C){let k=w;h(w)&&(k=ju(w)),l.push(p+C+"="+encodeURIComponent(k))})}catch(w){throw l.push(p+"type="+encodeURIComponent("_badmap")),w}}function to(a){this.l=a.Ub||null,this.j=a.eb||!1}N(to,Bu),to.prototype.g=function(){return new bs(this.l,this.j)},to.prototype.i=function(a){return function(){return a}}({});function bs(a,l){$e.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(bs,$e),t=bs.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,ro(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,no(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ro(this)),this.g&&(this.readyState=3,ro(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$m(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function $m(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?no(this):ro(this),this.readyState==3&&$m(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,no(this))},t.Qa=function(a){this.g&&(this.response=a,no(this))},t.ga=function(){this.g&&no(this)};function no(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ro(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var d=l.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=l.next();return a.join(`\r
`)};function ro(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Hm(a){let l="";return ie(a,function(d,p){l+=p,l+=":",l+=d,l+=`\r
`}),l}function Yu(a,l,d){e:{for(p in d){var p=!1;break e}p=!0}p||(d=Hm(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):ve(a,l,d))}function Ee(a){$e.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ee,$e);var v0=/^https?$/i,_0=["POST","PUT"];t=Ee.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,d,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hu.g(),this.v=this.o?vm(this.o):vm(Hu),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(C){qm(this,C);return}if(a=d||"",d=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var w in p)d.set(w,p[w]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let C of p.keys())d.set(C,p.get(C));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(d.keys()).find(C=>C.toLowerCase()=="content-type"),w=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(_0,l,void 0))||p||w||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,k]of d)this.g.setRequestHeader(C,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wm(this),this.u=!0,this.g.send(a),this.u=!1}catch(C){qm(this,C)}};function qm(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,Gm(a),Ts(a)}function Gm(a){a.A||(a.A=!0,Ke(a,"complete"),Ke(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ke(this,"complete"),Ke(this,"abort"),Ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),Ee.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zm(this):this.bb())},t.bb=function(){zm(this)};function zm(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Kt(a)!=4||a.Z()!=2)){if(a.u&&Kt(a)==4)pm(a.Ea,0,a);else if(Ke(a,"readystatechange"),Kt(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var d;if(!(d=l)){var p;if(p=k===0){var w=String(a.D).match(Fm)[1]||null;!w&&c.self&&c.self.location&&(w=c.self.location.protocol.slice(0,-1)),p=!v0.test(w?w.toLowerCase():"")}d=p}if(d)Ke(a,"complete"),Ke(a,"success");else{a.m=6;try{var C=2<Kt(a)?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.Z()+"]",Gm(a)}}finally{Ts(a)}}}}function Ts(a,l){if(a.g){Wm(a);let d=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||Ke(a,"ready");try{d.onreadystatechange=p}catch{}}}function Wm(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Kt(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Kt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),JD(l)}};function Km(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function I0(a){let l={};a=(a.g&&2<=Kt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(G(a[p]))continue;var d=E(a[p]);let w=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let C=l[w]||[];l[w]=C,C.push(d)}I(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function io(a,l,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||l}function Qm(a){this.Aa=0,this.i=[],this.j=new Yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=io("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=io("baseRetryDelayMs",5e3,a),this.cb=io("retryDelaySeedMs",1e4,a),this.Wa=io("forwardChannelMaxRetries",2,a),this.wa=io("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new xm(a&&a.concurrentRequestLimit),this.Da=new g0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qm.prototype,t.la=8,t.G=1,t.connect=function(a,l,d,p){Qe(0),this.W=a,this.H=l||{},d&&p!==void 0&&(this.H.OSID=d,this.H.OAID=p),this.F=this.X,this.I=ig(this,null,this.W),Ss(this)};function Ju(a){if(Ym(a),a.G==3){var l=a.U++,d=Wt(a.I);if(ve(d,"SID",a.K),ve(d,"RID",l),ve(d,"TYPE","terminate"),oo(a,d),l=new ln(a,a.j,l),l.L=2,l.v=Ds(Wt(d)),d=!1,c.navigator&&c.navigator.sendBeacon)try{d=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!d&&c.Image&&(new Image().src=l.v,d=!0),d||(l.g=og(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Is(l)}rg(a)}function Cs(a){a.g&&(Xu(a),a.g.cancel(),a.g=null)}function Ym(a){Cs(a),a.u&&(c.clearTimeout(a.u),a.u=null),As(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ss(a){if(!Mm(a.h)&&!a.s){a.s=!0;var l=a.Ga;$i||cm(),Hi||($i(),Hi=!0),xu.add(l,a),a.B=0}}function E0(a,l){return Rm(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Qi(D(a.Ga,a,l),ng(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let w=new ln(this,this.j,a),C=this.o;if(this.S&&(C?(C=g(C),_(C,this.S)):C=this.S),this.m!==null||this.O||(w.H=C,C=null),this.P)e:{for(var l=0,d=0;d<this.i.length;d++){t:{var p=this.i[d];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=d;break e}if(l===4096||d===this.i.length-1){l=d+1;break e}}l=1e3}else l=1e3;l=Zm(this,w,l),d=Wt(this.I),ve(d,"RID",a),ve(d,"CVER",22),this.D&&ve(d,"X-HTTP-Session-Id",this.D),oo(this,d),C&&(this.O?l="headers="+encodeURIComponent(String(Hm(C)))+"&"+l:this.m&&Yu(d,this.m,C)),Qu(this.h,w),this.Ua&&ve(d,"TYPE","init"),this.P?(ve(d,"$req",l),ve(d,"SID","null"),w.T=!0,Gu(w,d,null)):Gu(w,d,l),this.G=2}}else this.G==3&&(a?Jm(this,a):this.i.length==0||Mm(this.h)||Jm(this))};function Jm(a,l){var d;l?d=l.l:d=a.U++;let p=Wt(a.I);ve(p,"SID",a.K),ve(p,"RID",d),ve(p,"AID",a.T),oo(a,p),a.m&&a.o&&Yu(p,a.m,a.o),d=new ln(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),l&&(a.i=l.D.concat(a.i)),l=Zm(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Qu(a.h,d),Gu(d,p,l)}function oo(a,l){a.H&&ie(a.H,function(d,p){ve(l,p,d)}),a.l&&Om({},function(d,p){ve(l,p,d)})}function Zm(a,l,d){d=Math.min(a.i.length,d);var p=a.l?D(a.l.Na,a.l,a):null;e:{var w=a.i;let C=-1;for(;;){let k=["count="+d];C==-1?0<d?(C=w[0].g,k.push("ofs="+C)):C=0:k.push("ofs="+C);let fe=!0;for(let Le=0;Le<d;Le++){let oe=w[Le].g,He=w[Le].map;if(oe-=C,0>oe)C=Math.max(0,w[Le].g-100),fe=!1;else try{y0(He,k,"req"+oe+"_")}catch{p&&p(He)}}if(fe){p=k.join("&");break e}}}return a=a.i.splice(0,d),l.D=a,p}function Xm(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;$i||cm(),Hi||($i(),Hi=!0),xu.add(l,a),a.v=0}}function Zu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Qi(D(a.Fa,a),ng(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,eg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Qi(D(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),Cs(this),eg(this))};function Xu(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function eg(a){a.g=new ln(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=Wt(a.qa);ve(l,"RID","rpc"),ve(l,"SID",a.K),ve(l,"AID",a.T),ve(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&ve(l,"TO",a.ja),ve(l,"TYPE","xmlhttp"),oo(a,l),a.m&&a.o&&Yu(l,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=Ds(Wt(l)),d.m=null,d.P=!0,Sm(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Cs(this),Zu(this),Qe(19))};function As(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function tg(a,l){var d=null;if(a.g==l){As(a),Xu(a),a.g=null;var p=2}else if(Ku(a.h,l))d=l.D,Pm(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){d=l.m?l.m.length:0,l=Date.now()-l.F;var w=a.B;p=ys(),Ke(p,new Dm(p,d)),Ss(a)}else Xm(a);else if(w=l.s,w==3||w==0&&0<l.X||!(p==1&&E0(a,l)||p==2&&Zu(a)))switch(d&&0<d.length&&(l=a.h,l.i=l.i.concat(d)),w){case 1:Wn(a,5);break;case 4:Wn(a,10);break;case 3:Wn(a,6);break;default:Wn(a,2)}}}function ng(a,l){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*l}function Wn(a,l){if(a.j.info("Error code "+l),l==2){var d=D(a.fb,a),p=a.Xa;let w=!p;p=new zn(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Es(p,"https"),Ds(p),w?p0(p.toString(),d):m0(p.toString(),d)}else Qe(2);a.G=0,a.l&&a.l.sa(l),rg(a),Ym(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function rg(a){if(a.G=0,a.ka=[],a.l){let l=km(a.h);(l.length!=0||a.i.length!=0)&&(O(a.ka,l),O(a.ka,a.i),a.h.i.length=0,F(a.i),a.i.length=0),a.l.ra()}}function ig(a,l,d){var p=d instanceof zn?Wt(d):new zn(d);if(p.g!="")l&&(p.g=l+"."+p.g),ws(p,p.s);else{var w=c.location;p=w.protocol,l=l?l+"."+w.hostname:w.hostname,w=+w.port;var C=new zn(null);p&&Es(C,p),l&&(C.g=l),w&&ws(C,w),d&&(C.l=d),p=C}return d=a.D,l=a.ya,d&&l&&ve(p,d,l),ve(p,"VER",a.la),oo(a,p),p}function og(a,l,d){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new Ee(new to({eb:d})):new Ee(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sg(){}t=sg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ns(){}Ns.prototype.g=function(a,l){return new it(a,l)};function it(a,l){$e.call(this),this.g=new Qm(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!G(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!G(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new Rr(this)}N(it,$e),it.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},it.prototype.close=function(){Ju(this.g)},it.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=ju(a),a=d);l.i.push(new i0(l.Ya++,a)),l.G==3&&Ss(l)},it.prototype.N=function(){this.g.l=null,delete this.j,Ju(this.g),delete this.g,it.aa.N.call(this)};function ag(a){Uu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let d in l){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}N(ag,Uu);function cg(){$u.call(this),this.status=1}N(cg,$u);function Rr(a){this.g=a}N(Rr,sg),Rr.prototype.ua=function(){Ke(this.g,"a")},Rr.prototype.ta=function(a){Ke(this.g,new ag(a))},Rr.prototype.sa=function(a){Ke(this.g,new cg)},Rr.prototype.ra=function(){Ke(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,it.prototype.send=it.prototype.o,it.prototype.open=it.prototype.m,it.prototype.close=it.prototype.close,_f=rn.createWebChannelTransport=function(){return new Ns},vf=rn.getStatEventTarget=function(){return ys()},yf=rn.Event=qn,xc=rn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,Qo=rn.ErrorCode=vs,bm.COMPLETE="complete",gf=rn.EventType=bm,_m.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",$e.prototype.listen=$e.prototype.K,gi=rn.WebChannel=_m,xR=rn.FetchXmlHttpFactory=to,Ee.prototype.listenOnce=Ee.prototype.L,Ee.prototype.getLastError=Ee.prototype.Ka,Ee.prototype.getLastErrorCode=Ee.prototype.Ba,Ee.prototype.getStatus=Ee.prototype.Z,Ee.prototype.getResponseJson=Ee.prototype.Oa,Ee.prototype.getResponseText=Ee.prototype.oa,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Ha,mf=rn.XhrIo=Ee}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});var _E="@firebase/firestore";var Oe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Oe.UNAUTHENTICATED=new Oe(null),Oe.GOOGLE_CREDENTIALS=new Oe("google-credentials-uid"),Oe.FIRST_PARTY=new Oe("first-party-uid"),Oe.MOCK_USER=new Oe("mock-user");var ki="10.14.0";var wr=new Pn("@firebase/firestore");function Yo(){return wr.logLevel}function V(t,...e){if(wr.logLevel<=J.DEBUG){let n=e.map(jp);wr.debug(`Firestore (${ki}): ${t}`,...n)}}function Dr(t,...e){if(wr.logLevel<=J.ERROR){let n=e.map(jp);wr.error(`Firestore (${ki}): ${t}`,...n)}}function Fc(t,...e){if(wr.logLevel<=J.WARN){let n=e.map(jp);wr.warn(`Firestore (${ki}): ${t}`,...n)}}function jp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Z(t="Unexpected state"){let e=`FIRESTORE (${ki}) INTERNAL ASSERTION FAILED: `+t;throw Dr(e),new Error(e)}function Te(t,e){t||Z()}function ye(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends vt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var on=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vc=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Df=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Oe.UNAUTHENTICATED))}shutdown(){}},bf=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Tf=class{constructor(e){this.t=e,this.currentUser=Oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new on;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new on,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new on)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new Vc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new Oe(e)}},Cf=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Oe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Sf=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Cf(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Oe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Af=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Nf=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Te(this.o===void 0);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new Af(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function MR(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Lc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=MR(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function Ii(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var We=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var be=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new We(0,0))}static max(){return new t(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jc=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Me=class t extends jc{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},RR=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lt=class t extends jc{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return RR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var K=class t{constructor(e){this.path=e}static fromPath(e){return new t(Me.fromString(e))}static fromName(e){return new t(Me.fromString(e).popFirst(5))}static empty(){return new t(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Me(e.slice()))}};var xf=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};xf.UNKNOWN_ID=-1;function PR(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new br(i,K.empty(),e)}function kR(t){return new br(t.readTime,t.key,-1)}var br=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(be.min(),K.empty(),-1)}static max(){return new t(be.max(),K.empty(),-1)}};function OR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}var FR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mf=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function $E(t){return S(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==FR)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let h=u;n(e[h]).next(f=>{s[h]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function VR(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function iu(t){return t.name==="IndexedDbTransactionError"}var LR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Bp(t){return t==null}function ns(t){return t===0&&1/t==-1/0}function jR(t){return typeof t=="number"&&Number.isInteger(t)&&!ns(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var BR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uj=[...BR,"documentOverlays"],UR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$R=UR,HR=[...$R,"indexConfiguration","indexState","indexEntries"];var $j=[...HR,"globals"];function IE(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ss(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HE(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var dt=class t{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vi(this.root,e,this.comparator,!1)}getReverseIterator(){return new vi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vi(this.root,e,this.comparator,!0)}},vi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ht=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var et=class t{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bc(this.data.getIterator())}getIteratorFrom(e){return new Bc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Bc=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var $t=class t{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new t([])}unionWith(e){let n=new et(lt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ii(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Rf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var an=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Rf("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};an.EMPTY_BYTE_STRING=new an("");var qR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ln(t){if(Te(!!t),typeof t=="string"){let e=0,n=qR.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ei(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}function Up(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qE(t){let e=t.mapValue.fields.__previous_value__;return Up(e)?qE(e):e}function Uc(t){let e=Ln(t.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}var Pf=class{constructor(e,n,r,i,o,s,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h}},kf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Up(t)?4:zE(t)?9007199254740991:GE(t)?10:11:Z()}function qt(t,e){if(t===e)return!0;let n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uc(t).isEqual(Uc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ln(i.timestampValue),c=Ln(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ei(i.bytesValue).isEqual(Ei(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return xe(i.geoPointValue.latitude)===xe(o.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return xe(i.integerValue)===xe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=xe(i.doubleValue),c=xe(o.doubleValue);return s===c?ns(s)===ns(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return Ii(t.arrayValue.values||[],e.arrayValue.values||[],qt);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(IE(s)!==IE(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!qt(s[u],c[u])))return!1;return!0}(t,e);default:return Z()}}function rs(t,e){return(t.values||[]).find(n=>qt(n,e))!==void 0}function Di(t,e){if(t===e)return 0;let n=wi(t),r=wi(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=xe(o.integerValue||o.doubleValue),u=xe(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return EE(t.timestampValue,e.timestampValue);case 4:return EE(Uc(t),Uc(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Ei(o),u=Ei(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let h=0;h<c.length&&h<u.length;h++){let f=me(c[h],u[h]);if(f!==0)return f}return me(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=me(xe(o.latitude),xe(s.latitude));return c!==0?c:me(xe(o.longitude),xe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wE(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,h,f;let m=o.fields||{},D=s.fields||{},b=(c=m.value)===null||c===void 0?void 0:c.arrayValue,N=(u=D.value)===null||u===void 0?void 0:u.arrayValue,F=me(((h=b?.values)===null||h===void 0?void 0:h.length)||0,((f=N?.values)===null||f===void 0?void 0:f.length)||0);return F!==0?F:wE(b,N)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Mc.mapValue&&s===Mc.mapValue)return 0;if(o===Mc.mapValue)return 1;if(s===Mc.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),h=s.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){let D=me(u[m],f[m]);if(D!==0)return D;let b=Di(c[u[m]],h[f[m]]);if(b!==0)return b}return me(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Z()}}function EE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=Ln(t),r=Ln(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function wE(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Di(n[i],r[i]);if(o)return o}return me(n.length,r.length)}function bi(t){return Of(t)}function Of(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ln(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ei(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Of(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Of(n.fields[s])}`;return i+"}"}(t.mapValue):Z()}function Ff(t){return!!t&&"integerValue"in t}function $p(t){return!!t&&"arrayValue"in t}function kc(t){return!!t&&"mapValue"in t}function GE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zo(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ut=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zo(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=Zo(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ss(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Zo(this.value))}};function WE(t){let e=[];return ss(t.fields,(n,r)=>{let i=new lt([n]);if(kc(r)){let o=WE(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new $t(e)}var Ti=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,be.min(),be.min(),be.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,be.min(),be.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,be.min(),be.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ci=class{constructor(e,n){this.position=e,this.inclusive=n}};function DE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),n.key):r=Di(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qt(t.position[n],e.position[n]))return!1;return!0}var Si=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function GR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var $c=class{},Fe=class t extends $c{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lf(e,n,r):n==="array-contains"?new Uf(e,r):n==="in"?new $f(e,r):n==="not-in"?new Hf(e,r):n==="array-contains-any"?new qf(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jf(e,r):new Bf(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Di(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(Di(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},jn=class t extends $c{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return KE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function KE(t){return t.op==="and"}function QE(t){return zR(t)&&KE(t)}function zR(t){for(let e of t.filters)if(e instanceof jn)return!1;return!0}function Vf(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+bi(t.value);if(QE(t))return t.filters.map(e=>Vf(e)).join(",");{let e=t.filters.map(n=>Vf(n)).join(",");return`${t.op}(${e})`}}function YE(t,e){return t instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.field.isEqual(i.field)&&qt(r.value,i.value)}(t,e):t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&YE(s,i.filters[c]),!0):!1}(t,e):void Z()}function JE(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${bi(n.value)}`}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(JE).join(" ,")+"}"}(t):"Filter"}var Lf=class extends Fe{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){let n=K.comparator(e.key,this.key);return this.matchesComparison(n)}},jf=class extends Fe{constructor(e,n){super(e,"in",n),this.keys=ZE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Bf=class extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=ZE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ZE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}var Uf=class extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return $p(n)&&rs(n.arrayValue,this.value)}},$f=class extends Fe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&rs(this.value.arrayValue,n)}},Hf=class extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(rs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!rs(this.value.arrayValue,n)}},qf=class extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!$p(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rs(this.value.arrayValue,r))}};var Gf=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function TE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Gf(t,e,n,r,i,o,s)}function Hp(t){let e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Bp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bi(r)).join(",")),e.ue=n}return e.ue}function qp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bE(t.startAt,e.startAt)&&bE(t.endAt,e.endAt)}var Ai=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function WR(t,e,n,r,i,o,s,c){return new Ai(t,e,n,r,i,o,s,c)}function KR(t){return new Ai(t)}function CE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QR(t){return t.collectionGroup!==null}function Xo(t){let e=ye(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new et(lt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Si(o,r))}),n.has(lt.keyField().canonicalString())||e.ce.push(new Si(lt.keyField(),r))}return e.ce}function Ir(t){let e=ye(t);return e.le||(e.le=YR(e,Xo(t))),e.le}function YR(t,e){if(t.limitType==="F")return TE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Si(i.field,o)});let n=t.endAt?new Ci(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ci(t.startAt.position,t.startAt.inclusive):null;return TE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zf(t,e,n){return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function XE(t,e){return qp(Ir(t),Ir(e))&&t.limitType===e.limitType}function ew(t){return`${Hp(Ir(t))}|lt:${t.limitType}`}function Jo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>JE(i)).join(", ")}]`),Bp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bi(i)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function Gp(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Xo(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let h=DE(s,c,u);return s.inclusive?h<=0:h<0}(r.startAt,Xo(r),i)||r.endAt&&!function(s,c,u){let h=DE(s,c,u);return s.inclusive?h>=0:h>0}(r.endAt,Xo(r),i))}(t,e)}function JR(t){return(e,n)=>{let r=!1;for(let i of Xo(t)){let o=ZR(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function ZR(t,e,n){let r=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),h=c.data.field(o);return u!==null&&h!==null?Di(u,h):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var Bn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return HE(this.inner)}size(){return this.innerSize}};var XR=new dt(K.comparator);function Hc(){return XR}var tw=new dt(K.comparator);function Rc(...t){let e=tw;for(let n of t)e=e.insert(n.key,n);return e}function nw(t){let e=tw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _r(){return es()}function rw(){return es()}function es(){return new Bn(t=>t.toString(),(t,e)=>t.isEqual(e))}var eP=new dt(K.comparator),tP=new et(K.comparator);function ze(...t){let e=tP;for(let n of t)e=e.add(n);return e}var nP=new et(me);function rP(){return nP}function zp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ns(e)?"-0":e}}function iw(t){return{integerValue:""+t}}function iP(t,e){return jR(e)?iw(e):zp(t,e)}var Ni=class{constructor(){this._=void 0}};function oP(t,e,n){return t instanceof xi?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Up(o)&&(o=qE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Tr?sw(t,e):t instanceof Cr?aw(t,e):function(i,o){let s=ow(i,o),c=SE(s)+SE(i.Pe);return Ff(s)&&Ff(i.Pe)?iw(c):zp(i.serializer,c)}(t,e)}function sP(t,e,n){return t instanceof Tr?sw(t,e):t instanceof Cr?aw(t,e):n}function ow(t,e){return t instanceof Mi?function(r){return Ff(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var xi=class extends Ni{},Tr=class extends Ni{constructor(e){super(),this.elements=e}};function sw(t,e){let n=cw(e);for(let r of t.elements)n.some(i=>qt(i,r))||n.push(r);return{arrayValue:{values:n}}}var Cr=class extends Ni{constructor(e){super(),this.elements=e}};function aw(t,e){let n=cw(e);for(let r of t.elements)n=n.filter(i=>!qt(i,r));return{arrayValue:{values:n}}}var Mi=class extends Ni{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function SE(t){return xe(t.integerValue||t.doubleValue)}function cw(t){return $p(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aP(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Tr&&i instanceof Tr||r instanceof Cr&&i instanceof Cr?Ii(r.elements,i.elements,qt):r instanceof Mi&&i instanceof Mi?qt(r.Pe,i.Pe):r instanceof xi&&i instanceof xi}(t.transform,e.transform)}var Wf=class{constructor(e,n){this.version=e,this.transformResults=n}},Er=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Oc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ri=class{};function uw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qc(t.key,Er.none()):new Sr(t.key,t.data,Er.none());{let n=t.data,r=Ut.empty(),i=new et(lt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new cn(t.key,r,new $t(i.toArray()),Er.none())}}function cP(t,e,n){t instanceof Sr?function(i,o,s){let c=i.value.clone(),u=NE(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof cn?function(i,o,s){if(!Oc(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=NE(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(lw(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ts(t,e,n,r){return t instanceof Sr?function(o,s,c,u){if(!Oc(o.precondition,s))return c;let h=o.value.clone(),f=xE(o.fieldTransforms,u,s);return h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof cn?function(o,s,c,u){if(!Oc(o.precondition,s))return c;let h=xE(o.fieldTransforms,u,s),f=s.data;return f.setAll(lw(o)),f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,s,c){return Oc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function uP(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=ow(r.transform,i||null);o!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,o))}return n||null}function AE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ii(r,i,(o,s)=>aP(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Sr=class extends Ri{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},cn=class extends Ri{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function lw(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function NE(t,e,n){let r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,sP(s,c,n[i]))}return r}function xE(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,oP(o,s,e))}return r}var qc=class extends Ri{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Kf=class extends Ri{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Qf=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&cP(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ts(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ts(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=rw();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=uw(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&Ii(this.mutations,e.mutations,(n,r)=>AE(n,r))&&Ii(this.baseMutations,e.baseMutations,(n,r)=>AE(n,r))}},Yf=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return eP}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Jf=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ae,ne;function lP(t){switch(t){default:return Z();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function dP(t){if(t===void 0)return Dr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ae.OK:return M.OK;case Ae.CANCELLED:return M.CANCELLED;case Ae.UNKNOWN:return M.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return M.INTERNAL;case Ae.UNAVAILABLE:return M.UNAVAILABLE;case Ae.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ae.NOT_FOUND:return M.NOT_FOUND;case Ae.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ae.ABORTED:return M.ABORTED;case Ae.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ae.DATA_LOSS:return M.DATA_LOSS;default:return Z()}}(ne=Ae||(Ae={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";var qj=new pf([4294967295,4294967295],0);var Zf=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fP(t,e){return Xf(t,e.toTimestamp())}function _i(t){return Te(!!t),be.fromTimestamp(function(n){let r=Ln(n);return new We(r.seconds,r.nanos)}(t))}function dw(t,e){return ep(t,e).canonicalString()}function ep(t,e){let n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pP(t){let e=Me.fromString(t);return Te(wP(e)),e}function tp(t,e){return dw(t.databaseId,e.path)}function mP(t){let e=pP(t);return e.length===4?Me.emptyPath():yP(e)}function gP(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yP(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ME(t,e,n){return{name:tp(t,e),fields:n.value.mapValue.fields}}function vP(t,e){let n;if(e instanceof Sr)n={update:ME(t,e.key,e.value)};else if(e instanceof qc)n={delete:tp(t,e.key)};else if(e instanceof cn)n={update:ME(t,e.key,e.data),updateMask:EP(e.fieldMask)};else{if(!(e instanceof Kf))return Z();n={verify:tp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof xi)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Tr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Cr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Mi)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:fP(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(t,e.precondition)),n}function _P(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?_i(i.updateTime):_i(o);return s.isEqual(be.min())&&(s=_i(o)),new Wf(s,i.transformResults||[])}(n,e))):[]}function IP(t){let e=mP(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(m){let D=hw(m);return D instanceof jn&&QE(D)?D.getFilters():[D]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(D=>function(N){return new Si(yi(N.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(D))}(n.orderBy));let c=null;n.limit&&(c=function(m){let D;return D=typeof m=="object"?m.value:m,Bp(D)?null:D}(n.limit));let u=null;n.startAt&&(u=function(m){let D=!!m.before,b=m.values||[];return new Ci(b,D)}(n.startAt));let h=null;return n.endAt&&(h=function(m){let D=!m.before,b=m.values||[];return new Ci(b,D)}(n.endAt)),WR(e,i,s,o,c,"F",u,h)}function hw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=yi(n.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=yi(n.unaryFilter.field);return Fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=yi(n.unaryFilter.field);return Fe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=yi(n.unaryFilter.field);return Fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(yi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>hw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function yi(t){return lt.fromServerFormat(t.fieldPath)}function EP(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var np=class{constructor(e){this.ct=e}};function DP(t){let e=IP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zf(e,e.limit,"L"):e}var Gc=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(xe(e.integerValue));else if("doubleValue"in e){let r=xe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ns(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ln(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ei(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?zE(e)?this.dt(n,Number.MAX_SAFE_INTEGER):GE(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(xe(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),K.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Gc.vt=new Gc;var rp=class{constructor(){this.un=new ip}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(br.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(br.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},ip=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new et(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new et(Me.comparator)).toArray()}};var Gj=new Uint8Array(0);var Bt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(41943040,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);var is=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var op=class{constructor(){this.changes=new Bn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ti.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var sp=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ap=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ts(r.mutation,i,$t.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){let i=_r();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Rc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=_r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Hc(),s=es(),c=function(){return es()}();return n.forEach((u,h)=>{let f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof cn)?o=o.insert(h.key,h):f!==void 0?(s.set(h.key,f.mutation.getFieldMask()),ts(f.mutation,h,f.mutation.getFieldMask(),We.now())):s.set(h.key,$t.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,f)=>s.set(h,f)),n.forEach((h,f)=>{var m;return c.set(h,new sp(f,(m=s.get(h))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,n){let r=es(),i=new dt((s,c)=>s-c),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let h=n.get(u);if(h===null)return;let f=r.get(u)||$t.empty();f=c.applyToLocalView(h,f),r.set(u,f);let m=(i.get(c.batchId)||ze()).add(u);i=i.insert(c.batchId,m)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),h=u.key,f=u.value,m=rw();f.forEach(D=>{if(!o.has(D)){let b=uw(n.get(D),r.get(D));b!==null&&m.set(D,b),o=o.add(D)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,m))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(_r()),c=-1,u=o;return s.next(h=>P.forEach(h,(f,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),o.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(D=>{u=u.insert(f,D)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,ze())).next(f=>({batchId:c,changes:nw(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=Rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Rc();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let h=function(m,D){return new Ai(D,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((m,D)=>{s=s.insert(m,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,h)=>{let f=h.getKey();s.get(f)===null&&(s=s.insert(f,Ti.newInvalidDocument(f)))});let c=Rc();return s.forEach((u,h)=>{let f=o.get(u);f!==void 0&&ts(f.mutation,h,$t.empty(),We.now()),Gp(n,h)&&(c=c.insert(u,h))}),c})}};var cp=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_i(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:DP(i.bundledQuery),readTime:_i(i.readTime)}}(n)),P.resolve()}};var up=class{constructor(){this.overlays=new dt(K.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=_r();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=_r(),o=n.length+1,s=new K(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new dt((h,f)=>h-f),s=this.overlays.getIterator();for(;s.hasNext();){let h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=o.get(h.largestBatchId);f===null&&(f=_r(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}let c=_r(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>c.set(h,f)),!(c.size()>=i)););return P.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Jf(n,r));let o=this.Ir.get(n);o===void 0&&(o=ze(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var lp=class{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var os=class{constructor(){this.Tr=new et(Ne.Er),this.dr=new et(Ne.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ne(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ne(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new K(new Me([])),r=new Ne(n,e),i=new Ne(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new K(new Me([])),r=new Ne(n,e),i=new Ne(n,e+1),o=ze();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ne(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ne=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||K.comparator(e.key,n.key)}};var dp=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new et(Ne.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Qf(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Ne(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ne(n,0),i=new Ne(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(me);return n.forEach(i=>{let o=new Ne(i,0),s=new Ne(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new Ne(new K(o),0),c=new et(me);return this.br.forEachWhile(u=>{let h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.wr)),!0)},s),P.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let o=new Ne(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ne(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var hp=class{constructor(e){this.Mr=e,this.docs=function(){return new dt(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Ti.newInvalidDocument(n))}getEntries(e,n){let r=Hc();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ti.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Hc(),s=n.path,c=new K(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:h,value:{document:f}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||OR(kR(f),r)<=0||(i.has(f.key)||Gp(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fp(this)}getSize(e){return P.resolve(this.size)}},fp=class extends op{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var pp=class{constructor(e){this.persistence=e,this.Nr=new Bn(n=>Hp(n),qp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new os,this.targetCount=0,this.kr=is.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new is(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var mp=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new LR(0),this.Kr=!1,this.Kr=!0,this.$r=new lp,this.referenceDelegate=e(this),this.Ur=new pp(this),this.indexManager=new rp,this.remoteDocumentCache=function(i){return new hp(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new np(n),this.Gr=new cp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new up,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new dp(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new gp(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},gp=class extends Mf{constructor(e){super(),this.currentSequenceNumber=e}},yp=class t{constructor(e){this.persistence=e,this.Jr=new os,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=K.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var vp=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ze(),i=ze();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var _p=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ip=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return PI()?8:VR(ut())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new _p;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Yo()<=J.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(Yo()<=J.DEBUG&&V("QueryEngine","Query:",Jo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Yo()<=J.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):P.resolve())}Yi(e,n){if(CE(n))return P.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zf(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ze(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let h=this.ts(n,c);return this.ns(n,h,s,u.readTime)?this.Yi(e,zf(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,i){return CE(n)||i.isEqual(be.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?P.resolve(null):(Yo()<=J.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jo(n)),this.rs(e,s,n,PR(i,-1)).next(c=>c))})}ts(e,n){let r=new et(JR(e));return n.forEach((i,o)=>{Gp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Yo()<=J.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.Ji.getDocumentsMatchingQuery(e,n,br.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Ep=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new dt(me),this._s=new Bn(o=>Hp(o),qp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ap(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function bP(t,e,n,r){return new Ep(t,e,n,r)}function fw(t,e){return S(this,null,function*(){let n=ye(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ze();for(let h of i){s.push(h.batchId);for(let f of h.mutations)u=u.add(f.key)}for(let h of o){c.push(h.batchId);for(let f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:s,addedBatchIds:c}))})})})}function TP(t,e){let n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,h,f){let m=h.batch,D=m.keys(),b=P.resolve();return D.forEach(N=>{b=b.next(()=>f.getEntry(u,N)).next(F=>{let O=h.docVersions.get(N);Te(O!==null),F.version.compareTo(O)<0&&(m.applyToRemoteDocument(F,h),F.isValidDocument()&&(F.setReadTime(h.commitVersion),f.addEntry(F)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ze();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CP(t){let e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function SP(t,e){let n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var zc=class{constructor(){this.activeTargetIds=rP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var wp=class{constructor(){this.so=new zc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new zc,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Dp=class{_o(e){}shutdown(){}};var Wc=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Pc=null;function If(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}var AP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var bp=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ge="WebChannelConnection",Tp=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=If(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,o,s),this.No(n,u,h,i).then(f=>(V("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Fc("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ki}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=AP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=If();return new Promise((s,c)=>{let u=new mf;u.setWithCredentials(!0),u.listenOnce(gf.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Qo.NO_ERROR:let f=u.getResponseJson();V(Ge,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Qo.TIMEOUT:V(Ge,`RPC '${e}' ${o} timed out`),c(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:let m=u.getStatus();if(V(Ge,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let D=u.getResponseJson();Array.isArray(D)&&(D=D[0]);let b=D?.error;if(b&&b.status&&b.message){let N=function(O){let B=O.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(B)>=0?B:M.UNKNOWN}(b.status);c(new L(N,b.message))}else c(new L(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new L(M.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{V(Ge,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(i);V(Ge,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Bo(e,n,r){let i=If(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_f(),c=vf(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");V(Ge,`Creating RPC '${e}' stream ${i}: ${f}`,u);let m=s.createWebChannel(f,u),D=!1,b=!1,N=new bp({Io:O=>{b?V(Ge,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(D||(V(Ge,`Opening RPC '${e}' stream ${i} transport.`),m.open(),D=!0),V(Ge,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},To:()=>m.close()}),F=(O,B,G)=>{O.listen(B,X=>{try{G(X)}catch(ce){setTimeout(()=>{throw ce},0)}})};return F(m,gi.EventType.OPEN,()=>{b||(V(Ge,`RPC '${e}' stream ${i} transport opened.`),N.yo())}),F(m,gi.EventType.CLOSE,()=>{b||(b=!0,V(Ge,`RPC '${e}' stream ${i} transport closed`),N.So())}),F(m,gi.EventType.ERROR,O=>{b||(b=!0,Fc(Ge,`RPC '${e}' stream ${i} transport errored:`,O),N.So(new L(M.UNAVAILABLE,"The operation could not be completed")))}),F(m,gi.EventType.MESSAGE,O=>{var B;if(!b){let G=O.data[0];Te(!!G);let X=G,ce=X.error||((B=X[0])===null||B===void 0?void 0:B.error);if(ce){V(Ge,`RPC '${e}' stream ${i} received error:`,ce);let Ve=ce.status,ie=function(y){let _=Ae[y];if(_!==void 0)return dP(_)}(Ve),I=ce.message;ie===void 0&&(ie=M.INTERNAL,I="Unknown error status: "+Ve+" with message "+ce.message),b=!0,N.So(new L(ie,I)),m.close()}else V(Ge,`RPC '${e}' stream ${i} received:`,G),N.bo(G)}}),F(c,yf.STAT_EVENT,O=>{O.stat===xc.PROXY?V(Ge,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===xc.NOPROXY&&V(Ge,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}};function Ef(){return typeof document<"u"?document:null}function ou(t){return new Zf(t,!0)}var Kc=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Cp=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Kc(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Sp=class extends Cp{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=_P(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=gP(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>vP(this.serializer,r))};this.a_(n)}};var Ap=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,ep(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,ep(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Np=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dr(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var xp=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>S(this,null,function*(){cs(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let h=ye(u);h.L_.add(4),yield as(h),h.q_.set("Unknown"),h.L_.delete(4),yield su(h)})}(this))}))}),this.q_=new Np(r,i)}};function su(t){return S(this,null,function*(){if(cs(t))for(let e of t.B_)yield e(!0)})}function as(t){return S(this,null,function*(){for(let e of t.B_)yield e(!1)})}function cs(t){return ye(t).L_.size===0}function pw(t,e,n){return S(this,null,function*(){if(!iu(e))throw e;t.L_.add(1),yield as(t),t.q_.set("Offline"),n||(n=()=>CP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield su(t)}))})}function mw(t,e){return e().catch(n=>pw(t,n,e))}function au(t){return S(this,null,function*(){let e=ye(t),n=Un(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;NP(e);)try{let i=yield SP(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,xP(e,i)}catch(i){yield pw(e,i)}gw(e)&&yw(e)})}function NP(t){return cs(t)&&t.O_.length<10}function xP(t,e){t.O_.push(e);let n=Un(t);n.r_()&&n.V_&&n.m_(e.mutations)}function gw(t){return cs(t)&&!Un(t).n_()&&t.O_.length>0}function yw(t){Un(t).start()}function MP(t){return S(this,null,function*(){Un(t).p_()})}function RP(t){return S(this,null,function*(){let e=Un(t);for(let n of t.O_)e.m_(n.mutations)})}function PP(t,e,n){return S(this,null,function*(){let r=t.O_.shift(),i=Yf.from(r,e,n);yield mw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield au(t)})}function kP(t,e){return S(this,null,function*(){e&&Un(t).V_&&(yield function(r,i){return S(this,null,function*(){if(function(s){return lP(s)&&s!==M.ABORTED}(i.code)){let o=r.O_.shift();Un(r).s_(),yield mw(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield au(r)}})}(t,e)),gw(t)&&yw(t)})}function RE(t,e){return S(this,null,function*(){let n=ye(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=cs(n);n.L_.add(3),yield as(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield su(n)})}function OP(t,e){return S(this,null,function*(){let n=ye(t);e?(n.L_.delete(2),yield su(n)):e||(n.L_.add(2),yield as(n),n.q_.set("Unknown"))})}function Un(t){return t.U_||(t.U_=function(n,r,i){let o=ye(n);return o.w_(),new Sp(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MP.bind(null,t),mo:kP.bind(null,t),f_:RP.bind(null,t),g_:PP.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.U_.s_(),yield au(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Mp=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new on,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function vw(t,e){if(Dr("AsyncQueue",`${e}: ${t}`),iu(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Rp=class{constructor(){this.queries=PE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ye(n),o=i.queries;i.queries=PE(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function PE(){return new Bn(t=>ew(t),XE)}function FP(t){t.Y_.forEach(e=>{e.next()})}var kE,OE;(OE=kE||(kE={})).ea="default",OE.Cache="cache";var Pp=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Bn(c=>ew(c),XE),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(K.comparator),this.Na=new Map,this.La=new os,this.Ba={},this.ka=new Map,this.qa=is.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function VP(t,e,n){return S(this,null,function*(){let r=UP(t);try{let i=yield function(s,c){let u=ye(s),h=We.now(),f=c.reduce((b,N)=>b.add(N.key),ze()),m,D;return u.persistence.runTransaction("Locally write mutations","readwrite",b=>{let N=Hc(),F=ze();return u.cs.getEntries(b,f).next(O=>{N=O,N.forEach((B,G)=>{G.isValidDocument()||(F=F.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(b,N)).next(O=>{m=O;let B=[];for(let G of c){let X=uP(G,m.get(G.key).overlayedDocument);X!=null&&B.push(new cn(G.key,X,WE(X.value.mapValue),Er.exists(!0)))}return u.mutationQueue.addMutationBatch(b,h,B,c)}).next(O=>{D=O;let B=O.applyToLocalDocumentSet(m,F);return u.documentOverlayCache.saveOverlays(b,O.batchId,B)})}).then(()=>({batchId:D.batchId,changes:nw(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let h=s.Ba[s.currentUser.toKey()];h||(h=new dt(me)),h=h.insert(c,u),s.Ba[s.currentUser.toKey()]=h}(r,i.batchId,n),yield cu(r,i.changes),yield au(r.remoteStore)}catch(i){let o=vw(i,"Failed to persist write");n.reject(o)}})}function FE(t,e,n){let r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=ye(s);u.onlineState=c;let h=!1;u.queries.forEach((f,m)=>{for(let D of m.j_)D.Z_(c)&&(h=!0)}),h&&FP(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function LP(t,e){return S(this,null,function*(){let n=ye(t),r=e.batch.batchId;try{let i=yield TP(n.localStore,e);Iw(n,r,null),_w(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield cu(n,i)}catch(i){yield $E(i)}})}function jP(t,e,n){return S(this,null,function*(){let r=ye(t);try{let i=yield function(s,c){let u=ye(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,c).next(m=>(Te(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);Iw(r,e,n),_w(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield cu(r,i)}catch(i){yield $E(i)}})}function _w(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Iw(t,e,n){let r=ye(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function cu(t,e,n){return S(this,null,function*(){let r=ye(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){let m=h?!h.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);let m=vp.Wi(u.targetId,h);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,h){return S(this,null,function*(){let f=ye(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>P.forEach(h,D=>P.forEach(D.$i,b=>f.persistence.referenceDelegate.addReference(m,D.targetId,b)).next(()=>P.forEach(D.Ui,b=>f.persistence.referenceDelegate.removeReference(m,D.targetId,b)))))}catch(m){if(!iu(m))throw m;V("LocalStore","Failed to update sequence numbers: "+m)}for(let m of h){let D=m.targetId;if(!m.fromCache){let b=f.os.get(D),N=b.snapshotVersion,F=b.withLastLimboFreeSnapshotVersion(N);f.os=f.os.insert(D,F)}}})}(r.localStore,o))})}function BP(t,e){return S(this,null,function*(){let n=ye(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield fw(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cu(n,r.hs)}})}function UP(t){let e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jP.bind(null,e),e}var VE=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=ou(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return bP(this.persistence,new Ip,n.initialUser,this.serializer)}Ga(n){return new mp(yp.Zr,this.serializer)}Wa(n){return new wp}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var $P=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>FE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=BP.bind(null,this.syncEngine),yield OP(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Rp}()}createDatastore(n){let r=ou(n.databaseInfo.databaseId),i=function(s){return new Tp(s)}(n.databaseInfo);return function(s,c,u,h){return new Ap(s,c,u,h)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new xp(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>FE(this.syncEngine,r,0),function(){return Wc.D()?new Wc:new Dp}())}createSyncEngine(n,r){return function(o,s,c,u,h,f,m){let D=new Pp(o,s,c,u,h,f);return m&&(D.Qa=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield function(o){return S(this,null,function*(){let s=ye(o);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield as(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var kp=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Oe.UNAUTHENTICATED,this.clientId=Lc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>S(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new on;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=vw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function wf(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield fw(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function LE(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield HP(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>RE(e.remoteStore,i)),t._onlineComponents=e})}function HP(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wf(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fc("Error using user provided cache. Falling back to memory cache: "+n),yield wf(t,new VE)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield wf(t,new VE);return t._offlineComponents})}function qP(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield LE(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield LE(t,new $P))),t._onlineComponents})}function GP(t){return qP(t).then(e=>e.syncEngine)}function Ew(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var jE=new Map;function ww(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zP(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BE(t){if(!K.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UE(t){if(K.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Dw(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Wp(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Qc=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ew((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Pi=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qc({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qc(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Df;switch(r.type){case"firstParty":return new Sf(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=jE.get(n);r&&(V("ComponentProvider","Removing Datastore"),jE.delete(n),r.terminate())}(this),Promise.resolve()}};function bw(t,e,n,r={}){var i;let o=(t=Dw(t,Pi))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Oe.MOCK_USER;else{c=AI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Oe(h)}t._authCredentials=new bf(new Vc(c,u))}}var Op=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},sn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Vn=class t extends Op{constructor(e,n,r){super(e,n,KR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new K(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Tw(t,e,...n){if(t=Nt(t),ww("collection","path",e),t instanceof Pi){let r=Me.fromString(e,...n);return UE(r),new Vn(t,null,r)}{if(!(t instanceof sn||t instanceof Vn))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return UE(r),new Vn(t.firestore,null,r)}}function Cw(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=Lc.newId()),ww("doc","path",e),t instanceof Pi){let r=Me.fromString(e,...n);return BE(r),new sn(t,null,new K(r))}{if(!(t instanceof sn||t instanceof Vn))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return BE(r),new sn(t.firestore,t instanceof Vn?t.converter:null,new K(r))}}var Yc=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Kc(this,"async_queue_retry"),this.Vu=()=>{let r=Ef();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Ef();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Ef();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new on;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!iu(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw Dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Mp.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Z()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Jc=class extends Pi{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Yc,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Yc(e),this._firestoreClient=void 0,yield e}})}};function Sw(t,e){let n=typeof t=="object"?t:jo(),r=typeof t=="string"?t:e||"(default)",i=Kh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=CI("firestore");o&&bw(i,...o)}return i}function WP(t){if(t._terminated)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KP(t),t._firestoreClient}function KP(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,h,f){return new Pf(c,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Ew(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new kp(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Zc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(an.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Xc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var eu=class{constructor(e){this._methodName=e}};var tu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var nu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var QP=/^__.*__$/,Fp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sr(e,this.data,n,this.fieldTransforms)}};function Aw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var Vp=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ru(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Aw(this.Cu)&&QP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Lp=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ou(e)}Qu(e,n,r,i=!1){return new Vp({Cu:e,methodName:n,qu:r,path:lt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function YP(t){let e=t._freezeSettings(),n=ou(t._databaseId);return new Lp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JP(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Rw("Data must be an object, but it was:",s,r);let c=xw(r,s),u,h;if(o.merge)u=new $t(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let m of o.mergeFields){let D=ZP(e,m,n);if(!s.contains(D))throw new L(M.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);tk(f,D)||f.push(D)}u=new $t(f),h=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=s.fieldTransforms;return new Fp(new Ut(c),u,h)}function Nw(t,e){if(Mw(t=Nt(t)))return Rw("Unsupported field value:",e,t),xw(t,e);if(t instanceof eu)return function(r,i){if(!Aw(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Nw(c,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=We.fromDate(r);return{timestampValue:Xf(i.serializer,o)}}if(r instanceof We){let o=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xf(i.serializer,o)}}if(r instanceof tu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zc)return{bytesValue:hP(i.serializer,r._byteString)};if(r instanceof sn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof nu)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return zp(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Wp(r)}`)}(t,e)}function xw(t,e){let n={};return HE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(t,(r,i)=>{let o=Nw(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Mw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof tu||t instanceof Zc||t instanceof sn||t instanceof eu||t instanceof nu)}function Rw(t,e,n){if(!Mw(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Wp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ZP(t,e,n){if((e=Nt(e))instanceof Xc)return e._internalPath;if(typeof e=="string")return ek(t,e);throw ru("Field path arguments must be of type string or ",t,!1,void 0,n)}var XP=new RegExp("[~\\*/\\[\\]]");function ek(t,e,n){if(e.search(XP)>=0)throw ru(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xc(...e.split("."))._internalPath}catch{throw ru(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ru(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,c+t+u)}function tk(t,e){return t.some(n=>n.isEqual(e))}function nk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function Pw(t,e){let n=Dw(t.firestore,Jc),r=Cw(t),i=nk(t.converter,e);return rk(n,[JP(YP(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then(()=>r)}function rk(t,e){return function(r,i){let o=new on;return r.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return VP(yield GP(r),i,o)})),o.promise}(WP(t),e)}(function(e,n=!0){(function(i){ki=i})(fi),On(new _t("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Jc(new Tf(r.getProvider("auth-internal")),new Nf(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(h.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ke(_E,"4.7.3",e),ke(_E,"4.7.3","esm2017")})();var Ar=class{constructor(e){return e}},kw="firestore",Kp=class{constructor(){return Uo(kw)}};var Qp=new H("angularfire2.firestore-instances");function ik(t,e){let n=Jh(kw,t,e);return n&&new Ar(n)}function ok(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ar(r)}}var sk={provide:Kp,deps:[[new Ft,Qp]]},ak={provide:Ar,useFactory:ik,deps:[[new Ft,Qp],gr]};function Ow(t,...e){return ke("angularfire",mi.full,"fst"),So([ak,sk,{provide:Qp,useFactory:ok(t),multi:!0,deps:[Ie,Ct,$o,Ho,[new Ft,Ac],[new Ft,Bo],...e]}])}var Fw=mr(Pw,!0);var Vw=mr(Tw,!0);var Lw=mr(Sw,!0);var Gt=(()=>{class t{constructor(n){this.firestore=n,this.cartItems=new Jn([]),this.storageKey="chocolate_cart",this.loadCart()}loadCart(){let n=localStorage.getItem(this.storageKey);n&&this.cartItems.next(JSON.parse(n))}saveCart(n){localStorage.setItem(this.storageKey,JSON.stringify(n)),this.cartItems.next(n)}getCartItems(){return this.cartItems.asObservable()}addToCart(n){let r=this.cartItems.value,i=r.find(o=>o.id===n.id);i?(i.quantity+=1,this.saveCart([...r])):this.saveCart([...r,he($({},n),{quantity:1})])}removeFromCart(n){let i=this.cartItems.value.filter(o=>o.id!==n);this.saveCart(i)}updateQuantity(n,r){let i=this.cartItems.value,o=i.find(s=>s.id===n);o&&(o.quantity=r,this.saveCart([...i]))}clearCart(){this.saveCart([])}getTotal(){return this.cartItems.value.reduce((n,r)=>n+r.price*r.quantity,0)}getCount(){return this.cartItems.value.length??0}saveOrderToFirestore(n){return S(this,null,function*(){let r=Vw(this.firestore,"orders");return(yield Fw(r,he($({},n),{items:this.cartItems.value,total:this.getTotal(),date:new Date}))).id})}static{this.\u0275fac=function(r){return new(r||t)(te(Ar))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function uk(t,e){if(t&1&&(A(0,"span",14),R(1),ai(2,"async"),x()),t&2){let n=Lt();re(),yt(ci(2,1,n.count$))}}var jw=(()=>{class t{constructor(n){this.cartService=n,this.isScrolled=!1,this.cartToggle=Lv(),this.cartItems$=this.cartService.getCartItems(),this.count$=new ge(r=>{this.cartItems$.subscribe(()=>{r.next(this.cartService.getCount())})})}onWindowScroll(){this.isScrolled=window.scrollY>50}toggleCart(){this.cartToggle.emit(!0)}static{this.\u0275fac=function(r){return new(r||t)(W(Gt))}}static{this.\u0275cmp=we({type:t,selectors:[["app-navbar"]],hostBindings:function(r,i){r&1&&ue("scroll",function(){return i.onWindowScroll()},!1,Zv)},outputs:{cartToggle:"cartToggle"},decls:22,vars:9,consts:[[1,"fixed","w-full","transition-all","duration-300","z-30"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16","items-center"],[1,"flex-shrink-0"],[1,"text-2xl","font-bold","text-white"],[1,"hidden","md:block"],[1,"ml-10","flex","items-baseline","space-x-4"],["href","#",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],["href","#products",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],["href","#reviews",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],["href","#about",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],["href","#contact",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],[1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium",3,"click"],["class","rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-gray-500/10 ring-inset",4,"ngIf"],[1,"rounded-md","bg-gray-50","px-2","py-1","text-xs","font-medium","text-gray-600","ring-1","ring-gray-500/10","ring-inset"]],template:function(r,i){r&1&&(A(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),R(5,"Nuts On Top"),x()(),A(6,"div",5)(7,"div",6)(8,"a",7),R(9,"Home"),x(),A(10,"a",8),R(11,"Products"),x(),A(12,"a",9),R(13,"Reviews"),x(),A(14,"a",10),R(15,"About"),x(),A(16,"a",11),R(17,"Contact"),x(),A(18,"a",12),ue("click",function(){return i.toggleCart()}),R(19,"Cart "),Vt(20,uk,3,3,"span",13),ai(21,"async"),x()()()()()()),r&2&&(Mn("scrolled",i.isScrolled)("bg-chocolate-800",i.isScrolled)("bg-transparent",!i.isScrolled),re(20),Be("ngIf",ci(21,7,i.count$)))},dependencies:[De,lI,sc],encapsulation:2})}}return t})();var Bw=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=we({type:t,selectors:[["app-hero"]],decls:25,vars:0,consts:[[1,"relative","h-screen","w-screen","flex","items-center","overflow-hidden"],[1,"absolute","inset-0","z-0","bg-[#CBA35C]","h-full","hero-bg"],[1,"grid","grid-cols-2","w-full","h-full"],[1,"h-full","w-full","flex","relative","blur-[2px]"],["src","assets/images/strawberry.png","alt","",1,"absolute","right-40","top-10","floating","w-50","rotate-circle"],["src","assets/images/cherries.png","alt","",1,"absolute","left-30","bottom-30","floating","w-30","rotate-circle"],["src","assets/images/coco.png","alt","",1,"absolute","right-30","bottom-50","floating","w-30"],["src","assets/images/raisins.png","alt","",1,"absolute","left-20","top-50","floating","w-30","-rotate-15"],["src","assets/images/garbanzo.png","alt","",1,"absolute","left-100","bottom-30","floating","w-20"],["src","assets/images/garbanzo.png","alt","",1,"absolute","left-90","top-30","floating","w-20"],["src","assets/images/peanut.png","alt","",1,"absolute","right-0","top-50","floating","w-30"],[1,"h-full","w-full","flex","items-center","justify-center","relative"],["src","assets/images/hero-image-1.png","alt","",1,"absolute","left-0","-rotate-75","floating","w-150","z-5"],["src","assets/images/hero-image-2.png","alt","",1,"absolute","left-35","-rotate-35","floating","floating-delay","w-150","z-4"],["src","assets/images/hero-image-3.png","alt","",1,"absolute","left-70","floating","w-150","z-4"],[1,"relative","z-10","text-center","text-white","w-full"],[1,"grid","grid-cols-2","w-full"],[1,"h-full","w-full","flex","items-center","justify-center","flex-col"],[1,"poppins-bold","text-4xl","hearo-header","mb-4"],[1,"poppins-bold","text-8xl","hearo-header"],[1,"mt-12","text-xl"],[1,"h-full","w-full"]],template:function(r,i){r&1&&(A(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),pe(4,"img",4)(5,"img",5)(6,"img",6)(7,"img",7)(8,"img",8)(9,"img",9)(10,"img",10),x(),A(11,"div",11),pe(12,"img",12)(13,"img",13)(14,"img",14),x()()(),A(15,"div",15)(16,"div",16)(17,"div",17)(18,"h3",18),R(19,"Nutsontop"),x(),A(20,"h3",19),R(21,"TIME TO GET NUTTY!"),x(),A(22,"p",20),R(23,"Savor the finest handcrafted chocolates, made with love and the richest ingredients. Treat yourself to a moment of sweetness today!"),x()(),pe(24,"div",21),x()()())},dependencies:[De],encapsulation:2})}}return t})();var uu=(()=>{class t{constructor(){this.products=[{id:1,name:"Crunchmaster",price:1200,image:"assets/images/crunch-master.png",description:"Sri Lanka\u2019s first-ever peanut butter chocolate bar is here! Crunchmaster is a bold fusion of crispy toasted garbanzo bean shards and smooth, creamy peanut butter, creating the ultimate crunch-meets-cream experience. Every bite is packed with texture, flavor, and a satisfying snap.",size:120,isFeatured:!1},{id:2,name:"Cheri Cheri Lady",price:650,image:"assets/images/cherry-cherry.png",description:"Indulge in the luxury of white chocolate, balanced with sweet-tart cherries and juicy raisins. Cheri Cheri Lady is for those who crave a fruit-filled, creamy delight with a touch of nostalgia and romance.",isFeatured:!1,size:120},{id:3,name:"Nuttin' But Love",price:850,image:"assets/images/coffee-craze.png",description:"A world first! Nuttin\u2019 But Love is the only chocolate bar in the world with a garbanzo bean nougat\u2014a chewy, nutty, and completely unique creation. Paired with rich, velvety dark chocolate, this bar is made for those who love bold flavors with a twist.",isFeatured:!1,size:120},{id:4,name:"Truffle Box",price:1849,image:"assets/images/Truffle-Box Post.JPG",description:"Indulge in Sri Lanka\u2019s first-ever Peanut Butter & Jelly truffle and Coconut Fudge truffle, alongside 4 other decadent, handcrafted flavors\u2014all wrapped up in the perfect Valentine\u2019s treat.",isFeatured:!0,size:120}]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Oi=(()=>{class t{constructor(n,r){this.appRef=n,this.injector=r,this.dialogComponentRef=null}open(n,r={}){this.closeAll();let i=document.createElement("div");i.className="modal-wrapper fixed inset-0 z-50 overflow-y-auto",document.body.appendChild(i);let o=iI(n,{environmentInjector:this.injector,hostElement:i});return Object.assign(o.instance,r),this.appRef.attachView(o.hostView),this.dialogComponentRef=o,o}closeAll(){if(this.dialogComponentRef){this.appRef.detachView(this.dialogComponentRef.hostView),this.dialogComponentRef.destroy(),this.dialogComponentRef=null;let n=document.querySelector(".modal-wrapper");n&&n.remove()}}static{this.\u0275fac=function(r){return new(r||t)(te(Dn),te(Pt))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var lk=["*"],$w=(()=>{class t{constructor(n){this.dialogService=n,this.closed=new Je}close(){this.closed.emit(),this.dialogService.closeAll()}static{this.\u0275fac=function(r){return new(r||t)(W(Oi))}}static{this.\u0275cmp=we({type:t,selectors:[["app-base-modal"]],outputs:{closed:"closed"},ngContentSelectors:lk,decls:11,vars:0,consts:[["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"flex","items-center","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","backdrop-blur-sm","transition-opacity",3,"click"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"],[1,"absolute","top-0","right-0","pt-4","pr-4"],["type","button",1,"bg-white","rounded-md","text-gray-400","hover:text-gray-500","focus:outline-none",3,"click"],[1,"sr-only"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(r,i){r&1&&(J_(),A(0,"div",0)(1,"div",1)(2,"div",2),ue("click",function(){return i.close()}),x(),A(3,"div",3)(4,"div",4)(5,"button",5),ue("click",function(){return i.close()}),A(6,"span",6),R(7,"Close"),x(),Iv(),A(8,"svg",7),pe(9,"path",8),x()()(),Z_(10),x()()())},dependencies:[De],encapsulation:2})}}return t})();var Hw=(()=>{class t{constructor(n,r){this.cartService=n,this.dialogService=r,this.product=null,this.isOpen=!1}close(){this.dialogService.closeAll()}addToCart(){this.product&&(this.cartService.addToCart({id:this.product.id,name:this.product.name,price:this.product.price,image:this.product.image,quantity:1}),this.close())}static{this.\u0275fac=function(r){return new(r||t)(W(Gt),W(Oi))}}static{this.\u0275cmp=we({type:t,selectors:[["app-product-modal"]],inputs:{product:"product",isOpen:"isOpen"},decls:20,vars:6,consts:[[3,"closed"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mt-3","text-center","sm:mt-0","sm:text-left","w-full"],[1,"flex","flex-col","items-center"],[1,"w-full","h-64","object-cover","rounded-lg","mb-4",3,"src","alt"],["id","modal-title",1,"text-2xl","leading-6","font-medium","text-gray-900","mb-4"],[1,"mt-2"],[1,"text-gray-500","text-sm","mb-4"],[1,"text-2xl","font-bold","text-chocolate-600","mb-6"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-chocolate-600","text-base","font-medium","text-white","hover:bg-chocolate-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-chocolate-500","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"],["type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-chocolate-500","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"click"]],template:function(r,i){r&1&&(A(0,"app-base-modal",0),ue("closed",function(){return i.close()}),A(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),pe(5,"img",5),A(6,"h3",6),R(7),x()(),A(8,"div",7)(9,"p",8),R(10),x(),A(11,"p",8),R(12),x(),A(13,"p",9),R(14),x()()()()(),A(15,"div",10)(16,"button",11),ue("click",function(){return i.addToCart()}),R(17," Add to Cart "),x(),A(18,"button",12),ue("click",function(){return i.close()}),R(19," Close "),x()()()),r&2&&(re(5),Be("src",i.product==null?null:i.product.image,oi)("alt",i.product==null?null:i.product.name),re(2),ct(" ",i.product==null?null:i.product.name," "),re(3),ct(" ",i.product==null?null:i.product.description," "),re(2),ct(" Size ",i.product==null?null:i.product.size,"g "),re(2),ct(" LKR ",i.product==null?null:i.product.price," "))},dependencies:[De,$w],encapsulation:2})}}return t})();function dk(t,e){if(t&1){let n=ec();A(0,"div",9)(1,"div",10)(2,"h3",11),ue("click",function(){let i=Cn(n).$implicit,o=Lt(2);return Sn(o.openModal(i))}),R(3),x(),A(4,"div",12),ue("click",function(){let i=Cn(n).$implicit,o=Lt(2);return Sn(o.openModal(i))}),pe(5,"img",13),x(),A(6,"div",14)(7,"button",15),ue("click",function(){let i=Cn(n).$implicit,o=Lt(2);return Sn(o.addToCart(i))}),R(8),x()()()()}if(t&2){let n=e.$implicit;re(3),yt(n.name),re(2),tc("src",n.image,oi),tc("alt",n.name),re(3),ct("Add to Cart LKR ",n.price,"")}}function hk(t,e){if(t&1&&(A(0,"div",7),Vt(1,dk,9,4,"div",8),x()),t&2){let n=e.$implicit;re(),Be("ngForOf",n)}}var qw=(()=>{class t{constructor(){this.cartService=q(Gt),this.productService=q(uu),this.products=this.productService.products,this.dialogService=q(Oi),this.productGroups=[this.products,this.products]}openModal(n){this.dialogService.open(Hw,{product:n})}addToCart(n){console.log("Adding to cart:",n),this.cartService.addToCart({id:n.id,name:n.name,price:n.price,image:n.image,quantity:1})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=we({type:t,selectors:[["app-products"]],decls:9,vars:1,consts:[["id","products",1,"py-20","bg-chocolate-50"],[1,"container","text-center"],[1,"text-4xl","font-bold","text-chocolate-900","text-center","mb-12"],[1,"text-xl","text-chocolate-700","leading-relaxed","max-w-2xl","mx-auto","justify-center"],[1,"overflow-hidden","relative","mt-6"],[1,"flex","animate-scroll"],["class","product-slide flex gap-6 me-6",4,"ngFor","ngForOf"],[1,"product-slide","flex","gap-6","me-6"],["class","w-72 flex-shrink-0 bg-chocolate-100 rounded-xl shadow-lg overflow-hidden transform transition-transform duration-300 hover:scale-105",4,"ngFor","ngForOf"],[1,"w-72","flex-shrink-0","bg-chocolate-100","rounded-xl","shadow-lg","overflow-hidden","transform","transition-transform","duration-300","hover:scale-105"],[1,"group","cursor-pointer","rounded-xl","p-5"],[1,"pt-4","text-xl","font-medium","mb-2","text-chocolate-900","text-center",3,"click"],[1,"relative","overflow-hidden","mb-6",3,"click"],[1,"w-full","h-[400px]","object-cover","transition-transform","duration-700","group-hover:scale-110",3,"src","alt"],[1,"flex","justify-center","items-center"],["type","button",1,"bg-chocolate-900","self-center","font-medium","rounded-lg","text-sm","px-4","py-2","text-white","cursor-pointer",3,"click"]],template:function(r,i){r&1&&(A(0,"section",0)(1,"div",1)(2,"h2",2),R(3,"Signature Chocolate Bars"),x(),A(4,"p",3),R(5," Discover our handcrafted chocolate collection, made with organic ingredients and love. "),x(),A(6,"div",4)(7,"div",5),Vt(8,hk,2,1,"div",6),x()()()()),r&2&&(re(8),Be("ngForOf",i.productGroups))},dependencies:[De,li],styles:[".animate-scroll[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scroll 40s linear infinite}@keyframes _ngcontent-%COMP%_scroll{0%{transform:translate(0)}to{transform:translate(-100%)}}.product-slide[_ngcontent-%COMP%]{flex:0 0 auto}"]})}}return t})();function fk(t,e){if(t&1&&(A(0,"div",7),pe(1,"img",8),A(2,"div",9),pe(3,"div"),x(),A(4,"p",10),R(5),x(),A(6,"h3",11),R(7),x(),pe(8,"img",12),x()),t&2){let n=e.$implicit;re(5),yt(n.content),re(2),ct("- ",n.name,"")}}var Gw=(()=>{class t{constructor(){this.reviews=[{id:1,name:"Sanju",avatar:"https://i.pravatar.cc/150?img=1",content:"Bro, the chocolate was great! The crunchiness of the chickpeas combined with the white chocolate was a game-changer for me. Will definitely try the other flavors soon",rating:5},{id:2,name:"Dinithi",avatar:"https://i.pravatar.cc/150?img=2",content:"It's absolutely nuts how good this is! \u{1F60D} Everyone needs to get on it.",rating:5},{id:3,name:"Shevyn",avatar:"https://i.pravatar.cc/150?img=3",content:"Man this reminds of the penut butter mnm. So good ! Gotta try out the rest. So nice it bite into something and know that the manufacturer hasn't stinted on the nuts DAMN",rating:4},{id:4,name:"Irsham",avatar:"https://i.pravatar.cc/150?img=3",content:"This gotta be the best. SL made chocolates I have ever tried \u2764 Hats off. Great product. @nutsontopchocolates",rating:4},{id:5,name:"Yazmin",avatar:"https://i.pravatar.cc/150?img=3",content:"Can't try Bounty? Get the Coco Loco instead!",rating:4},{id:6,name:"Gavin",avatar:"https://i.pravatar.cc/150?img=3",content:"Bro... my fam also loved it. Let me know when you make the next batch",rating:4},{id:7,name:"Amaya",avatar:"https://i.pravatar.cc/150?img=3",content:"Hi! Yes they were great! My mom loved them \u2764 Our fav is the peanut butter one. Hope there will be more flavours in the future \u{1F60A}",rating:4}]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=we({type:t,selectors:[["app-reviews"]],decls:9,vars:1,consts:[["id","reviews",1,"py-20","bg-chocolate-100"],[1,"container","text-center"],[1,"text-4xl","font-bold","text-chocolate-900","text-center","mb-12"],[1,"text-xl","text-chocolate-700","leading-relaxed","max-w-2xl","mx-auto","justify-center","mb-6"],[1,"overflow-hidden","py-2"],[1,"flex","animate-scroll","gap-4"],["class","min-w-96 bg-white p-6 rounded-xl shadow-lg transform transition-transform duration-300 hover:-translate-y-2 relative",4,"ngFor","ngForOf"],[1,"min-w-96","bg-white","p-6","rounded-xl","shadow-lg","transform","transition-transform","duration-300","hover:-translate-y-2","relative"],["src","assets/images/double-quotes.png",1,"absolute","left-2","top-2","rotate-180"],[1,"flex","items-center","mb-4"],[1,"text-chocolate-700"],[1,"font-semibold","text-chocolate-900","text-end","me-5"],["src","assets/images/double-quotes.png",1,"absolute","right-2","bottom-2"]],template:function(r,i){r&1&&(A(0,"section",0)(1,"div",1)(2,"h2",2),R(3,"Sweet Words from Our Happy Customers"),x(),A(4,"p",3),R(5," Indulgence meets perfection! Don\u2019t just take our word for it, See what our chocolate lovers have to say. "),x(),A(6,"div",4)(7,"div",5),Vt(8,fk,9,2,"div",6),x()()()()),r&2&&(re(8),Be("ngForOf",i.reviews))},dependencies:[De,li],styles:[".review-background[_ngcontent-%COMP%]{background:url(/assets/images/double-quotes.png) no-repeat}.animate-scroll[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scroll 40s linear infinite}@keyframes _ngcontent-%COMP%_scroll{0%{transform:translate(0)}to{transform:translate(-100%)}}"]})}}return t})();var zw=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=we({type:t,selectors:[["app-about"]],decls:16,vars:0,consts:[["videoElement",""],["id","about",1,"py-20","bg-white"],[1,"container"],[1,"grid","md:grid-cols-2","gap-12","items-end"],[1,"about-image","relative","h-full"],[1,"h-full"],["playsinline","true","loop","loop","muted","muted","preload","metadata","src",Jv`https://www.youtube.com/embed/GMVkTRB4B08`,1,"rounded-xl","h-full"],[1,"about-content"],[1,"text-4xl","font-bold","text-chocolate-900","mb-6"],[1,"text-lg","text-chocolate-700","leading-relaxed","mb-6"],[1,"text-lg","text-chocolate-700","leading-relaxed"]],template:function(r,i){r&1&&(A(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),pe(5,"iframe",6,0),x()(),A(7,"div",7)(8,"h2",8),R(9,"Our Story"),x(),A(10,"p",9),R(11," At NutsOnTop, we don\u2019t just make chocolate\u2014we create experiences. Our handcrafted, bold, and fun flavors are designed to excite your taste buds. From Sri Lanka\u2019s first Peanut Butter & Jelly Truffle to our Garbanzo Nougat, we push the boundaries of chocolate. "),x(),A(12,"p",9),R(13," We focus on affordable indulgence, high-quality ingredients, and flavors that stand out. Every bar, truffle, and bite is made with passion to give you a chocolate experience like no other. "),x(),A(14,"p",10),R(15," \u{1F680} Handmade. Bold. Delicious. "),x()()()()())},dependencies:[De],encapsulation:2})}}return t})();var tD=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(W(xo),W(ii))};static \u0275dir=gt({type:t})}return t})(),pk=(()=>{class t extends tD{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Mv(t)))(i||t)}})();static \u0275dir=gt({type:t,features:[xn]})}return t})(),nD=new H("");var mk={provide:nD,useExisting:ti(()=>_u),multi:!0};function gk(){let t=ui()?ui().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var yk=new H(""),_u=(()=>{class t extends tD{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!gk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(W(xo),W(ii),W(yk,8))};static \u0275dir=gt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ue("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[nc([mk]),xn]})}return t})();function $n(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function rD(t){return t!=null&&typeof t.length=="number"}var iD=new H(""),oD=new H(""),vk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Nr=class{static min(e){return _k(e)}static max(e){return Ik(e)}static required(e){return Ek(e)}static requiredTrue(e){return wk(e)}static email(e){return Dk(e)}static minLength(e){return bk(e)}static maxLength(e){return Tk(e)}static pattern(e){return Ck(e)}static nullValidator(e){return sD(e)}static compose(e){return hD(e)}static composeAsync(e){return pD(e)}};function _k(t){return e=>{if($n(e.value)||$n(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Ik(t){return e=>{if($n(e.value)||$n(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Ek(t){return $n(t.value)?{required:!0}:null}function wk(t){return t.value===!0?null:{required:!0}}function Dk(t){return $n(t.value)||vk.test(t.value)?null:{email:!0}}function bk(t){return e=>$n(e.value)||!rD(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Tk(t){return e=>rD(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Ck(t){if(!t)return sD;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if($n(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function sD(t){return null}function aD(t){return t!=null}function cD(t){return si(t)?wl(t):t}function uD(t){let e={};return t.forEach(n=>{e=n!=null?$($({},e),n):e}),Object.keys(e).length===0?null:e}function lD(t,e){return e.map(n=>n(t))}function Sk(t){return!t.validate}function dD(t){return t.map(e=>Sk(e)?e:n=>e.validate(n))}function hD(t){if(!t)return null;let e=t.filter(aD);return e.length==0?null:function(n){return uD(lD(n,e))}}function fD(t){return t!=null?hD(dD(t)):null}function pD(t){if(!t)return null;let e=t.filter(aD);return e.length==0?null:function(n){let r=lD(n,e).map(cD);return Dl(r).pipe(Xn(uD))}}function mD(t){return t!=null?pD(dD(t)):null}function Ww(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function gD(t){return t._rawValidators}function yD(t){return t._rawAsyncValidators}function Jp(t){return t?Array.isArray(t)?t:[t]:[]}function hu(t,e){return Array.isArray(t)?t.includes(e):t===e}function Kw(t,e){let n=Jp(e);return Jp(t).forEach(i=>{hu(n,i)||n.push(i)}),n}function Qw(t,e){return Jp(e).filter(n=>!hu(t,n))}var fu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Li=class extends fu{name;get formDirective(){return null}get path(){return null}},fs=class extends fu{_parent=null;name=null;valueAccessor=null},pu=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Ak={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},d$=he($({},Ak),{"[class.ng-submitted]":"isSubmitted"}),vD=(()=>{class t extends pu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(W(fs,2))};static \u0275dir=gt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Mn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[xn]})}return t})(),_D=(()=>{class t extends pu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(W(Li,10))};static \u0275dir=gt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Mn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[xn]})}return t})();var us="VALID",lu="INVALID",Fi="PENDING",ls="DISABLED",Hn=class{},mu=class extends Hn{value;source;constructor(e,n){super(),this.value=e,this.source=n}},ds=class extends Hn{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},hs=class extends Hn{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Vi=class extends Hn{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Zp=class extends Hn{source;constructor(e){super(),this.source=e}},Xp=class extends Hn{source;constructor(e){super(),this.source=e}};function nm(t){return(Iu(t)?t.validators:t)||null}function Nk(t){return Array.isArray(t)?fD(t):t||null}function rm(t,e){return(Iu(e)?e.asyncValidators:t)||null}function xk(t){return Array.isArray(t)?mD(t):t||null}function Iu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function ID(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[n])throw new U(1001,"")}function ED(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new U(1002,"")})}var ji=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return At(this.statusReactive)}set status(e){At(()=>this.statusReactive.set(e))}_status=Ro(()=>this.statusReactive());statusReactive=dr(void 0);get valid(){return this.status===us}get invalid(){return this.status===lu}get pending(){return this.status==Fi}get disabled(){return this.status===ls}get enabled(){return this.status!==ls}errors;get pristine(){return At(this.pristineReactive)}set pristine(e){At(()=>this.pristineReactive.set(e))}_pristine=Ro(()=>this.pristineReactive());pristineReactive=dr(!0);get dirty(){return!this.pristine}get touched(){return At(this.touchedReactive)}set touched(e){At(()=>this.touchedReactive.set(e))}_touched=Ro(()=>this.touchedReactive());touchedReactive=dr(!1);get untouched(){return!this.touched}_events=new Qt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Kw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Kw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qw(e,this._rawAsyncValidators))}hasValidator(e){return hu(this._rawValidators,e)}hasAsyncValidator(e){return hu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he($({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new hs(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new hs(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he($({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ds(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ds(!0,r))}markAsPending(e={}){this.status=Fi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he($({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ls,this.errors=null,this._forEachChild(i=>{i.disable(he($({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mu(this.value,r)),this._events.next(new Vi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he($({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=us,this._forEachChild(r=>{r.enable(he($({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he($({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===us||this.status===Fi)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mu(this.value,n)),this._events.next(new Vi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he($({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ls:us}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Fi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=cD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Vi(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?ls:this.errors?lu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fi)?Fi:this._anyControlsHaveStatus(lu)?lu:us}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ds(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new hs(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Iu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Nk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xk(this._rawAsyncValidators)}},gu=class extends ji{constructor(e,n,r){super(nm(n),rm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){ED(this,!0,e),Object.keys(e).forEach(r=>{ID(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var em=class extends gu{};var im=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Eu}),Eu="always";function Mk(t,e){return[...e.path,t]}function Yw(t,e,n=Eu){om(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Pk(t,e),Ok(t,e),kk(t,e),Rk(t,e)}function Jw(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),vu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function yu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Rk(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function om(t,e){let n=gD(t);e.validator!==null?t.setValidators(Ww(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=yD(t);e.asyncValidator!==null?t.setAsyncValidators(Ww(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();yu(e._rawValidators,i),yu(e._rawAsyncValidators,i)}function vu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=gD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=yD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return yu(e._rawValidators,r),yu(e._rawAsyncValidators,r),n}function Pk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&wD(t,e)})}function kk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&wD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function wD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ok(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Fk(t,e){t==null,om(t,e)}function Vk(t,e){return vu(t,e)}function Lk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function jk(t){return Object.getPrototypeOf(t.constructor)===pk}function Bk(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Uk(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===_u?n=o:jk(o)?r=o:i=o}),i||r||n||null}function $k(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Zw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Xw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var du=class extends ji{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(nm(n),rm(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Iu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Xw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Zw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Zw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Xw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Hk=t=>t instanceof du;var DD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=gt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var bD=new H("");var qk={provide:Li,useExisting:ti(()=>sm)},sm=(()=>{class t extends Li{callSetDisabledState;get submitted(){return At(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Ro(()=>this._submittedReactive());_submittedReactive=dr(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Je;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Yw(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Jw(n.control||null,n,!1),$k(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),Bk(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Zp(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Xp(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(Jw(r||null,n),Hk(i)&&(Yw(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);Fk(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Vk(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){om(this.form,this),this._oldForm&&vu(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||t)(W(iD,10),W(oD,10),W(im,8))};static \u0275dir=gt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ue("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[nc([qk]),xn,$a]})}return t})();var Gk={provide:fs,useExisting:ti(()=>am)},am=(()=>{class t extends fs{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Je;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Uk(this,o)}ngOnChanges(n){this._added||this._setUpControl(),Lk(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Mk(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(W(Li,13),W(iD,10),W(oD,10),W(nD,10),W(bD,8))};static \u0275dir=gt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[nc([Gk]),xn,$a]})}return t})();var TD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=hr({type:t});static \u0275inj=lr({})}return t})(),tm=class extends ji{constructor(e,n,r){super(nm(n),rm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){ED(this,!1,e),e.forEach((r,i)=>{ID(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function eD(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var CD=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return eD(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new gu(i,o)}record(n,r=null){let i=this._reduceControls(n);return new em(i,r)}control(n,r,i){let o={};return this.useNonNullable?(eD(r)?o=r:(o.validators=r,o.asyncValidators=i),new du(n,he($({},o),{nonNullable:!0}))):new du(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new tm(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof du)return n;if(n instanceof ji)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var SD=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:im,useValue:n.callSetDisabledState??Eu}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=hr({type:t});static \u0275inj=lr({imports:[TD]})}return t})(),AD=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:bD,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:im,useValue:n.callSetDisabledState??Eu}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=hr({type:t});static \u0275inj=lr({imports:[TD]})}return t})();var It=class{constructor(e=0,n="Network Error"){this.status=e,this.text=n}};var ND=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}};var Ce={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ND()};var Bi=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{};var xD=(t,e="https://api.emailjs.com")=>{if(!t)return;let n=Bi(t);Ce.publicKey=n.publicKey,Ce.blockHeadless=n.blockHeadless,Ce.storageProvider=n.storageProvider,Ce.blockList=n.blockList,Ce.limitRate=n.limitRate,Ce.origin=n.origin||e};var wu=(r,i,...o)=>S(void 0,[r,i,...o],function*(t,e,n={}){let s=yield fetch(Ce.origin+t,{method:"POST",headers:n,body:e}),c=yield s.text(),u=new It(s.status,c);if(s.ok)return u;throw u});var Du=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"};var MD=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"};var bu=t=>t.webdriver||!t.languages||t.languages.length===0;var Tu=()=>new It(451,"Unavailable For Headless Browser");var RD=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"};var Wk=t=>!t.list?.length||!t.watchVariable,Kk=(t,e)=>t instanceof FormData?t.get(e):t[e],Cu=(t,e)=>{if(Wk(t))return!1;RD(t.list,t.watchVariable);let n=Kk(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)};var Su=()=>new It(403,"Forbidden");var PD=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"};var Qk=(t,e,n)=>S(void 0,null,function*(){let r=Number((yield n.get(t))||0);return e-Date.now()+r}),Au=(t,e,n)=>S(void 0,null,function*(){if(!e.throttle||!n)return!1;PD(e.throttle,e.id);let r=e.id||t;return(yield Qk(r,e.throttle,n))>0?!0:(yield n.set(r,Date.now().toString()),!1)});var Nu=()=>new It(429,"Too Many Requests");var kD=(t,e,n,r)=>S(void 0,null,function*(){let i=Bi(r),o=i.publicKey||Ce.publicKey,s=i.blockHeadless||Ce.blockHeadless,c=i.storageProvider||Ce.storageProvider,u=$($({},Ce.blockList),i.blockList),h=$($({},Ce.limitRate),i.limitRate);return s&&bu(navigator)?Promise.reject(Tu()):(Du(o,t,e),MD(n),n&&Cu(u,n)?Promise.reject(Su()):(yield Au(location.pathname,h,c))?Promise.reject(Nu()):wu("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))});var OD=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"};var Yk=t=>typeof t=="string"?document.querySelector(t):t,FD=(t,e,n,r)=>S(void 0,null,function*(){let i=Bi(r),o=i.publicKey||Ce.publicKey,s=i.blockHeadless||Ce.blockHeadless,c=Ce.storageProvider||i.storageProvider,u=$($({},Ce.blockList),i.blockList),h=$($({},Ce.limitRate),i.limitRate);if(s&&bu(navigator))return Promise.reject(Tu());let f=Yk(n);Du(o,t,e),OD(f);let m=new FormData(f);return Cu(u,m)?Promise.reject(Su()):(yield Au(location.pathname,h,c))?Promise.reject(Nu()):(m.append("lib_version","4.4.1"),m.append("service_id",t),m.append("template_id",e),m.append("user_id",o),wu("/api/v1.0/email/send-form",m))});var VD={init:xD,send:kD,sendForm:FD,EmailJSResponseStatus:It};var LD=(()=>{class t{constructor(n){this.fb=n,this.isSubmitting=!1,this.contactForm=this.fb.group({name:["",Nr.required],email:["",[Nr.required,Nr.email]],message:["",Nr.required]})}onSubmit(){return S(this,null,function*(){if(this.contactForm.valid){this.isSubmitting=!0;try{yield VD.send("service_gt5zaur","template_91r34yw",{from_name:this.contactForm.value.name,from_email:this.contactForm.value.email,message:this.contactForm.value.message},"EBd1beACoFjqT4f04"),this.contactForm.reset(),alert("Message sent successfully!")}catch(n){console.error("Error sending message:",n),alert("Failed to send message. Please try again.")}finally{this.isSubmitting=!1}}})}openWhatsapp(){window.open("https://wa.me/+94740946220","_blank")}static{this.\u0275fac=function(r){return new(r||t)(W(CD))}}static{this.\u0275cmp=we({type:t,selectors:[["app-footer"]],decls:70,vars:3,consts:[[1,"bg-chocolate-900","text-white","py-12"],[1,"container","mx-auto","px-4"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-8"],[1,"text-2xl","font-bold","mb-4"],[1,"text-chocolate-200","mb-4"],[1,"space-y-2"],[1,"flex","items-center"],[1,"mr-2"],["href","https://maps.app.goo.gl/SAZ7qCieM7TpZUSR6",1,"text-chocolate-200","hover:text-white","transition-colors"],[1,"flex","items-center","cursor-pointer",3,"click"],["href","mailto:hello@nutsontop.com",1,"text-chocolate-200","hover:text-white","transition-colors"],[1,"text-xl","font-semibold","mb-4"],["href","#",1,"text-chocolate-200","hover:text-white","transition-colors"],["href","#products",1,"text-chocolate-200","hover:text-white","transition-colors"],["href","#about",1,"text-chocolate-200","hover:text-white","transition-colors"],["href","#reviews",1,"text-chocolate-200","hover:text-white","transition-colors"],[1,"text-chocolate-200","hover:text-white","transition-colors"],[1,"mb-4"],["href","https://www.instagram.com/nutsontopchocolates/",1,"hover:underline"],["href","https://www.tiktok.com/@nutsontop",1,"hover:underline"],["href","https://www.facebook.com/nutsontop/",1,"hover:underline"],["href","https://www.youtube.com/channel/UCBVfFkxrHOqKua2ybmKURHw",1,"hover:underline"],[1,"col-span-2"],[1,"space-y-4",3,"ngSubmit","formGroup"],["type","text","formControlName","name","placeholder","Your Name",1,"w-full","px-4","py-2","rounded","bg-chocolate-800","text-white","placeholder-chocolate-400","border","border-chocolate-700","focus:outline-none","focus:border-chocolate-500"],["type","email","formControlName","email","placeholder","Your Email",1,"w-full","px-4","py-2","rounded","bg-chocolate-800","text-white","placeholder-chocolate-400","border","border-chocolate-700","focus:outline-none","focus:border-chocolate-500"],["formControlName","message","placeholder","Your Message","rows","4",1,"w-full","px-4","py-2","rounded","bg-chocolate-800","text-white","placeholder-chocolate-400","border","border-chocolate-700","focus:outline-none","focus:border-chocolate-500"],["type","submit",1,"w-full","bg-chocolate-600","text-white","py-2","rounded","hover:bg-chocolate-700","transition-colors","disabled:opacity-50",3,"disabled"],[1,"mt-8","pt-8","border-t","border-chocolate-700","text-center","text-chocolate-400"]],template:function(r,i){r&1&&(A(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),R(5,"Nuts On Top"),x(),A(6,"p",4),R(7," Handmade. Bold. Delicious. "),x(),A(8,"div",5)(9,"p",6)(10,"span",7),R(11,"\u{1F4CD}"),x(),A(12,"a",8),R(13,"9/5 Station Road, Colombo 04, Sri Lanka"),x()(),A(14,"p",9),ue("click",function(){return i.openWhatsapp()}),A(15,"span",7),R(16,"\u{1F4DE}"),x(),R(17," +94 74 094 6220 "),x(),A(18,"p",6)(19,"span",7),R(20,"\u2709\uFE0F"),x(),A(21,"a",10),R(22,"hello@nutsontop.com"),x()()()(),A(23,"div")(24,"h3",11),R(25,"Quick Links"),x(),A(26,"ul",5)(27,"li")(28,"a",12),R(29,"Home"),x()(),A(30,"li")(31,"a",13),R(32,"Products"),x()(),A(33,"li")(34,"a",14),R(35,"About Us"),x()(),A(36,"li")(37,"a",15),R(38,"Reviews"),x()()()(),A(39,"div")(40,"h3",11),R(41,"Follow us"),x(),A(42,"ul",16)(43,"li",17)(44,"a",18),R(45,"Instagram"),x()(),A(46,"li",17)(47,"a",19),R(48,"TikTok"),x()(),A(49,"li",17)(50,"a",20),R(51,"Facebook"),x()(),A(52,"li")(53,"a",21),R(54,"YouTube"),x()()()(),A(55,"div",22)(56,"h3",11),R(57,"Contact Us"),x(),A(58,"form",23),ue("ngSubmit",function(){return i.onSubmit()}),A(59,"div"),pe(60,"input",24),x(),A(61,"div"),pe(62,"input",25),x(),A(63,"div"),pe(64,"textarea",26),x(),A(65,"button",27),R(66),x()()()(),A(67,"div",28)(68,"p"),R(69,"\xA9 2025 Nuts On Top. All rights reserved."),x()()()()),r&2&&(re(58),Be("formGroup",i.contactForm),re(7),Be("disabled",!i.contactForm.valid||i.isSubmitting),re(),ct(" ",i.isSubmitting?"Sending...":"Send Message"," "))},dependencies:[De,SD,DD,_u,vD,_D,AD,sm,am],encapsulation:2})}}return t})();function Jk(t,e){if(t&1){let n=ec();A(0,"div",12),pe(1,"img",13),A(2,"div",14)(3,"h3",15),R(4),x(),A(5,"p",16),R(6),x(),A(7,"div",17)(8,"button",18),ue("click",function(){let i=Cn(n).$implicit,o=Lt();return Sn(o.updateQuantity(i.id,i.quantity-1))}),R(9,"-"),x(),A(10,"span"),R(11),x(),A(12,"button",19),ue("click",function(){let i=Cn(n).$implicit,o=Lt();return Sn(o.updateQuantity(i.id,i.quantity+1))}),R(13,"+"),x(),A(14,"button",20),ue("click",function(){let i=Cn(n).$implicit,o=Lt();return Sn(o.removeFromCart(i.id))}),R(15," Remove "),x()()()()}if(t&2){let n=e.$implicit;re(),Be("src",n.image,oi)("alt",n.name),re(3),yt(n.name),re(2),yt(n.price),re(2),Be("disabled",n.quantity<=1),re(3),yt(n.quantity)}}var jD=(()=>{class t{constructor(n){this.cartService=n,this.isOpen=U_(!1),this.items=[],this.cartItems$=this.cartService.getCartItems(),this.total$=new ge(r=>{this.cartItems$.subscribe(i=>{this.items=i,r.next(this.cartService.getTotal())})})}ngOnInit(){}toggleCart(){this.isOpen.update(n=>!n)}removeFromCart(n){this.cartService.removeFromCart(n)}updateQuantity(n,r){r>0&&this.cartService.updateQuantity(n,r)}checkout(){let n=`Hey, I want to place an order:

`+this.items.map(o=>`- ${o.name}: ${o.quantity}`).join(`
`)+`

Please confirm the availability. Thanks!`,i=`https://wa.me/94740946220?text=${encodeURIComponent(n)}`;window.open(i,"_blank"),this.cartService.clearCart(),console.log("Proceeding to checkout")}static{this.\u0275fac=function(r){return new(r||t)(W(Gt))}}static{this.\u0275cmp=we({type:t,selectors:[["app-cart"]],inputs:{isOpen:[1,"isOpen"]},outputs:{isOpen:"isOpenChange"},decls:23,vars:10,consts:[[1,"fixed","right-0","top-0","h-screen","w-96","bg-white","shadow-lg","transform","transition-transform","duration-300","z-50"],[1,"p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-chocolate-900"],[1,"text-chocolate-600","hover:text-chocolate-900",3,"click"],[1,"text-2xl"],[1,"space-y-4"],["class","flex items-center space-x-4 p-4 bg-chocolate-50 rounded-lg",4,"ngFor","ngForOf"],[1,"mt-6","border-t","pt-4"],[1,"flex","justify-between","text-lg","font-semibold","mb-4"],[1,"text-center","bg-chocolate-100","rounded-2xl","py-5"],[1,"px-5","bg-chocolate-600","text-white","py-3","rounded-lg","hover:bg-chocolate-700","transition-colors","mt-3",3,"click"],[1,"flex","items-center","space-x-4","p-4","bg-chocolate-50","rounded-lg"],[1,"w-16","h-16","object-cover","rounded",3,"src","alt"],[1,"flex-1"],[1,"font-semibold","text-chocolate-900"],[1,"text-chocolate-600"],[1,"flex","items-center","space-x-2","mt-2"],[1,"px-2","py-1","bg-chocolate-200","rounded",3,"click","disabled"],[1,"px-2","py-1","bg-chocolate-200","rounded",3,"click"],[1,"ml-4","text-red-500","hover:text-red-700",3,"click"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),R(4,"Your Cart"),x(),A(5,"button",4),ue("click",function(){return i.toggleCart()}),A(6,"span",5),R(7,"\xD7"),x()()(),A(8,"div",6),Vt(9,Jk,16,6,"div",7),ai(10,"async"),x(),A(11,"div",8)(12,"div",9)(13,"span"),R(14,"Total:"),x(),A(15,"span"),R(16),ai(17,"async"),x()(),A(18,"div",10)(19,"p"),R(20,"Please send a DM to +94740946220 "),x(),A(21,"button",11),ue("click",function(){return i.checkout()}),R(22," Checkout "),x()()()()()),r&2&&(Mn("translate-x-0",i.isOpen())("translate-x-full",!i.isOpen()),re(9),Be("ngForOf",ci(10,6,i.cartItems$)),re(7),yt(ci(17,8,i.total$)))},dependencies:[De,li,sc],encapsulation:2})}}return t})();var BD=(()=>{class t{constructor(){this.productService=q(uu),this.featuredProduct=this.productService.products.find(n=>n.isFeatured),this.cartService=q(Gt)}addToCart(){console.log("Adding to cart:",this.featuredProduct),this.featuredProduct&&this.cartService.addToCart({id:this.featuredProduct.id,name:this.featuredProduct.name,price:this.featuredProduct.price,image:this.featuredProduct.image,quantity:1})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=we({type:t,selectors:[["app-featuring-item"]],decls:38,vars:0,consts:[[1,"py-20","bg-chocolate-100","mx-auto"],[1,"text-center","mb-16"],[1,"text-4xl","font-bold","text-chocolate-900","text-center","mb-12"],[1,"text-xl","text-chocolate-700","leading-relaxed","max-w-2xl","mx-auto","justify-center"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-16","items-center","text-chocolate-900"],[1,"px-20"],[1,"text-4xl","font-bold","text-chocolate-900","mb-8"],[1,"text-lg","leading-relaxed","mb-6"],[1,"text-lg","leading-relaxed"],[1,"list-disc","list-inside","ps-5","text-lg"],[1,"text-2xl","leading-relaxed","mt-8","text-center","font-semibold"],[1,"flex","justify-center","items-center","mt-4"],["type","button",1,"bg-chocolate-900","self-center","font-medium","rounded-lg","text-sm","px-4","py-2","text-white","cursor-pointer",3,"click"],["src","assets/images/Truffle-Box Post.JPG","alt","Chocolate making process",1,"w-full","h-full","object-cover"]],template:function(r,i){r&1&&(A(0,"section",0)(1,"div",1)(2,"h2",2),R(3,"Limited Edition Indulgence"),x(),A(4,"p",3),R(5," A Rare Treat - Here for a Limited Time!. "),x()(),A(6,"div",4)(7,"div",5)(8,"h2",6),R(9,"Valentine\u2019s Edition Truffle Box \u2764\uFE0F\u{1F36B}"),x(),A(10,"p",7),R(11," 6 Decadent Flavors, One Unforgettable Box! "),x(),A(12,"p",7),R(13," Indulge in Sri Lanka\u2019s first-ever Peanut Butter & Jelly truffle and Coconut Fudge truffle, alongside 4 other decadent, handcrafted flavors - all wrapped up in the perfect Valentine\u2019s treat. "),x(),A(14,"p",7),R(15," A Truffle Box That Loves You Back! Perfect for gifting, sharing, or indulging solo. "),x(),A(16,"p",8),R(17," Flavors Inside: "),x(),A(18,"ul",9)(19,"li"),R(20,"Peanut Butter & Jelly with coated White Chocolate"),x(),A(21,"li"),R(22,"Dark Chocolate & Coconut Fudge"),x(),A(23,"li"),R(24,"Strawberry & White Chocolate"),x(),A(25,"li"),R(26,"White Chocolate, Cherry & Garbanzo Nougat"),x(),A(27,"li"),R(28,"Butterscotch & Dark Chocolate"),x(),A(29,"li"),R(30,"Decadent Chocolate Fudge"),x()(),A(31,"p",10),R(32," \u{1F4E6} Limited Edition - Order Now "),x(),A(33,"div",11)(34,"button",12),ue("click",function(){return i.addToCart()}),R(35,"Add to Cart LKR 1849.00 "),x()()(),A(36,"div"),pe(37,"img",13),x()()())},encapsulation:2})}}return t})();var UD=(()=>{class t{constructor(){this.title="NutsonTop",this.isOpen=dr(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=we({type:t,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"min-h-screen","bg-white"],[3,"cartToggle"],[3,"isOpenChange","isOpen"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"app-navbar",1),ue("cartToggle",function(s){return i.isOpen.set(s)}),x(),pe(2,"app-hero")(3,"app-featuring-item")(4,"app-products")(5,"app-reviews")(6,"app-about")(7,"app-footer"),A(8,"app-cart",2),hh("isOpenChange",function(s){return eI(i.isOpen,s)||(i.isOpen=s),s}),x()()),r&2&&(re(8),dh("isOpen",i.isOpen))},dependencies:[De,jw,Bw,qw,Gw,zw,LD,jD,BD],encapsulation:2})}}return t})();var Zk={apiKey:"your-api-key",authDomain:"your-auth-domain",projectId:"your-project-id",storageBucket:"your-storage-bucket",messagingSenderId:"your-messaging-sender-id",appId:"your-app-id"};EI(UD,{providers:[YI(()=>JI(Zk)),Ow(()=>Lw())]}).catch(t=>console.error(t));
