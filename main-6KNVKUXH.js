var YD=Object.defineProperty,JD=Object.defineProperties;var ZD=Object.getOwnPropertyDescriptors;var Jm=Object.getOwnPropertySymbols;var XD=Object.prototype.hasOwnProperty,e0=Object.prototype.propertyIsEnumerable;var Zm=(t,e,n)=>e in t?YD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$=(t,e)=>{for(var n in e||={})XD.call(e,n)&&Zm(t,n,e[n]);if(Jm)for(var n of Jm(e))e0.call(e,n)&&Zm(t,n,e[n]);return t},ce=(t,e)=>JD(t,ZD(e));var S=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(h){i(h)}},a=u=>{try{c(n.throw(u))}catch(h){i(h)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,a);c((n=n.apply(t,e)).next())});function Wu(t,e){return Object.is(t,e)}var Ae=null,Ds=!1,Ku=1,nt=Symbol("SIGNAL");function Z(t){let e=Ae;return Ae=t,e}function Xm(){return Ae}var no={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bs(t){if(Ds)throw new Error("");if(Ae===null)return;Ae.consumerOnSignalRead(t);let e=Ae.nextProducerIndex++;if(As(Ae),e<Ae.producerNode.length&&Ae.producerNode[e]!==t&&to(Ae)){let n=Ae.producerNode[e];Ss(n,Ae.producerIndexOfThis[e])}Ae.producerNode[e]!==t&&(Ae.producerNode[e]=t,Ae.producerIndexOfThis[e]=to(Ae)?ng(t,Ae,e):0),Ae.producerLastReadVersion[e]=t.version}function t0(){Ku++}function Qu(t){if(!(to(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ku)){if(!t.producerMustRecompute(t)&&!Ju(t)){zu(t);return}t.producerRecomputeValue(t),zu(t)}}function eg(t){if(t.liveConsumerNode===void 0)return;let e=Ds;Ds=!0;try{for(let n of t.liveConsumerNode)n.dirty||n0(n)}finally{Ds=e}}function tg(){return Ae?.consumerAllowSignalWrites!==!1}function n0(t){t.dirty=!0,eg(t),t.consumerMarkedDirty?.(t)}function zu(t){t.dirty=!1,t.lastCleanEpoch=Ku}function Cs(t){return t&&(t.nextProducerIndex=0),Z(t)}function Yu(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(to(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ss(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ju(t){As(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Qu(n),r!==n.version))return!0}return!1}function Zu(t){if(As(t),to(t))for(let e=0;e<t.producerNode.length;e++)Ss(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ng(t,e,n){if(rg(t),t.liveConsumerNode.length===0&&ig(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ng(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ss(t,e){if(rg(t),t.liveConsumerNode.length===1&&ig(t))for(let r=0;r<t.producerNode.length;r++)Ss(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];As(i),i.producerIndexOfThis[r]=e}}function to(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function As(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function rg(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ig(t){return t.producerNode!==void 0}function og(t){let e=Object.create(r0);e.computation=t;let n=()=>{if(Qu(e),bs(e),e.value===Ts)throw e.error;return e.value};return n[nt]=e,n}var qu=Symbol("UNSET"),Gu=Symbol("COMPUTING"),Ts=Symbol("ERRORED"),r0=ce($({},no),{value:qu,dirty:!0,error:null,equal:Wu,producerMustRecompute(t){return t.value===qu||t.value===Gu},producerRecomputeValue(t){if(t.value===Gu)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Gu;let n=Cs(t),r;try{r=t.computation()}catch(i){r=Ts,t.error=i}finally{Yu(t,n)}if(e!==qu&&e!==Ts&&r!==Ts&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function i0(){throw new Error}var sg=i0;function ag(){sg()}function cg(t){sg=t}var o0=null;function ug(t){let e=Object.create(Xu);e.value=t;let n=()=>(bs(e),e.value);return n[nt]=e,n}function ro(t,e){tg()||ag(),t.equal(t.value,e)||(t.value=e,s0(t))}function lg(t,e){tg()||ag(),ro(t,e(t.value))}var Xu=ce($({},no),{equal:Wu,value:void 0});function s0(t){t.version++,t0(),eg(t),o0?.()}function re(t){return typeof t=="function"}function Ns(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ms=Ns(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function $n(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof Ms?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{dg(o)}catch(a){e=e??[],a instanceof Ms?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Ms(e)}}add(e){var n;if(e&&e!==this)if(this.closed)dg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$n(n,e)}remove(e){let{_finalizers:n}=this;n&&$n(n,e),e instanceof t&&e._removeParent(this)}};Ve.EMPTY=(()=>{let t=new Ve;return t.closed=!0,t})();var el=Ve.EMPTY;function xs(t){return t instanceof Ve||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function dg(t){re(t)?t():t.unsubscribe()}var yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Sr={setTimeout(t,e,...n){let{delegate:r}=Sr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Sr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Rs(t){Sr.setTimeout(()=>{let{onUnhandledError:e}=yt;if(e)e(t);else throw t})}function tl(){}var hg=nl("C",void 0,void 0);function fg(t){return nl("E",void 0,t)}function pg(t){return nl("N",t,void 0)}function nl(t,e,n){return{kind:t,value:e,error:n}}var Hn=null;function Ar(t){if(yt.useDeprecatedSynchronousErrorHandling){let e=!Hn;if(e&&(Hn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Hn;if(Hn=null,n)throw r}}else t()}function mg(t){yt.useDeprecatedSynchronousErrorHandling&&Hn&&(Hn.errorThrown=!0,Hn.error=t)}var qn=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xs(e)&&e.add(this)):this.destination=u0}static create(e,n,r){return new Nr(e,n,r)}next(e){this.isStopped?il(pg(e),this):this._next(e)}error(e){this.isStopped?il(fg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?il(hg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},a0=Function.prototype.bind;function rl(t,e){return a0.call(t,e)}var ol=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ps(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ps(r)}else Ps(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ps(n)}}},Nr=class extends qn{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&yt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&rl(e.next,o),error:e.error&&rl(e.error,o),complete:e.complete&&rl(e.complete,o)}):i=e}this.destination=new ol(i)}};function Ps(t){yt.useDeprecatedSynchronousErrorHandling?mg(t):Rs(t)}function c0(t){throw t}function il(t,e){let{onStoppedNotification:n}=yt;n&&Sr.setTimeout(()=>n(t,e))}var u0={closed:!0,next:tl,error:c0,complete:tl};var Mr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ks(t){return t}function gg(t){return t.length===0?ks:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=d0(n)?n:new Nr(n,r,i);return Ar(()=>{let{operator:a,source:c}=this;o.add(a?a.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=yg(r),new r((i,o)=>{let a=new Nr({next:c=>{try{n(c)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Mr](){return this}pipe(...n){return gg(n)(this)}toPromise(n){return n=yg(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function yg(t){var e;return(e=t??yt.Promise)!==null&&e!==void 0?e:Promise}function l0(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function d0(t){return t&&t instanceof qn||l0(t)&&xs(t)}function h0(t){return re(t?.lift)}function un(t){return e=>{if(h0(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ln(t,e,n,r,i){return new sl(t,e,n,r,i)}var sl=class extends qn{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var vg=Ns(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qt=(()=>{class t extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Os(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new vg}next(n){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?el:(this.currentObservers=null,o.push(n),new Ve(()=>{this.currentObservers=null,$n(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ye;return n.source=this,n}}return t.create=(e,n)=>new Os(e,n),t})(),Os=class extends qt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:el}};var Gn=class extends qt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var al={now(){return(al.delegate||Date).now()},delegate:void 0};var Fs=class extends Ve{constructor(e,n){super()}schedule(e,n=0){return this}};var io={setInterval(t,e,...n){let{delegate:r}=io;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=io;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var xr=class extends Fs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return io.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&io.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$n(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Rr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Rr.now=al.now;var Pr=class extends Rr{constructor(e,n=Rr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var cl=new Pr(xr);var Vs=class extends xr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ls=class extends Pr{};var ul=new Ls(Vs);function f0(t){return t[t.length-1]}function _g(t){return re(f0(t))?t.pop():void 0}function ll(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Eg(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(f){try{h(r.next(f))}catch(m){a(m)}}function u(f){try{h(r.throw(f))}catch(m){a(m)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(t,e||[])).next())})}function Ig(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zn(t){return this instanceof zn?(this.v=t,this):new zn(t)}function wg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(T){return function(A){return Promise.resolve(A).then(T,m)}}function c(T,A){r[T]&&(i[T]=function(F){return new Promise(function(O,B){o.push([T,F,O,B])>1||u(T,F)})},A&&(i[T]=A(i[T])))}function u(T,A){try{h(r[T](A))}catch(F){D(o[0][3],F)}}function h(T){T.value instanceof zn?Promise.resolve(T.value.v).then(f,m):D(o[0][2],T)}function f(T){u("next",T)}function m(T){u("throw",T)}function D(T,A){T(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Dg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ig=="function"?Ig(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(c,u){a=t[o](a),i(c,u,a.done,a.value)})}}function i(o,a,c,u){Promise.resolve(u).then(function(h){o({value:h,done:c})},a)}}var js=t=>t&&typeof t.length=="number"&&typeof t!="function";function Bs(t){return re(t?.then)}function Us(t){return re(t[Mr])}function $s(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function Hs(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function p0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qs=p0();function Gs(t){return re(t?.[qs])}function zs(t){return wg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield zn(n.read());if(i)return yield zn(void 0);yield yield zn(r)}}finally{n.releaseLock()}})}function Ws(t){return re(t?.getReader)}function dn(t){if(t instanceof ye)return t;if(t!=null){if(Us(t))return m0(t);if(js(t))return g0(t);if(Bs(t))return y0(t);if($s(t))return Tg(t);if(Gs(t))return v0(t);if(Ws(t))return _0(t)}throw Hs(t)}function m0(t){return new ye(e=>{let n=t[Mr]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function g0(t){return new ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function y0(t){return new ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Rs)})}function v0(t){return new ye(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Tg(t){return new ye(e=>{I0(t,e).catch(n=>e.error(n))})}function _0(t){return Tg(zs(t))}function I0(t,e){var n,r,i,o;return Eg(this,void 0,void 0,function*(){try{for(n=Dg(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function St(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function hn(t,e=0){return un((n,r)=>{n.subscribe(ln(r,i=>St(r,t,()=>r.next(i),e),()=>St(r,t,()=>r.complete(),e),i=>St(r,t,()=>r.error(i),e)))})}function fn(t,e=0){return un((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function bg(t,e){return dn(t).pipe(fn(e),hn(e))}function Cg(t,e){return dn(t).pipe(fn(e),hn(e))}function Sg(t,e){return new ye(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ag(t,e){return new ye(n=>{let r;return St(n,e,()=>{r=t[qs](),St(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function Ks(t,e){if(!t)throw new Error("Iterable cannot be null");return new ye(n=>{St(n,e,()=>{let r=t[Symbol.asyncIterator]();St(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ng(t,e){return Ks(zs(t),e)}function Mg(t,e){if(t!=null){if(Us(t))return bg(t,e);if(js(t))return Sg(t,e);if(Bs(t))return Cg(t,e);if($s(t))return Ks(t,e);if(Gs(t))return Ag(t,e);if(Ws(t))return Ng(t,e)}throw Hs(t)}function dl(t,e){return e?Mg(t,e):dn(t)}function Wn(t,e){return un((n,r)=>{let i=0;n.subscribe(ln(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:E0}=Array;function w0(t,e){return E0(e)?t(...e):t(e)}function xg(t){return Wn(e=>w0(t,e))}var{isArray:D0}=Array,{getPrototypeOf:T0,prototype:b0,keys:C0}=Object;function Rg(t){if(t.length===1){let e=t[0];if(D0(e))return{args:e,keys:null};if(S0(e)){let n=C0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function S0(t){return t&&typeof t=="object"&&T0(t)===b0}function Pg(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function hl(...t){let e=_g(t),{args:n,keys:r}=Rg(t),i=new ye(o=>{let{length:a}=n;if(!a){o.complete();return}let c=new Array(a),u=a,h=a;for(let f=0;f<a;f++){let m=!1;dn(n[f]).subscribe(ln(o,D=>{m||(m=!0,h--),c[f]=D},()=>u--,void 0,()=>{(!u||!m)&&(h||o.next(r?Pg(r,c):c),o.complete())}))}});return e?i.pipe(xg(e)):i}function fl(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?un((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let c=!0;i.subscribe(ln(o,u=>{var h;(h=r.next)===null||h===void 0||h.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var h;c=!1,(h=r.error)===null||h===void 0||h.call(r,u),o.error(u)},()=>{var u,h;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):ks}var Iy="https://g.co/ng/security#xss",U=class extends Error{code;constructor(e,n){super(pd(e,n)),this.code=e}};function pd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Ey=Symbol("InputSignalNode#UNSET"),A0=ce($({},Xu),{transformFn:void 0,applyValueToInputSignal(t,e){ro(t,e)}});function vo(t){return{toString:t}.toString()}var Qs="__parameters__";function N0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function wy(t,e,n){return vo(()=>{let r=N0(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return c.annotation=a,c;function c(u,h,f){let m=u.hasOwnProperty(Qs)?u[Qs]:Object.defineProperty(u,Qs,{value:[]})[Qs];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(a),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function M0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function kg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var x0=ge({__forward_ref__:ge});function Yr(t){return t.__forward_ref__=Yr,t.toString=function(){return dt(this())},t}function Qe(t){return Dy(t)?t():t}function Dy(t){return typeof t=="function"&&t.hasOwnProperty(x0)&&t.__forward_ref__===Yr}function ue(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rr(t){return{providers:t.providers||[],imports:t.imports||[]}}function md(t){return Og(t,Ty)||Og(t,by)}function Og(t,e){return t.hasOwnProperty(e)?t[e]:null}function R0(t){let e=t&&(t[Ty]||t[by]);return e||null}function Fg(t){return t&&(t.hasOwnProperty(Vg)||t.hasOwnProperty(P0))?t[Vg]:null}var Ty=ge({\u0275prov:ge}),Vg=ge({\u0275inj:ge}),by=ge({ngInjectableDef:ge}),P0=ge({ngInjectorDef:ge}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ue({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cy(t){return t&&!!t.\u0275providers}var k0=ge({\u0275cmp:ge}),O0=ge({\u0275dir:ge}),F0=ge({\u0275pipe:ge});var ra=ge({\u0275fac:ge}),co=ge({__NG_ELEMENT_ID__:ge}),Lg=ge({__NG_ENV_ID__:ge});function gd(t){return typeof t=="string"?t:t==null?"":String(t)}function V0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():gd(t)}function L0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,t)}function yd(t,e){throw new U(-201,!1)}var K=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(K||{}),Cl;function Sy(){return Cl}function Ze(t){let e=Cl;return Cl=t,e}function Ay(t,e,n){let r=md(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&K.Optional)return null;if(e!==void 0)return e;yd(t,"Injector")}var j0={},uo=j0,Sl="__NG_DI_FLAG__",ia="ngTempTokenPath",B0="ngTokenPath",U0=/\n/gm,$0="\u0275",jg="__source",Vr;function H0(){return Vr}function pn(t){let e=Vr;return Vr=t,e}function q0(t,e=K.Default){if(Vr===void 0)throw new U(-203,!1);return Vr===null?Ay(t,void 0,e):Vr.get(t,e&K.Optional?null:void 0,e)}function oe(t,e=K.Default){return(Sy()||q0)(Qe(t),e)}function X(t,e=K.Default){return oe(t,Ma(e))}function Ma(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Al(t){let e=[];for(let n=0;n<t.length;n++){let r=Qe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=K.Default;for(let a=0;a<r.length;a++){let c=r[a],u=G0(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(oe(i,o))}else e.push(oe(r))}return e}function Ny(t,e){return t[Sl]=e,t.prototype[Sl]=e,t}function G0(t){return t[Sl]}function z0(t,e,n,r){let i=t[ia];throw e[jg]&&i.unshift(e[jg]),t.message=W0(`
`+t.message,i,n,r),t[B0]=i,t[ia]=null,t}function W0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==$0?t.slice(2):t;let i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];o.push(a+":"+(typeof c=="string"?JSON.stringify(c):dt(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(U0,`
  `)}`}var kt=Ny(wy("Optional"),8);var K0=Ny(wy("SkipSelf"),4);function Qn(t,e){let n=t.hasOwnProperty(ra);return n?t[ra]:null}function vd(t,e){t.forEach(n=>Array.isArray(n)?vd(n,e):e(n))}function My(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function oa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Q0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Y0(t,e,n){let r=_o(t,e);return r>=0?t[r|1]=n:(r=~r,Q0(t,r,e,n)),r}function pl(t,e){let n=_o(t,e);if(n>=0)return t[n|1]}function _o(t,e){return J0(t,e,1)}function J0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=t[o<<n];if(e===a)return o<<n;a>e?i=o:r=o+1}return~(i<<n)}var jr={},lt=[],lo=new H(""),xy=new H("",-1),Ry=new H(""),sa=class{get(e,n=uo){if(n===uo){let r=new Error(`NullInjectorError: No provider for ${dt(e)}!`);throw r.name="NullInjectorError",r}return n}};function Br(t){return t[k0]||null}function Py(t){return t[O0]||null}function ky(t){return t[F0]||null}function Z0(t){let e=Br(t)||Py(t)||ky(t);return e!==null&&e.standalone}function Io(t){return{\u0275providers:t}}function X0(...t){return{\u0275providers:Oy(!0,t),\u0275fromNgModule:!0}}function Oy(t,...e){let n=[],r=new Set,i,o=a=>{n.push(a)};return vd(e,a=>{let c=a;Nl(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Fy(i,o),n}function Fy(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];_d(i,o=>{e(o,r)})}}function Nl(t,e,n,r){if(t=Qe(t),!t)return!1;let i=null,o=Fg(t),a=!o&&Br(t);if(!o&&!a){let u=t.ngModule;if(o=Fg(u),o)i=u;else return!1}else{if(a&&!a.standalone)return!1;i=t}let c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){let u=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let h of u)Nl(h,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let h;try{vd(o.imports,f=>{Nl(f,e,n,r)&&(h||=[],h.push(f))})}finally{}h!==void 0&&Fy(h,e)}if(!c){let h=Qn(i)||(()=>new i);e({provide:i,useFactory:h,deps:lt},i),e({provide:Ry,useValue:i,multi:!0},i),e({provide:lo,useValue:()=>oe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let h=t;_d(u,f=>{e(f,h)})}}else return!1;return i!==t&&t.providers!==void 0}function _d(t,e){for(let n of t)Cy(n)&&(n=n.\u0275providers),Array.isArray(n)?_d(n,e):e(n)}var eT=ge({provide:String,useValue:ge});function Vy(t){return t!==null&&typeof t=="object"&&eT in t}function tT(t){return!!(t&&t.useExisting)}function nT(t){return!!(t&&t.useFactory)}function Ur(t){return typeof t=="function"}function rT(t){return!!t.useClass}var xa=new H(""),Zs={},iT={},ml;function Id(){return ml===void 0&&(ml=new sa),ml}var yn=class{},ho=class extends yn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,xl(e,a=>this.processProvider(a)),this.records.set(xy,kr(void 0,this)),i.has("environment")&&this.records.set(yn,kr(void 0,this));let o=this.records.get(xa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ry,lt,K.Self))}destroy(){so(this),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return so(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){so(this);let n=pn(this),r=Ze(void 0),i;try{return e()}finally{pn(n),Ze(r)}}get(e,n=uo,r=K.Default){if(so(this),e.hasOwnProperty(Lg))return e[Lg](this);r=Ma(r);let i,o=pn(this),a=Ze(void 0);try{if(!(r&K.SkipSelf)){let u=this.records.get(e);if(u===void 0){let h=uT(e)&&md(e);h&&this.injectableDefInScope(h)?u=kr(Ml(e),Zs):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&K.Self?Id():this.parent;return n=r&K.Optional&&n===uo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[ia]=c[ia]||[]).unshift(dt(e)),o)throw c;return z0(c,e,"R3InjectorError",this.source)}else throw c}finally{Ze(a),pn(o)}}resolveInjectorInitializers(){let e=Z(null),n=pn(this),r=Ze(void 0),i;try{let o=this.get(lo,lt,K.Self);for(let a of o)a()}finally{pn(n),Ze(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(dt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Qe(e);let n=Ur(e)?e:Qe(e&&e.provide),r=sT(e);if(!Ur(e)&&e.multi===!0){let i=this.records.get(n);i||(i=kr(void 0,Zs,!0),i.factory=()=>Al(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===Zs&&(n.value=iT,n.value=n.factory()),typeof n.value=="object"&&n.value&&cT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Qe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ml(t){let e=md(t),n=e!==null?e.factory:Qn(t);if(n!==null)return n;if(t instanceof H)throw new U(204,!1);if(t instanceof Function)return oT(t);throw new U(204,!1)}function oT(t){if(t.length>0)throw new U(204,!1);let n=R0(t);return n!==null?()=>n.factory(t):()=>new t}function sT(t){if(Vy(t))return kr(void 0,t.useValue);{let e=Ly(t);return kr(e,Zs)}}function Ly(t,e,n){let r;if(Ur(t)){let i=Qe(t);return Qn(i)||Ml(i)}else if(Vy(t))r=()=>Qe(t.useValue);else if(nT(t))r=()=>t.useFactory(...Al(t.deps||[]));else if(tT(t))r=()=>oe(Qe(t.useExisting));else{let i=Qe(t&&(t.useClass||t.provide));if(aT(t))r=()=>new i(...Al(t.deps));else return Qn(i)||Ml(i)}return r}function so(t){if(t.destroyed)throw new U(205,!1)}function kr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aT(t){return!!t.deps}function cT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function uT(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function xl(t,e){for(let n of t)Array.isArray(n)?xl(n,e):n&&Cy(n)?xl(n.\u0275providers,e):e(n)}function jy(t,e){t instanceof ho&&so(t);let n,r=pn(t),i=Ze(void 0);try{return e()}finally{pn(r),Ze(i)}}function lT(){return Sy()!==void 0||H0()!=null}function dT(t){return typeof t=="function"}var Kt=0,z=1,j=2,Ye=3,_t=4,wt=5,aa=6,ca=7,It=8,$r=9,Gt=10,Me=11,fo=12,Bg=13,Jr=14,Mt=15,Hr=16,Or=17,qr=18,Ra=19,By=20,mn=21,gl=22,ua=23,it=24,xt=25,Uy=1;var Yn=7,la=8,da=9,ht=10,ha=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ha||{});function gn(t){return Array.isArray(t)&&typeof t[Uy]=="object"}function Qt(t){return Array.isArray(t)&&t[Uy]===!0}function $y(t){return(t.flags&4)!==0}function Pa(t){return t.componentOffset>-1}function Ed(t){return(t.flags&1)===1}function vn(t){return!!t.template}function Rl(t){return(t[j]&512)!==0}var Pl=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Hy(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ka=(()=>{let t=()=>qy;return t.ngInherit=!0,t})();function qy(t){return t.type.prototype.ngOnChanges&&(t.setInput=fT),hT}function hT(){let t=zy(this),e=t?.current;if(e){let n=t.previous;if(n===jr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fT(t,e,n,r,i){let o=this.declaredInputs[r],a=zy(t)||pT(t,{previous:jr,current:null}),c=a.current||(a.current={}),u=a.previous,h=u[o];c[o]=new Pl(h&&h.currentValue,n,u===jr),Hy(t,e,i,n)}var Gy="__ngSimpleChanges__";function zy(t){return t[Gy]||null}function pT(t,e){return t[Gy]=e}var Ug=null;var At=function(t,e,n){Ug?.(t,e,n)},mT="svg",gT="math";function Rt(t){for(;Array.isArray(t);)t=t[Kt];return t}function Wy(t,e){return Rt(e[t])}function Dt(t,e){return Rt(e[t.index])}function Ky(t,e){return t.data[e]}function yT(t,e){return t[e]}function En(t,e){let n=e[t];return gn(n)?n:n[Kt]}function wd(t){return(t[j]&128)===128}function vT(t){return Qt(t[Ye])}function fa(t,e){return e==null?null:t[e]}function Qy(t){t[Or]=0}function Dd(t){t[j]&1024||(t[j]|=1024,wd(t)&&Fa(t))}function _T(t,e){for(;t>0;)e=e[Jr],t--;return e}function Oa(t){return!!(t[j]&9216||t[it]?.dirty)}function kl(t){t[Gt].changeDetectionScheduler?.notify(9),t[j]&64&&(t[j]|=1024),Oa(t)&&Fa(t)}function Fa(t){t[Gt].changeDetectionScheduler?.notify(0);let e=Jn(t);for(;e!==null&&!(e[j]&8192||(e[j]|=8192,!wd(e)));)e=Jn(e)}function Yy(t,e){if((t[j]&256)===256)throw new U(911,!1);t[mn]===null&&(t[mn]=[]),t[mn].push(e)}function IT(t,e){if(t[mn]===null)return;let n=t[mn].indexOf(e);n!==-1&&t[mn].splice(n,1)}function Jn(t){let e=t[Ye];return Qt(e)?e[Ye]:e}var W={lFrame:ov(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ol=!1;function ET(){return W.lFrame.elementDepthCount}function wT(){W.lFrame.elementDepthCount++}function DT(){W.lFrame.elementDepthCount--}function Jy(){return W.bindingsEnabled}function TT(){return W.skipHydrationRootTNode!==null}function bT(t){return W.skipHydrationRootTNode===t}function CT(){W.skipHydrationRootTNode=null}function de(){return W.lFrame.lView}function ot(){return W.lFrame.tView}function Zr(t){return W.lFrame.contextLView=t,t[It]}function Xr(t){return W.lFrame.contextLView=null,t}function Xe(){let t=Zy();for(;t!==null&&t.type===64;)t=t.parent;return t}function Zy(){return W.lFrame.currentTNode}function ST(){let t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Eo(t,e){let n=W.lFrame;n.currentTNode=t,n.isParent=e}function Xy(){return W.lFrame.isParent}function AT(){W.lFrame.isParent=!1}function ev(){return Ol}function $g(t){let e=Ol;return Ol=t,e}function tv(){let t=W.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function NT(t){return W.lFrame.bindingIndex=t}function Td(){return W.lFrame.bindingIndex++}function MT(t){let e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function xT(){return W.lFrame.inI18n}function RT(t,e){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,Fl(e)}function PT(){return W.lFrame.currentDirectiveIndex}function Fl(t){W.lFrame.currentDirectiveIndex=t}function kT(t){let e=W.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function nv(t){W.lFrame.currentQueryIndex=t}function OT(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[wt]:null}function rv(t,e,n){if(n&K.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&K.Host);)if(i=OT(o),i===null||(o=o[Jr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=W.lFrame=iv();return r.currentTNode=e,r.lView=t,!0}function bd(t){let e=iv(),n=t[z];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function iv(){let t=W.lFrame,e=t===null?null:t.child;return e===null?ov(t):e}function ov(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function sv(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var av=sv;function Cd(){let t=sv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function FT(t){return(W.lFrame.contextLView=_T(t,W.lFrame.contextLView))[It]}function ei(){return W.lFrame.selectedIndex}function Zn(t){W.lFrame.selectedIndex=t}function cv(){let t=W.lFrame;return Ky(t.tView,t.selectedIndex)}function VT(){return W.lFrame.currentNamespace}var uv=!0;function Sd(){return uv}function Ad(t){uv=t}function LT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let a=qy(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Nd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:f}=o;a&&(t.contentHooks??=[]).push(-n,a),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),h&&((t.viewHooks??=[]).push(n,h),(t.viewCheckHooks??=[]).push(n,h)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Xs(t,e,n){lv(t,e,3,n)}function ea(t,e,n,r){(t[j]&3)===n&&lv(t,e,n,r)}function yl(t,e){let n=t[j];(n&3)===e&&(n&=16383,n+=1,t[j]=n)}function lv(t,e,n,r){let i=r!==void 0?t[Or]&65535:0,o=r??-1,a=e.length-1,c=0;for(let u=i;u<a;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Or]+=65536),(c<o||o==-1)&&(jT(t,n,e,u),t[Or]=(t[Or]&4294901760)+u+2),u++}function Hg(t,e){At(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),At(5,t,e)}}function jT(t,e,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],c=t[a];i?t[j]>>14<t[Or]>>16&&(t[j]&3)===e&&(t[j]+=16384,Hg(c,o)):Hg(c,o)}var Lr=-1,Xn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function BT(t){return t instanceof Xn}function UT(t){return(t.flags&8)!==0}function $T(t){return(t.flags&16)!==0}function Vl(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],c=n[r++];t.setAttribute(e,a,c,o)}else{let o=i,a=n[++r];qT(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function HT(t){return t===3||t===4||t===6}function qT(t){return t.charCodeAt(0)===64}function po(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?qg(t,n,i,null,e[++r]):qg(t,n,i,null,null))}}return t}function qg(t,e,n,r,i){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){a=-1;break}else if(c>e){a=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var vl={},Ll=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ma(r);let i=this.injector.get(e,vl,r);return i!==vl||n===vl?i:this.parentInjector.get(e,n,r)}};function dv(t){return t!==Lr}function pa(t){return t&32767}function GT(t){return t>>16}function ma(t,e){let n=GT(t),r=e;for(;n>0;)r=r[Jr],n--;return r}var jl=!0;function ga(t){let e=jl;return jl=t,e}var zT=256,hv=zT-1,fv=5,WT=0,Nt={};function KT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(co)&&(r=n[co]),r==null&&(r=n[co]=WT++);let i=r&hv,o=1<<i;e.data[t+(i>>fv)]|=o}function ya(t,e){let n=pv(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,_l(r.data,t),_l(e,null),_l(r.blueprint,null));let i=Md(t,e),o=t.injectorIndex;if(dv(i)){let a=pa(i),c=ma(i,e),u=c[z].data;for(let h=0;h<8;h++)e[o+h]=c[a+h]|u[a+h]}return e[o+8]=i,o}function _l(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Md(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Iv(i),r===null)return Lr;if(n++,i=i[Jr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Lr}function Bl(t,e,n){KT(t,e,n)}function mv(t,e,n){if(n&K.Optional||t!==void 0)return t;yd(e,"NodeInjector")}function gv(t,e,n,r){if(n&K.Optional&&r===void 0&&(r=null),!(n&(K.Self|K.Host))){let i=t[$r],o=Ze(void 0);try{return i?i.get(e,r,n&K.Optional):Ay(e,r,n&K.Optional)}finally{Ze(o)}}return mv(r,e,n)}function yv(t,e,n,r=K.Default,i){if(t!==null){if(e[j]&2048&&!(r&K.Self)){let a=XT(t,e,n,r,Nt);if(a!==Nt)return a}let o=vv(t,e,n,r,Nt);if(o!==Nt)return o}return gv(e,n,r,i)}function vv(t,e,n,r,i){let o=JT(n);if(typeof o=="function"){if(!rv(e,t,r))return r&K.Host?mv(i,n,r):gv(e,n,r,i);try{let a;if(a=o(r),a==null&&!(r&K.Optional))yd(n);else return a}finally{av()}}else if(typeof o=="number"){let a=null,c=pv(t,e),u=Lr,h=r&K.Host?e[Mt][wt]:null;for((c===-1||r&K.SkipSelf)&&(u=c===-1?Md(t,e):e[c+8],u===Lr||!zg(r,!1)?c=-1:(a=e[z],c=pa(u),e=ma(u,e)));c!==-1;){let f=e[z];if(Gg(o,c,f.data)){let m=QT(c,e,n,a,r,h);if(m!==Nt)return m}u=e[c+8],u!==Lr&&zg(r,e[z].data[c+8]===h)&&Gg(o,c,e)?(a=f,c=pa(u),e=ma(u,e)):c=-1}}return i}function QT(t,e,n,r,i,o){let a=e[z],c=a.data[t+8],u=r==null?Pa(c)&&jl:r!=a&&(c.type&3)!==0,h=i&K.Host&&o===c,f=YT(c,a,n,u,h);return f!==null?Gr(e,a,f,c):Nt}function YT(t,e,n,r,i){let o=t.providerIndexes,a=e.data,c=o&1048575,u=t.directiveStart,h=t.directiveEnd,f=o>>20,m=r?c:c+f,D=i?c+f:h;for(let T=m;T<D;T++){let A=a[T];if(T<u&&n===A||T>=u&&A.type===n)return T}if(i){let T=a[u];if(T&&vn(T)&&T.type===n)return u}return null}function Gr(t,e,n,r){let i=t[n],o=e.data;if(BT(i)){let a=i;a.resolving&&L0(V0(o[n]));let c=ga(a.canSeeViewProviders);a.resolving=!0;let u,h=a.injectImpl?Ze(a.injectImpl):null,f=rv(t,r,K.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&LT(n,o[n],e)}finally{h!==null&&Ze(h),ga(c),a.resolving=!1,av()}}return i}function JT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(co)?t[co]:void 0;return typeof e=="number"?e>=0?e&hv:ZT:e}function Gg(t,e,n){let r=1<<t;return!!(n[e+(t>>fv)]&r)}function zg(t,e){return!(t&K.Self)&&!(t&K.Host&&e)}var Kn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return yv(this._tNode,this._lView,e,Ma(r),n)}};function ZT(){return new Kn(Xe(),de())}function _v(t){return vo(()=>{let e=t.prototype.constructor,n=e[ra]||Ul(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ra]||Ul(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ul(t){return Dy(t)?()=>{let e=Ul(Qe(t));return e&&e()}:Qn(t)}function XT(t,e,n,r,i){let o=t,a=e;for(;o!==null&&a!==null&&a[j]&2048&&!(a[j]&512);){let c=vv(o,a,n,r|K.Self,Nt);if(c!==Nt)return c;let u=o.parent;if(!u){let h=a[By];if(h){let f=h.get(n,Nt,r);if(f!==Nt)return f}u=Iv(a),a=a[Jr]}o=u}return i}function Iv(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[wt]:null}function Wg(t,e=null,n=null,r){let i=eb(t,e,n,r);return i.resolveInjectorInitializers(),i}function eb(t,e=null,n=null,r,i=new Set){let o=[n||lt,X0(t)];return r=r||(typeof t=="object"?void 0:dt(t)),new ho(o,e||Id(),r||null,i)}var Et=class t{static THROW_IF_NOT_FOUND=uo;static NULL=new sa;static create(e,n){if(Array.isArray(e))return Wg({name:""},n,e,"");{let r=e.name??"";return Wg({name:r},e.parent,e.providers,r)}}static \u0275prov=ue({token:t,providedIn:"any",factory:()=>oe(xy)});static __NG_ELEMENT_ID__=-1};var tb=new H("");tb.__NG_ELEMENT_ID__=t=>{let e=Xe();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&K.Optional)return null;throw new U(204,!1)};var Ev=!1,xd=(()=>{class t{static __NG_ELEMENT_ID__=nb;static __NG_ENV_ID__=n=>n}return t})(),$l=class extends xd{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Yy(this._lView,e),()=>IT(this._lView,e)}};function nb(){return new $l(de())}var mo=class{},Rd=new H("",{providedIn:"root",factory:()=>!1});var wv=new H(""),Dv=new H(""),Va=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Gn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new t})}return t})();var Hl=class extends qt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,lT()&&(this.destroyRef=X(xd,{optional:!0})??void 0,this.pendingTasks=X(Va,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let c=super.subscribe({next:i,error:o,complete:a});return e instanceof Ve&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},rt=Hl;function va(...t){}function Tv(t){let e,n;function r(){t=va;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Kg(t){return queueMicrotask(()=>t()),()=>{t=va}}var Pd="isAngularZone",_a=Pd+"_ID",rb=0,ve=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new rt(!1);onMicrotaskEmpty=new rt(!1);onStable=new rt(!1);onError=new rt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Ev}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,sb(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Pd)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,ib,va,va);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ib={};function kd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ob(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Tv(()=>{t.callbackScheduled=!1,ql(t),t.isCheckStableRunning=!0,kd(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ql(t)}function sb(t){let e=()=>{ob(t)},n=rb++;t._inner=t._inner.fork({name:"angular",properties:{[Pd]:!0,[_a]:n,[_a+n]:!0},onInvokeTask:(r,i,o,a,c,u)=>{if(ab(u))return r.invokeTask(o,a,c,u);try{return Qg(t),r.invokeTask(o,a,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Yg(t)}},onInvoke:(r,i,o,a,c,u,h)=>{try{return Qg(t),r.invoke(o,a,c,u,h)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!cb(u)&&e(),Yg(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,ql(t),kd(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function ql(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Qg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Yg(t){t._nesting--,kd(t)}var Gl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new rt;onMicrotaskEmpty=new rt;onStable=new rt;onError=new rt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ab(t){return bv(t,"__ignore_ng_zone__")}function cb(t){return bv(t,"__scheduler_tick__")}function bv(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var zt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ub=new H("",{providedIn:"root",factory:()=>{let t=X(ve),e=X(zt);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),Ia=class{destroyed=!1;listeners=null;errorHandler=X(zt,{optional:!0});destroyRef=X(xd);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new U(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new U(953,!1);if(this.listeners===null)return;let n=Z(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{Z(n)}}};function Cv(t){return new Ia}function lb(){return La(Xe(),de())}function La(t,e){return new ti(Dt(t,e))}var ti=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=lb}return t})();function Sv(t){return(t.flags&128)===128}var Av=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Av||{}),Nv=new Map,db=0;function hb(){return db++}function fb(t){Nv.set(t[Ra],t)}function zl(t){Nv.delete(t[Ra])}var Jg="__ngContext__";function er(t,e){gn(e)?(t[Jg]=e[Ra],fb(e)):t[Jg]=e}function Mv(t){return Rv(t[fo])}function xv(t){return Rv(t[_t])}function Rv(t){for(;t!==null&&!Qt(t);)t=t[_t];return t}var Wl;function Pv(t){Wl=t}function pb(){if(Wl!==void 0)return Wl;if(typeof document<"u")return document;throw new U(210,!1)}var Od=new H("",{providedIn:"root",factory:()=>mb}),mb="ng",Fd=new H(""),wn=new H("",{providedIn:"platform",factory:()=>"unknown"});var Vd=new H("",{providedIn:"root",factory:()=>pb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gb="h",yb="b";var kv=!1,vb=new H("",{providedIn:"root",factory:()=>kv});var Ov=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Ov||{}),Fv=new H(""),Zg=new Set;function ja(t){Zg.has(t)||(Zg.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var _b=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new t})}return t})();var Ib=()=>null;function Ld(t,e,n=!1){return Ib(t,e,n)}var Pt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Pt||{});var Ea=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Iy})`}};function Ba(t){return t instanceof Ea?t.changingThisBreaksApplicationSecurity:t}function Vv(t,e){let n=Eb(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Iy})`)}return n===e}function Eb(t){return t instanceof Ea&&t.getTypeName()||null}var wb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lv(t){return t=String(t),t.match(wb)?t:"unsafe:"+t}var jd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(jd||{});function ni(t){let e=Db();return e?e.sanitize(jd.URL,t)||"":Vv(t,"URL")?Ba(t):Lv(gd(t))}function Db(){let t=de();return t&&t[Gt].sanitizer}function jv(t){return t.ownerDocument.defaultView}var _n=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(_n||{}),Wt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wt||{}),Tb;function Bd(t,e){return Tb(t,e)}function Fr(t,e,n,r,i){if(r!=null){let o,a=!1;Qt(r)?o=r:gn(r)&&(a=!0,r=r[Kt]);let c=Rt(r);t===0&&n!==null?i==null?qv(e,n,c):wa(e,n,c,i||null,!0):t===1&&n!==null?wa(e,n,c,i||null,!0):t===2?jb(e,c,a):t===3&&e.destroyNode(c),o!=null&&Ub(e,t,o,n,i)}}function bb(t,e){return t.createText(e)}function Cb(t,e,n){t.setValue(e,n)}function Bv(t,e,n){return t.createElement(e,n)}function Sb(t,e){Uv(t,e),e[Kt]=null,e[wt]=null}function Ab(t,e,n,r,i,o){r[Kt]=i,r[wt]=e,Ua(t,r,n,1,i,o)}function Uv(t,e){e[Gt].changeDetectionScheduler?.notify(10),Ua(t,e,e[Me],2,null,null)}function Nb(t){let e=t[fo];if(!e)return Il(t[z],t);for(;e;){let n=null;if(gn(e))n=e[fo];else{let r=e[ht];r&&(n=r)}if(!n){for(;e&&!e[_t]&&e!==t;)gn(e)&&Il(e[z],e),e=e[Ye];e===null&&(e=t),gn(e)&&Il(e[z],e),n=e&&e[_t]}e=n}}function Mb(t,e,n,r){let i=ht+r,o=n.length;r>0&&(n[i-1][_t]=e),r<o-ht?(e[_t]=n[i],My(n,ht+r,e)):(n.push(e),e[_t]=null),e[Ye]=n;let a=e[Hr];a!==null&&n!==a&&$v(a,e);let c=e[qr];c!==null&&c.insertView(t),kl(e),e[j]|=128}function $v(t,e){let n=t[da],r=e[Ye];if(gn(r))t[j]|=ha.HasTransplantedViews;else{let i=r[Ye][Mt];e[Mt]!==i&&(t[j]|=ha.HasTransplantedViews)}n===null?t[da]=[e]:n.push(e)}function Ud(t,e){let n=t[da],r=n.indexOf(e);n.splice(r,1)}function Kl(t,e){if(t.length<=ht)return;let n=ht+e,r=t[n];if(r){let i=r[Hr];i!==null&&i!==t&&Ud(i,r),e>0&&(t[n-1][_t]=r[_t]);let o=oa(t,ht+e);Sb(r[z],r);let a=o[qr];a!==null&&a.detachView(o[z]),r[Ye]=null,r[_t]=null,r[j]&=-129}return r}function Hv(t,e){if(!(e[j]&256)){let n=e[Me];n.destroyNode&&Ua(t,e,n,3,null,null),Nb(e)}}function Il(t,e){if(e[j]&256)return;let n=Z(null);try{e[j]&=-129,e[j]|=256,e[it]&&Zu(e[it]),Rb(t,e),xb(t,e),e[z].type===1&&e[Me].destroy();let r=e[Hr];if(r!==null&&Qt(e[Ye])){r!==e[Ye]&&Ud(r,e);let i=e[qr];i!==null&&i.detachView(t)}zl(e)}finally{Z(n)}}function xb(t,e){let n=t.cleanup,r=e[ca];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let c=n[a+3];c>=0?r[c]():r[-c].unsubscribe(),a+=2}else{let c=r[n[a+1]];n[a].call(c)}r!==null&&(e[ca]=null);let i=e[mn];if(i!==null){e[mn]=null;for(let a=0;a<i.length;a++){let c=i[a];c()}}let o=e[ua];if(o!==null){e[ua]=null;for(let a of o)a.destroy()}}function Rb(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Xn)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let c=i[o[a]],u=o[a+1];At(4,c,u);try{u.call(c)}finally{At(5,c,u)}}else{At(4,i,o);try{o.call(i)}finally{At(5,i,o)}}}}}function Pb(t,e,n){return kb(t,e.parent,n)}function kb(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Kt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Pt.None||o===Pt.Emulated)return null}return Dt(r,n)}}function wa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function qv(t,e,n){t.appendChild(e,n)}function Xg(t,e,n,r,i){r!==null?wa(t,e,n,r,i):qv(t,e,n)}function Gv(t,e){return t.parentNode(e)}function Ob(t,e){return t.nextSibling(e)}function Fb(t,e,n){return Lb(t,e,n)}function Vb(t,e,n){return t.type&40?Dt(t,n):null}var Lb=Vb,ey;function $d(t,e,n,r){let i=Pb(t,r,e),o=e[Me],a=r.parent||e[wt],c=Fb(a,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Xg(o,i,n[u],c,!1);else Xg(o,i,n,c,!1);ey!==void 0&&ey(o,r,e,n,i)}function ao(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return Ql(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ao(t,r);{let i=t[e.index];return Qt(i)?Ql(-1,i):Rt(i)}}else{if(n&128)return ao(t,e.next);if(n&32)return Bd(e,t)()||Rt(t[e.index]);{let r=zv(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Jn(t[Mt]);return ao(i,r)}else return ao(t,e.next)}}}return null}function zv(t,e){if(e!==null){let r=t[Mt][wt],i=e.projection;return r.projection[i]}return null}function Ql(t,e){let n=ht+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return ao(r,i)}return e[Yn]}function jb(t,e,n){t.removeChild(null,e,n)}function Hd(t,e,n,r,i,o,a){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(a&&e===0&&(c&&er(Rt(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Hd(t,e,n.child,r,i,o,!1),Fr(e,t,i,c,o);else if(u&32){let h=Bd(n,r),f;for(;f=h();)Fr(e,t,i,f,o);Fr(e,t,i,c,o)}else u&16?Bb(t,e,r,n,i,o):Fr(e,t,i,c,o);n=a?n.projectionNext:n.next}}function Ua(t,e,n,r,i,o){Hd(n,r,t.firstChild,e,i,o,!1)}function Bb(t,e,n,r,i,o){let a=n[Mt],u=a[wt].projection[r.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++){let f=u[h];Fr(e,t,i,f,o)}else{let h=u,f=a[Ye];Sv(r)&&(h.flags|=128),Hd(t,e,h,f,i,o,!0)}}function Ub(t,e,n,r,i){let o=n[Yn],a=Rt(n);o!==a&&Fr(e,t,r,o,i);for(let c=ht;c<n.length;c++){let u=n[c];Ua(u[z],u,t,e,r,o)}}function $b(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wt.Important),t.setStyle(n,r,i,o))}}function Hb(t,e,n){t.setAttribute(e,"style",n)}function Wv(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Kv(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Vl(t,e,r),i!==null&&Wv(t,e,i),o!==null&&Hb(t,e,o)}function qb(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Qv="ng-template";function Gb(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&qb(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(qd(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function qd(t){return t.type===4&&t.value!==Qv}function zb(t,e,n){let r=t.type===4&&!n?Qv:t.value;return e===r}function Wb(t,e,n){let r=4,i=t.attrs,o=i!==null?Yb(i):0,a=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!a&&!vt(r)&&!vt(u))return!1;if(a&&vt(u))continue;a=!1,r=u|r&1;continue}if(!a)if(r&4){if(r=2|r&1,u!==""&&!zb(t,u,n)||u===""&&e.length===1){if(vt(r))return!1;a=!0}}else if(r&8){if(i===null||!Gb(t,i,u,n)){if(vt(r))return!1;a=!0}}else{let h=e[++c],f=Kb(u,i,qd(t),n);if(f===-1){if(vt(r))return!1;a=!0;continue}if(h!==""){let m;if(f>o?m="":m=i[f+1].toLowerCase(),r&2&&h!==m){if(vt(r))return!1;a=!0}}}}return vt(r)||a}function vt(t){return(t&1)===0}function Kb(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return Jb(e,t)}function Qb(t,e,n=!1){for(let r=0;r<e.length;r++)if(Wb(t,e[r],n))return!0;return!1}function Yb(t){for(let e=0;e<t.length;e++){let n=t[e];if(HT(n))return e}return t.length}function Jb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ty(t,e){return t?":not("+e.trim()+")":e}function Zb(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let c=t[++n];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!vt(a)&&(e+=ty(o,i),i=""),r=a,o=o||!vt(r);n++}return i!==""&&(e+=ty(o,i)),e}function Xb(t){return t.map(Zb).join(",")}function eC(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!vt(i))break;i=o}r++}return{attrs:e,classes:n}}var Dn={};function he(t=1){Yv(ot(),de(),ei()+t,!1)}function Yv(t,e,n,r){if(!r)if((e[j]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Xs(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ea(e,o,0,n)}Zn(n)}function ae(t,e=K.Default){let n=de();if(n===null)return oe(t,e);let r=Xe();return yv(r,n,Qe(t),e)}function Jv(t,e,n,r,i,o){let a=Z(null);try{let c=null;i&_n.SignalBased&&(c=e[r][nt]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&_n.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):Hy(e,c,r,o)}finally{Z(a)}}function tC(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Zn(~i);else{let o=i,a=n[++r],c=n[++r];RT(a,o);let u=e[o];c(2,u)}}}finally{Zn(-1)}}function $a(t,e,n,r,i,o,a,c,u,h,f){let m=e.blueprint.slice();return m[Kt]=i,m[j]=r|4|128|8|64|1024,(h!==null||t&&t[j]&2048)&&(m[j]|=2048),Qy(m),m[Ye]=m[Jr]=t,m[It]=n,m[Gt]=a||t&&t[Gt],m[Me]=c||t&&t[Me],m[$r]=u||t&&t[$r]||null,m[wt]=o,m[Ra]=hb(),m[aa]=f,m[By]=h,m[Mt]=e.type==2?t[Mt]:m,m}function Ha(t,e,n,r,i){let o=t.data[e];if(o===null)o=nC(t,e,n,r,i),xT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=ST();o.injectorIndex=a===null?-1:a.injectorIndex}return Eo(o,!0),o}function nC(t,e,n,r,i){let o=Zy(),a=Xy(),c=a?o:o&&o.parent,u=t.data[e]=aC(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(a?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Zv(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Xv(t,e,n,r,i){let o=ei(),a=r&2;try{Zn(-1),a&&e.length>xt&&Yv(t,e,xt,!1),At(a?2:0,i),n(r,i)}finally{Zn(o),At(a?3:1,i)}}function e_(t,e,n){if($y(e)){let r=Z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let a=i;a<o;a++){let c=t.data[a];if(c.contentQueries){let u=n[a];c.contentQueries(1,u,a)}}}finally{Z(r)}}}function t_(t,e,n){Jy()&&(fC(t,e,n,Dt(n,e)),(n.flags&64)===64&&a_(t,e,n))}function n_(t,e,n=Dt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],c=a===-1?n(e,t):t[a];t[i++]=c}}}function r_(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Gd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Gd(t,e,n,r,i,o,a,c,u,h,f){let m=xt+r,D=m+i,T=rC(m,D),A=typeof h=="function"?h():h;return T[z]={type:t,blueprint:T,template:n,queries:null,viewQuery:c,declTNode:e,data:T.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function rC(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Dn);return n}function iC(t,e,n,r){let o=r.get(vb,kv)||n===Pt.ShadowDom,a=t.selectRootElement(e,o);return oC(a),a}function oC(t){sC(t)}var sC=()=>null;function aC(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,c=0;return TT()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ny(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let a=e[o];if(a===void 0)continue;r??={};let c,u=_n.None;Array.isArray(a)?(c=a[0],u=a[1]):c=a;let h=o;if(i!==null){if(!i.hasOwnProperty(o))continue;h=i[o]}t===0?ry(r,n,h,c,u):ry(r,n,h,c)}return r}function ry(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function cC(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,a=e.attrs,c=[],u=null,h=null;for(let f=r;f<i;f++){let m=o[f],D=n?n.get(m):null,T=D?D.inputs:null,A=D?D.outputs:null;u=ny(0,m.inputs,f,u,T),h=ny(1,m.outputs,f,h,A);let F=u!==null&&a!==null&&!qd(e)?wC(u,f,a):null;c.push(F)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=h}function uC(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function i_(t,e,n,r,i,o,a,c){let u=Dt(e,n),h=e.inputs,f;!c&&h!=null&&(f=h[r])?(zd(t,n,f,r,i),Pa(e)&&lC(n,e.index)):e.type&3?(r=uC(r),i=a!=null?a(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function lC(t,e){let n=En(e,t);n[j]&16||(n[j]|=64)}function o_(t,e,n,r){if(Jy()){let i=r===null?null:{"":-1},o=mC(t,n),a,c;o===null?a=c=null:[a,c]=o,a!==null&&s_(t,e,n,a,i,c),i&&gC(n,r,i)}n.mergedAttrs=po(n.mergedAttrs,n.attrs)}function s_(t,e,n,r,i,o){for(let h=0;h<r.length;h++)Bl(ya(n,e),t,r[h].type);vC(n,t.data.length,r.length);for(let h=0;h<r.length;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let a=!1,c=!1,u=Zv(t,e,r.length,null);for(let h=0;h<r.length;h++){let f=r[h];n.mergedAttrs=po(n.mergedAttrs,f.hostAttrs),_C(t,n,e,u,f),yC(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let m=f.type.prototype;!a&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!c&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}cC(t,n,o)}function dC(t,e,n,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let c=~e.index;hC(a)!=c&&a.push(c),a.push(n,r,o)}}function hC(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function fC(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Pa(n)&&IC(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ya(n,e),er(r,e);let a=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],h=Gr(e,t,c,n);if(er(h,e),a!==null&&EC(e,c-i,h,u,n,a),vn(u)){let f=En(n.index,e);f[It]=Gr(e,t,c,n)}}}function a_(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=PT();try{Zn(o);for(let c=r;c<i;c++){let u=t.data[c],h=e[c];Fl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&pC(u,h)}}finally{Zn(-1),Fl(a)}}function pC(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mC(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let a=n[o];if(Qb(e,a.selectors,!1))if(r||(r=[]),vn(a))if(a.findHostDirectiveDefs!==null){let c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),r.unshift(...c,a);let u=c.length;Yl(t,e,u)}else r.unshift(a),Yl(t,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return r===null?null:[r,i]}function Yl(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function gC(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}}function yC(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vn(e)&&(n[""]=t)}}function vC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _C(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Qn(i.type,!0)),a=new Xn(o,vn(i),ae);t.blueprint[r]=a,n[r]=a,dC(t,e,r,Zv(t,n,i.hostVars,Dn),i)}function c_(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function IC(t,e,n){let r=Dt(e,t),i=r_(n),o=t[Gt].rendererFactory,a=qa(t,$a(t,i,null,c_(n),r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function EC(t,e,n,r,i,o){let a=o[e];if(a!==null)for(let c=0;c<a.length;){let u=a[c++],h=a[c++],f=a[c++],m=a[c++];Jv(r,n,u,h,f,m)}}function wC(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let a=t[o];for(let c=0;c<a.length;c+=3)if(a[c]===e){r.push(o,a[c+1],a[c+2],n[i+1]);break}}i+=2}return r}function u_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function l_(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let c=t.data[a];nv(o),c.contentQueries(2,e[a],a)}}}finally{Z(r)}}}function qa(t,e){return t[fo]?t[Bg][_t]=e:t[fo]=e,t[Bg]=e,e}function Jl(t,e,n){nv(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function DC(t){return t[ca]??=[]}function TC(t){return t.cleanup??=[]}function d_(t,e){let n=t[$r],r=n?n.get(zt,null):null;r&&r.handleError(e)}function zd(t,e,n,r,i){for(let o=0;o<n.length;){let a=n[o++],c=n[o++],u=n[o++],h=e[a],f=t.data[a];Jv(f,h,r,c,u,i)}}function bC(t,e,n){let r=Wy(e,t);Cb(t[Me],r,n)}function CC(t,e){let n=En(e,t),r=n[z];SC(r,n);let i=n[Kt];i!==null&&n[aa]===null&&(n[aa]=Ld(i,n[$r])),Wd(r,n,n[It])}function SC(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Wd(t,e,n){bd(e);try{let r=t.viewQuery;r!==null&&Jl(1,r,n);let i=t.template;i!==null&&Xv(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[qr]?.finishViewCreation(t),t.staticContentQueries&&l_(t,e),t.staticViewQueries&&Jl(2,t.viewQuery,n);let o=t.components;o!==null&&AC(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[j]&=-5,Cd()}}function AC(t,e){for(let n=0;n<e.length;n++)CC(t,e[n])}function NC(t,e,n,r){let i=Z(null);try{let o=e.tView,c=t[j]&4096?4096:16,u=$a(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=t[e.index];u[Hr]=h;let f=t[qr];return f!==null&&(u[qr]=f.createEmbeddedView(o)),Wd(o,u,n),u}finally{Z(i)}}function iy(t,e){return!e||e.firstChild===null||Sv(t)}function MC(t,e,n,r=!0){let i=e[z];if(Mb(i,e,t,n),r){let a=Ql(n,t),c=e[Me],u=Gv(c,t[Yn]);u!==null&&Ab(i,t[wt],c,e,u,a)}let o=e[aa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Da(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Rt(o)),Qt(o)&&xC(o,r);let a=n.type;if(a&8)Da(t,e,n.child,r);else if(a&32){let c=Bd(n,e),u;for(;u=c();)r.push(u)}else if(a&16){let c=zv(e,n);if(Array.isArray(c))r.push(...c);else{let u=Jn(e[Mt]);Da(u[z],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function xC(t,e){for(let n=ht;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&Da(r[z],r,i,e)}t[Yn]!==t[Kt]&&e.push(t[Yn])}var h_=[];function RC(t){return t[it]??PC(t)}function PC(t){let e=h_.pop()??Object.create(OC);return e.lView=t,e}function kC(t){t.lView[it]!==t&&(t.lView=null,h_.push(t))}var OC=ce($({},no),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Fa(t.lView)},consumerOnSignalRead(){this.lView[it]=this}});function FC(t){let e=t[it]??Object.create(VC);return e.lView=t,e}var VC=ce($({},no),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Jn(t.lView);for(;e&&!f_(e[z]);)e=Jn(e);e&&Dd(e)},consumerOnSignalRead(){this.lView[it]=this}});function f_(t){return t.type!==2}function p_(t){if(t[ua]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ua])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[j]&8192)}}var LC=100;function m_(t,e=!0,n=0){let i=t[Gt].rendererFactory,o=!1;o||i.begin?.();try{jC(t,n)}catch(a){throw e&&d_(t,a),a}finally{o||i.end?.()}}function jC(t,e){let n=ev();try{$g(!0),Zl(t,e);let r=0;for(;Oa(t);){if(r===LC)throw new U(103,!1);r++,Zl(t,1)}}finally{$g(n)}}function BC(t,e,n,r){let i=e[j];if((i&256)===256)return;let o=!1,a=!1;bd(e);let c=!0,u=null,h=null;o||(f_(t)?(h=RC(e),u=Cs(h)):Xm()===null?(c=!1,h=FC(e),u=Cs(h)):e[it]&&(Zu(e[it]),e[it]=null));try{Qy(e),NT(t.bindingStartIndex),n!==null&&Xv(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let T=t.preOrderCheckHooks;T!==null&&Xs(e,T,null)}else{let T=t.preOrderHooks;T!==null&&ea(e,T,0,null),yl(e,0)}if(a||UC(e),p_(e),g_(e,0),t.contentQueries!==null&&l_(t,e),!o)if(f){let T=t.contentCheckHooks;T!==null&&Xs(e,T)}else{let T=t.contentHooks;T!==null&&ea(e,T,1),yl(e,1)}tC(t,e);let m=t.components;m!==null&&v_(e,m,0);let D=t.viewQuery;if(D!==null&&Jl(2,D,r),!o)if(f){let T=t.viewCheckHooks;T!==null&&Xs(e,T)}else{let T=t.viewHooks;T!==null&&ea(e,T,2),yl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[gl]){for(let T of e[gl])T();e[gl]=null}o||(e[j]&=-73)}catch(f){throw o||Fa(e),f}finally{h!==null&&(Yu(h,u),c&&kC(h)),Cd()}}function g_(t,e){for(let n=Mv(t);n!==null;n=xv(n))for(let r=ht;r<n.length;r++){let i=n[r];y_(i,e)}}function UC(t){for(let e=Mv(t);e!==null;e=xv(e)){if(!(e[j]&ha.HasTransplantedViews))continue;let n=e[da];for(let r=0;r<n.length;r++){let i=n[r];Dd(i)}}}function $C(t,e,n){let r=En(e,t);y_(r,n)}function y_(t,e){wd(t)&&Zl(t,e)}function Zl(t,e){let r=t[z],i=t[j],o=t[it],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(o?.dirty&&Ju(o)),a||=!1,o&&(o.dirty=!1),t[j]&=-9217,a)BC(r,t,r.template,t[It]);else if(i&8192){p_(t),g_(t,1);let c=r.components;c!==null&&v_(t,c,1)}}function v_(t,e,n){for(let r=0;r<e.length;r++)$C(t,e[r],n)}function Kd(t,e){let n=ev()?64:1088;for(t[Gt].changeDetectionScheduler?.notify(e);t;){t[j]|=n;let r=Jn(t);if(Rl(t)&&!r)return t;t=r}return null}var tr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[z];return Da(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[It]}get dirty(){return!!(this._lView[j]&9280)||!!this._lView[it]?.dirty}set context(e){this._lView[It]=e}get destroyed(){return(this._lView[j]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ye];if(Qt(e)){let n=e[la],r=n?n.indexOf(this):-1;r>-1&&(Kl(e,r),oa(n,r))}this._attachedToViewContainer=!1}Hv(this._lView[z],this._lView)}onDestroy(e){Yy(this._lView,e)}markForCheck(){Kd(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Dd(this._cdRefInjectingView||this._lView)}detach(){this._lView[j]&=-129}reattach(){kl(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,m_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Rl(this._lView),n=this._lView[Hr];n!==null&&!e&&Ud(n,this._lView),Uv(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=Rl(this._lView),r=this._lView[Hr];r!==null&&!n&&$v(r,this._lView),kl(this._lView)}},Qd=(()=>{class t{static __NG_ELEMENT_ID__=GC}return t})(),HC=Qd,qC=class extends HC{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=NC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new tr(i)}};function GC(){return zC(Xe(),de())}function zC(t,e){return t.type&4?new qC(e,t,La(t,e)):null}var hV=new RegExp(`^(\\d+)*(${yb}|${gb})*(.*)`);var WC=()=>null;function oy(t,e){return WC(t,e)}var Xl=class{},Ta=class{},ed=class{resolveComponentFactory(e){throw Error(`No component factory found for ${dt(e)}.`)}},go=class{static NULL=new ed},zr=class{},wo=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>KC()}return t})();function KC(){let t=de(),e=Xe(),n=En(e.index,t);return(gn(n)?n:t)[Me]}var QC=(()=>{class t{static \u0275prov=ue({token:t,providedIn:"root",factory:()=>null})}return t})();function td(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number")o=c;else if(o==1)i=kg(i,c);else if(o==2){let u=c,h=e[++a];r=kg(r,u+": "+h+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var nd=class extends go{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Br(e);return new ba(n,this.ngModule)}};function sy(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),a=o?i[0]:i,c=o?i[1]:_n.None;e?n.push({propName:a,templateName:r,isSignal:(c&_n.SignalBased)!==0}):n.push({propName:a,templateName:r})}return n}function YC(t){let e=t.toLowerCase();return e==="svg"?mT:e==="math"?gT:null}var ba=class extends Ta{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,r=sy(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return sy(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Xb(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Z(null);try{i=i||this.ngModule;let a=i instanceof yn?i:i?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let c=a?new Ll(e,a):e,u=c.get(zr,null);if(u===null)throw new U(407,!1);let h=c.get(QC,null),f=c.get(mo,null),m={rendererFactory:u,sanitizer:h,changeDetectionScheduler:f},D=u.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=r?iC(D,r,this.componentDef.encapsulation,c):Bv(D,T,YC(T)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let O=null;A!==null&&(O=Ld(A,c,!0));let B=Gd(0,null,null,1,0,null,null,null,null,null,null),q=$a(null,B,null,F,null,null,m,D,c,null,O);bd(q);let J,ie,Oe=null;try{let te=this.componentDef,I,g=null;te.findHostDirectiveDefs?(I=[],g=new Map,te.findHostDirectiveDefs(te,I,g),I.push(te)):I=[te];let y=JC(q,A);Oe=ZC(y,A,te,I,q,m,D),ie=Ky(B,xt),A&&tS(D,te,A,r),n!==void 0&&nS(ie,this.ngContentSelectors,n),J=eS(Oe,te,I,g,q,[rS]),Wd(B,q,null)}catch(te){throw Oe!==null&&zl(Oe),zl(q),te}finally{Cd()}return new rd(this.componentType,J,La(ie,q),q,ie)}finally{Z(o)}}},rd=class extends Xl{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new tr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;zd(o[z],o,i,e,n),this.previousInputValues.set(e,n);let a=En(this._tNode.index,o);Kd(a,1)}}get injector(){return new Kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function JC(t,e){let n=t[z],r=xt;return t[r]=e,Ha(n,r,2,"#host",null)}function ZC(t,e,n,r,i,o,a){let c=i[z];XC(r,t,e,a);let u=null;e!==null&&(u=Ld(e,i[$r]));let h=o.rendererFactory.createRenderer(e,n),f=$a(i,r_(n),null,c_(n),i[t.index],t,o,h,null,null,u);return c.firstCreatePass&&Yl(c,t,r.length-1),qa(i,f),i[t.index]=f}function XC(t,e,n,r){for(let i of t)e.mergedAttrs=po(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(td(e,e.mergedAttrs,!0),n!==null&&Kv(r,n,e))}function eS(t,e,n,r,i,o){let a=Xe(),c=i[z],u=Dt(a,i);s_(c,i,a,n,null,r);for(let f=0;f<n.length;f++){let m=a.directiveStart+f,D=Gr(i,c,m,a);er(D,i)}a_(c,i,a),u&&er(u,i);let h=Gr(i,c,a.directiveStart+a.componentOffset,a);if(t[It]=i[It]=h,o!==null)for(let f of o)f(h,e);return e_(c,a,i),h}function tS(t,e,n,r){if(r)Vl(t,n,["ng-version","19.0.6"]);else{let{attrs:i,classes:o}=eC(e.selectors[0]);i&&Vl(t,n,i),o&&o.length>0&&Wv(t,n,o.join(" "))}}function nS(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}function rS(){let t=Xe();Nd(de()[z],t)}var Yd=(()=>{class t{static __NG_ELEMENT_ID__=iS}return t})();function iS(){let t=Xe();return sS(t,de())}var oS=Yd,__=class extends oS{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return La(this._hostTNode,this._hostLView)}get injector(){return new Kn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Md(this._hostTNode,this._hostLView);if(dv(e)){let n=ma(e,this._hostLView),r=pa(e),i=n[z].data[r+8];return new Kn(i,n)}else return new Kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ay(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=oy(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(c,i,iy(this._hostTNode,a)),c}createComponent(e,n,r,i,o){let a=e&&!dT(e),c;if(a)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=a?e:new ba(Br(e)),h=r||this.parentInjector;if(!o&&u.ngModule==null){let F=(a?h:this.parentInjector).get(yn,null);F&&(o=F)}let f=Br(u.componentType??{}),m=oy(this._lContainer,f?.id??null),D=m?.firstChild??null,T=u.create(h,i,D,o);return this.insertImpl(T.hostView,c,iy(this._hostTNode,m)),T}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(vT(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Ye],h=new __(u,u[wt],u[Ye]);h.detach(h.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return MC(a,i,o,r),e.attachToViewContainerRef(),My(El(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ay(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Kl(this._lContainer,n);r&&(oa(El(this._lContainer),n),Hv(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=Kl(this._lContainer,n);return r&&oa(El(this._lContainer),n)!=null?new tr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ay(t){return t[la]}function El(t){return t[la]||(t[la]=[])}function sS(t,e){let n,r=e[t.index];return Qt(r)?n=r:(n=u_(r,e,null,t),e[t.index]=n,qa(e,n)),cS(n,e,t,r),new __(n,t,e)}function aS(t,e){let n=t[Me],r=n.createComment(""),i=Dt(e,t),o=Gv(n,i);return wa(n,o,r,Ob(n,i),!1),r}var cS=dS,uS=()=>!1;function lS(t,e,n){return uS(t,e,n)}function dS(t,e,n,r){if(t[Yn])return;let i;n.type&8?i=Rt(r):i=aS(e,n),t[Yn]=i}function hS(t){return typeof t=="function"&&t[nt]!==void 0}function ir(t,e){ja("NgSignals");let n=ug(t),r=n[nt];return e?.equal&&(r.equal=e.equal),n.set=i=>ro(r,i),n.update=i=>lg(r,i),n.asReadonly=I_.bind(n),n}function I_(){let t=this[nt];if(t.readonlyFn===void 0){let e=()=>this();e[nt]=t,t.readonlyFn=e}return t.readonlyFn}function E_(t){return hS(t)&&typeof t.set=="function"}function w_(t,e){let n=Object.create(A0),r=new Ia;n.value=t;function i(){return bs(n),cy(n.value),n.value}return i[nt]=n,i.asReadonly=I_.bind(i),i.set=o=>{n.equal(n.value,o)||(ro(n,o),r.emit(o))},i.update=o=>{cy(n.value),i.set(o(n.value))},i.subscribe=r.subscribe.bind(r),i.destroyRef=r.destroyRef,i}function cy(t){if(t===Ey)throw new U(952,!1)}function uy(t,e){return w_(t,e)}function fS(t){return w_(Ey,t)}var D_=(uy.required=fS,uy);var Wr=class{};var Ca=class extends Wr{injector;componentFactoryResolver=new nd(this);instance=null;constructor(e){super();let n=new ho([...e.providers,{provide:Wr,useValue:this},{provide:go,useValue:this.componentFactoryResolver}],e.parent||Id(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function pS(t,e,n=null){return new Ca({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var mS=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Oy(!1,n.type),i=r.length>0?pS([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ue({token:t,providedIn:"environment",factory:()=>new t(oe(yn))})}return t})();function xe(t){return vo(()=>{let e=b_(t),n=ce($({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Av.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(mS).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pt.Emulated,styles:t.styles||lt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&ja("NgStandalone"),C_(n);let r=t.dependencies;return n.directiveDefs=dy(r,!1),n.pipeDefs=dy(r,!0),n.id=vS(n),n})}function gS(t){return Br(t)||Py(t)}function yS(t){return t!==null}function or(t){return vo(()=>({type:t.type,bootstrap:t.bootstrap||lt,declarations:t.declarations||lt,imports:t.imports||lt,exports:t.exports||lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ly(t,e){if(t==null)return jr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,c=_n.None;Array.isArray(i)?(c=i[0],o=i[1],a=i[2]??o):(o=i,a=i),e?(n[o]=c!==_n.None?[r,c]:r,e[o]=a):n[o]=r}return n}function Tt(t){return vo(()=>{let e=b_(t);return C_(e),e})}function T_(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function b_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||jr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ly(t.inputs,e),outputs:ly(t.outputs),debugInfo:null}}function C_(t){t.features?.forEach(e=>e(t))}function dy(t,e){if(!t)return null;let n=e?ky:gS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(yS)}function vS(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function _S(t){return Object.getPrototypeOf(t.prototype).constructor}function Tn(t){let e=_S(t.type),n=!0,r=[t];for(;e;){let i;if(vn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let a=t;a.inputs=Ys(t.inputs),a.inputTransforms=Ys(t.inputTransforms),a.declaredInputs=Ys(t.declaredInputs),a.outputs=Ys(t.outputs);let c=i.hostBindings;c&&TS(t,c);let u=i.viewQuery,h=i.contentQueries;if(u&&wS(t,u),h&&DS(t,h),IS(t,i),M0(t.outputs,i.outputs),vn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let c=o[a];c&&c.ngInherit&&c(t),c===Tn&&(n=!1)}}e=Object.getPrototypeOf(e)}ES(r)}function IS(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ES(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=po(i.hostAttrs,n=po(n,i.hostAttrs))}}function Ys(t){return t===jr?{}:t===lt?[]:t}function wS(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function DS(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function TS(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function S_(t){return CS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function bS(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function CS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function A_(t,e,n){return t[e]=n}function SS(t,e){return t[e]}function Do(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function AS(t){return(t.flags&32)===32}function NS(t,e,n,r,i,o,a,c,u){let h=e.consts,f=Ha(e,t,4,a||null,c||null);o_(e,n,f,fa(h,u)),Nd(e,f);let m=f.tView=Gd(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,f),m.queries=e.queries.embeddedTView(f)),f}function MS(t,e,n,r,i,o,a,c,u,h){let f=n+xt,m=e.firstCreatePass?NS(f,e,t,r,i,o,a,c,u):e.data[f];Eo(m,!1);let D=xS(e,t,m,n);Sd()&&$d(e,t,D,m),er(D,t);let T=u_(D,t,D,m);return t[f]=T,qa(t,T),lS(T,m,t),Ed(m)&&t_(e,t,m),u!=null&&n_(t,m,h),m}function Yt(t,e,n,r,i,o,a,c){let u=de(),h=ot(),f=fa(h.consts,o);return MS(u,h,t,e,n,r,i,f,a,c),Yt}var xS=RS;function RS(t,e,n,r){return Ad(!0),e[Me].createComment("")}var N_=new H("");function ri(t){return!!t&&typeof t.then=="function"}function Jd(t){return!!t&&typeof t.subscribe=="function"}var PS=new H("");var M_=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=X(PS,{optional:!0})??[];injector=X(Et);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=jy(this.injector,i);if(ri(o))n.push(o);else if(Jd(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kS=(()=>{class t{static \u0275prov=ue({token:t,providedIn:"root",factory:()=>new id})}return t})(),id=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},OS=new H("");function FS(){cg(()=>{throw new U(600,!1)})}function VS(t){return t.isBoundToModule}var LS=10;function jS(t,e,n){try{let r=n();return ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Kr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=X(ub);afterRenderManager=X(_b);zonelessEnabled=X(Rd);rootEffectScheduler=X(kS);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new qt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=X(Va).hasPendingTasks.pipe(Wn(n=>!n));constructor(){X(Fv,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=X(yn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ta;if(!this._injector.get(M_).done){let D=!i&&Z0(n),T=!1;throw new U(405,T)}let a;i?a=n:a=this._injector.get(go).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=VS(a)?void 0:this._injector.get(Wr),u=r||a.selector,h=a.create(Et.NULL,[],u,c),f=h.location.nativeElement,m=h.injector.get(N_,null);return m?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),ta(this.components,h),m?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Ov.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new U(101,!1);let n=Z(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Z(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<LS;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)BS(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Oa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ta(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(OS,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ta(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ta(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function BS(t,e,n,r){if(!n&&!Oa(t))return;m_(t,e,n&&!r?0:1)}function US(t,e,n,r){return Do(t,Td(),n)?e+gd(n)+r:Dn}function Js(t,e){return t<<17|e<<2}function nr(t){return t>>17&32767}function $S(t){return(t&2)==2}function HS(t,e){return t&131071|e<<17}function od(t){return t|2}function Qr(t){return(t&131068)>>2}function wl(t,e){return t&-131069|e<<2}function qS(t){return(t&1)===1}function sd(t){return t|1}function GS(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,c=nr(a),u=Qr(a);t[r]=n;let h=!1,f;if(Array.isArray(n)){let m=n;f=m[1],(f===null||_o(m,f)>0)&&(h=!0)}else f=n;if(i)if(u!==0){let D=nr(t[c+1]);t[r+1]=Js(D,c),D!==0&&(t[D+1]=wl(t[D+1],r)),t[c+1]=HS(t[c+1],r)}else t[r+1]=Js(c,0),c!==0&&(t[c+1]=wl(t[c+1],r)),c=r;else t[r+1]=Js(u,0),c===0?c=r:t[u+1]=wl(t[u+1],r),u=r;h&&(t[r+1]=od(t[r+1])),hy(t,f,r,!0),hy(t,f,r,!1),zS(e,f,t,r,o),a=Js(c,u),o?e.classBindings=a:e.styleBindings=a}function zS(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&_o(o,e)>=0&&(n[r+1]=sd(n[r+1]))}function hy(t,e,n,r){let i=t[n+1],o=e===null,a=r?nr(i):Qr(i),c=!1;for(;a!==0&&(c===!1||o);){let u=t[a],h=t[a+1];WS(u,e)&&(c=!0,t[a+1]=r?sd(h):od(h)),a=r?nr(h):Qr(h)}c&&(t[n+1]=r?od(i):sd(i))}function WS(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?_o(t,e)>=0:!1}function He(t,e,n){let r=de(),i=Td();if(Do(r,i,e)){let o=ot(),a=cv();i_(o,a,r,t,e,r[Me],n,!1)}return He}function fy(t,e,n,r,i){let o=e.inputs,a=i?"class":"style";zd(t,n,o[a],a,r)}function bn(t,e){return KS(t,e,null,!0),bn}function KS(t,e,n,r){let i=de(),o=ot(),a=MT(2);if(o.firstUpdatePass&&YS(o,t,a,r),e!==Dn&&Do(i,a,e)){let c=o.data[ei()];tA(o,c,i,i[Me],t,i[a+1]=nA(e,n),r,a)}}function QS(t,e){return e>=t.expandoStartIndex}function YS(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ei()],a=QS(t,n);rA(o,r)&&e===null&&!a&&(e=!1),e=JS(i,o,e,r),GS(i,o,e,n,a,r)}}function JS(t,e,n,r){let i=kT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Dl(null,t,e,n,r),n=yo(n,e.attrs,r),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==i)if(n=Dl(i,t,e,n,r),o===null){let u=ZS(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Dl(null,t,e,u[1],r),u=yo(u,e.attrs,r),XS(t,e,r,u))}else o=eA(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function ZS(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Qr(r)!==0)return t[nr(r)]}function XS(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[nr(i)]=r}function eA(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let a=t[o].hostAttrs;r=yo(r,a,n)}return yo(r,e.attrs,n)}function Dl(t,e,n,r,i){let o=null,a=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<a&&(o=e[c],r=yo(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function yo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Y0(t,a,n?!0:e[++o]))}return t===void 0?null:t}function tA(t,e,n,r,i,o,a,c){if(!(e.type&3))return;let u=t.data,h=u[c+1],f=qS(h)?py(u,e,n,i,Qr(h),a):void 0;if(!Sa(f)){Sa(o)||$S(h)&&(o=py(u,null,n,i,c,a));let m=Wy(ei(),n);$b(r,a,m,i,o)}}function py(t,e,n,r,i,o){let a=e===null,c;for(;i>0;){let u=t[i],h=Array.isArray(u),f=h?u[1]:u,m=f===null,D=n[i+1];D===Dn&&(D=m?lt:void 0);let T=m?pl(D,r):f===r?D:void 0;if(h&&!Sa(T)&&(T=pl(u,r)),Sa(T)&&(c=T,a))return c;let A=t[i+1];i=a?nr(A):Qr(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=pl(u,r))}return c}function Sa(t){return t!==void 0}function nA(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=dt(Ba(t)))),t}function rA(t,e){return(t.flags&(e?8:16))!==0}function iA(t,e,n,r,i,o){let a=e.consts,c=fa(a,i),u=Ha(e,t,2,r,c);return o_(e,n,u,fa(a,o)),u.attrs!==null&&td(u,u.attrs,!1),u.mergedAttrs!==null&&td(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function N(t,e,n,r){let i=de(),o=ot(),a=xt+t,c=i[Me],u=o.firstCreatePass?iA(a,o,i,e,n,r):o.data[a],h=oA(o,i,u,c,e,t);i[a]=h;let f=Ed(u);return Eo(u,!0),Kv(c,h,u),!AS(u)&&Sd()&&$d(o,i,h,u),ET()===0&&er(h,i),wT(),f&&(t_(o,i,u),e_(o,u,i)),r!==null&&n_(i,u),N}function M(){let t=Xe();Xy()?AT():(t=t.parent,Eo(t,!1));let e=t;bT(e)&&CT(),DT();let n=ot();return n.firstCreatePass&&(Nd(n,t),$y(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&UT(e)&&fy(n,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$T(e)&&fy(n,e,de(),e.stylesWithoutHost,!1),M}function Ie(t,e,n,r){return N(t,e,n,r),M(),Ie}var oA=(t,e,n,r,i,o)=>(Ad(!0),Bv(r,i,VT()));function Ga(){return de()}var Aa="en-US";var sA=Aa;function aA(t){typeof t=="string"&&(sA=t.toLowerCase().replace(/_/g,"-"))}var cA=(t,e,n)=>{};function Ne(t,e,n,r){let i=de(),o=ot(),a=Xe();return x_(o,i,i[Me],a,t,e,r),Ne}function uA(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let c=e[ca],u=i[o+2];return c.length>u?c[u]:null}typeof a=="string"&&(o+=2)}return null}function x_(t,e,n,r,i,o,a){let c=Ed(r),h=t.firstCreatePass&&TC(t),f=e[It],m=DC(e),D=!0;if(r.type&3||a){let F=Dt(r,e),O=a?a(F):F,B=m.length,q=a?ie=>a(Rt(ie[r.index])):r.index,J=null;if(!a&&c&&(J=uA(t,e,i,r.index)),J!==null){let ie=J.__ngLastListenerFn__||J;ie.__ngNextListenerFn__=o,J.__ngLastListenerFn__=o,D=!1}else{o=gy(r,e,f,o),cA(F,i,o);let ie=n.listen(O,i,o);m.push(o,ie),h&&h.push(i,q,B,B+1)}}else o=gy(r,e,f,o);let T=r.outputs,A;if(D&&T!==null&&(A=T[i])){let F=A.length;if(F)for(let O=0;O<F;O+=2){let B=A[O],q=A[O+1],Oe=e[B][q].subscribe(o),te=m.length;m.push(o,Oe),h&&h.push(i,r.index,te,-(te+1))}}}function my(t,e,n,r){let i=Z(null);try{return At(6,e,n),n(r)!==!1}catch(o){return d_(t,o),!1}finally{At(7,e,n),Z(i)}}function gy(t,e,n,r){return function i(o){if(o===Function)return r;let a=t.componentOffset>-1?En(t.index,e):e;Kd(a,5);let c=my(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)c=my(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function ii(t=1){return FT(t)}function lA(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function k(t,e=""){let n=de(),r=ot(),i=t+xt,o=r.firstCreatePass?Ha(r,i,1,e,null):r.data[i],a=dA(r,n,o,e,t);n[i]=a,Sd()&&$d(r,n,a,o),Eo(o,!1)}var dA=(t,e,n,r,i)=>(Ad(!0),bb(e[Me],r));function st(t){return za("",t,""),st}function za(t,e,n){let r=de(),i=US(r,t,e,n);return i!==Dn&&bC(r,ei(),i),za}function Zd(t,e,n){E_(e)&&(e=e());let r=de(),i=Td();if(Do(r,i,e)){let o=ot(),a=cv();i_(o,a,r,t,e,r[Me],n,!1)}return Zd}function R_(t,e){let n=E_(t);return n&&t.set(e),n}function Xd(t,e){let n=de(),r=ot(),i=Xe();return x_(r,n,n[Me],i,t,e),Xd}function hA(t,e,n){let r=ot();if(r.firstCreatePass){let i=vn(t);ad(n,r.data,r.blueprint,i,!0),ad(e,r.data,r.blueprint,i,!1)}}function ad(t,e,n,r,i){if(t=Qe(t),Array.isArray(t))for(let o=0;o<t.length;o++)ad(t[o],e,n,r,i);else{let o=ot(),a=de(),c=Xe(),u=Ur(t)?t:Qe(t.provide),h=Ly(t),f=c.providerIndexes&1048575,m=c.directiveStart,D=c.providerIndexes>>20;if(Ur(t)||!t.multi){let T=new Xn(h,i,ae),A=bl(u,e,i?f:f+D,m);A===-1?(Bl(ya(c,a),o,u),Tl(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(T),a.push(T)):(n[A]=T,a[A]=T)}else{let T=bl(u,e,f+D,m),A=bl(u,e,f,f+D),F=T>=0&&n[T],O=A>=0&&n[A];if(i&&!O||!i&&!F){Bl(ya(c,a),o,u);let B=mA(i?pA:fA,n.length,i,r,h);!i&&O&&(n[A].providerFactory=B),Tl(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(B),a.push(B)}else{let B=P_(n[i?A:T],h,!i&&r);Tl(o,t,T>-1?T:A,B)}!i&&r&&O&&n[A].componentProviders++}}}function Tl(t,e,n,r){let i=Ur(e),o=rT(e);if(i||o){let u=(o?Qe(e.useClass):e).prototype.ngOnDestroy;if(u){let h=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=h.indexOf(n);f===-1?h.push(n,[r,u]):h[f+1].push(r,u)}else h.push(n,u)}}}function P_(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function bl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fA(t,e,n,r){return cd(this.multi,[])}function pA(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Gr(n,n[z],this.providerFactory.index,r);o=c.slice(0,a),cd(i,o);for(let u=a;u<c.length;u++)o.push(c[u])}else o=[],cd(i,o);return o}function cd(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function mA(t,e,n,r,i){let o=new Xn(t,n,ae);return o.multi=[],o.index=e,o.componentProviders=0,P_(o,i,r&&!n),o}function Wa(t,e=[]){return n=>{n.providersResolver=(r,i)=>hA(r,i?i(t):t,e)}}function k_(t,e,n){let r=tv()+t,i=de();return i[r]===Dn?A_(i,r,n?e.call(n):e()):SS(i,r)}function gA(t,e){let n=t[e];return n===Dn?void 0:n}function yA(t,e,n,r,i,o){let a=e+n;return Do(t,a,i)?A_(t,a+1,o?r.call(o,i):r(i)):gA(t,a+1)}function eh(t,e){let n=ot(),r,i=t+xt;n.firstCreatePass?(r=vA(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Qn(r.type,!0)),a,c=Ze(ae);try{let u=ga(!1),h=o();return ga(u),lA(n,de(),i,h),h}finally{Ze(c)}}function vA(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function th(t,e,n){let r=t+xt,i=de(),o=yT(i,r);return _A(i,r)?yA(i,tv(),e,o.transform,n,o):o.transform(n)}function _A(t,e){return t[z].data[e].pure}var In=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},O_=new In("19.0.6");var IA=(()=>{class t{zone=X(ve);changeDetectionScheduler=X(mo);applicationRef=X(Kr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function EA({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(ce($({},wA()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:lo,multi:!0,useFactory:()=>{let r=X(IA,{optional:!0});return()=>r.initialize()}},{provide:lo,multi:!0,useFactory:()=>{let r=X(DA);return()=>{r.initialize()}}},e===!0?{provide:wv,useValue:!0}:[],{provide:Dv,useValue:n??Ev}]}function wA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var DA=(()=>{class t{subscription=new Ve;initialized=!1;zone=X(ve);pendingTasks=X(Va);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var TA=(()=>{class t{appRef=X(Kr);taskService=X(Va);ngZone=X(ve);zonelessEnabled=X(Rd);tracing=X(Fv,{optional:!0});disableScheduling=X(wv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_a):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(X(Dv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Gl||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Kg:Tv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_a+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Kg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bA(){return typeof $localize<"u"&&$localize.locale||Aa}var nh=new H("",{providedIn:"root",factory:()=>X(nh,K.Optional|K.SkipSelf)||bA()});var ud=new H(""),CA=new H("");function oo(t){return!t.moduleRef}function SA(t){let e=oo(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{oo(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(zt,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),oo(t)){let o=()=>e.destroy(),a=t.platformInjector.get(ud);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(ud);a.add(o),t.moduleRef.onDestroy(()=>{ta(t.allPlatformModules,t.moduleRef),i.unsubscribe(),a.delete(o)})}return jS(r,n,()=>{let o=e.get(M_);return o.runInitializers(),o.donePromise.then(()=>{let a=e.get(nh,Aa);if(aA(a||Aa),!e.get(CA,!0))return oo(t)?e.get(Kr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(oo(t)){let u=e.get(Kr);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return AA(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function AA(t,e){let n=t.injector.get(Kr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new U(-403,!1);e.push(t)}var na=null;function NA(t=[],e){return Et.create({name:e,providers:[{provide:xa,useValue:"platform"},{provide:ud,useValue:new Set([()=>na=null])},...t]})}function MA(t=[]){if(na)return na;let e=NA(t);return na=e,FS(),xA(e),e}function xA(t){let e=t.get(Fd,null);jy(t,()=>{e?.forEach(n=>n())})}var Ka=(()=>{class t{static __NG_ELEMENT_ID__=RA}return t})();function RA(t){return PA(Xe(),de(),(t&16)===16)}function PA(t,e,n){if(Pa(t)&&!n){let r=En(t.index,e);return new tr(r,r)}else if(t.type&175){let r=e[Mt];return new tr(r,e)}return null}var ld=class{constructor(){}supports(e){return S_(e)}create(e){return new dd(e)}},kA=(t,e)=>e,dd=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||kA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let a=!r||n&&n.currentIndex<yy(r,i,o)?n:r,c=yy(a,i,o),u=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(n=n._next,a.previousIndex==null)i++;else{o||(o=[]);let h=c-i,f=u-i;if(h!=f){for(let D=0;D<h;D++){let T=D<o.length?o[D]:o[D]=0,A=T+D;f<=A&&A<h&&(o[D]=T+1)}let m=a.previousIndex;o[m]=f-h}}c!==u&&e(a,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!S_(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,a;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],a=this._trackByFn(c,o),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,o,a,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,a,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,bS(e,c=>{a=this._trackByFn(i,c),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,c,a,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,a,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new hd(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Na),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Na),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},hd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},fd=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Na=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new fd,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function yy(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function vy(){return new rh([new ld])}var rh=(()=>{class t{factories;static \u0275prov=ue({token:t,providedIn:"root",factory:vy});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||vy()),deps:[[t,new K0,new kt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new U(901,!1)}}return t})();function F_(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=MA(r),o=[EA({}),{provide:mo,useExisting:TA},...n||[]],a=new Ca({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return SA({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function To(t,e){ja("NgSignals");let n=og(t);return e?.equal&&(n[nt].equal=e.equal),n}function bt(t){let e=Z(null);try{return t()}finally{Z(e)}}var _y=class{[nt];constructor(e){this[nt]=e}destroy(){this[nt].destroy()}};var L_=null;function oi(){return L_}function j_(t){L_??=t}var Qa=class{};var Cn=new H("");function B_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ih=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},si=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,a)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ih(i.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),V_(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);V_(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ae(Yd),ae(Qd),ae(rh))};static \u0275dir=Tt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function V_(t,e){t.context.$implicit=e.item}function FA(t,e){return new U(2100,!1)}var oh=class{createSubscription(e,n){return bt(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){bt(()=>e.unsubscribe())}},sh=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},VA=new sh,LA=new oh,U_=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(ri(n))return VA;if(Jd(n))return LA;throw FA(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(ae(Ka,16))};static \u0275pipe=T_({name:"async",type:t,pure:!1})}return t})();var Le=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=or({type:t});static \u0275inj=rr({})}return t})(),$_="browser",jA="server";function ah(t){return t===jA}var Ya=class{};var lh=class extends Qa{supportsDOMEvents=!0},dh=class t extends lh{static makeCurrent(){j_(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=UA();return n==null?null:$A(n)}resetBaseElement(){bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return B_(document.cookie,e)}},bo=null;function UA(){return bo=bo||document.querySelector("base"),bo?bo.getAttribute("href"):null}function $A(t){return new URL(t,document.baseURI).pathname}var HA=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac})}return t})(),hh=new H(""),K_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(oe(hh),oe(ve))};static \u0275prov=ue({token:t,factory:t.\u0275fac})}return t})(),Za=class{_doc;constructor(e){this._doc=e}manager},Ja="ng-app-id";function H_(t){for(let e of t)e.remove()}function q_(t,e){let n=e.createElement("style");return n.textContent=t,n}function qA(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Ja}="${e}"],link[${Ja}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Ja),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function fh(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Q_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=ah(o),qA(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,q_);r?.forEach(i=>this.addUsage(i,this.external,fh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(H_(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])H_(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,q_(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,fh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ja,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(oe(Cn),oe(Od),oe(Vd,8),oe(wn))};static \u0275prov=ue({token:t,factory:t.\u0275fac})}return t})(),uh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mh=/%COMP%/g,Y_="%COMP%",GA=`_nghost-${Y_}`,zA=`_ngcontent-${Y_}`,WA=!0,KA=new H("",{providedIn:"root",factory:()=>WA});function QA(t){return zA.replace(mh,t)}function YA(t){return GA.replace(mh,t)}function J_(t,e){return e.map(n=>n.replace(mh,t))}var G_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,a,c,u,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=h,this.platformIsServer=ah(c),this.defaultRenderer=new Co(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Pt.ShadowDom&&(r=ce($({},r),{encapsulation:Pt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Xa?i.applyToHost(n):i instanceof So&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Pt.Emulated:o=new Xa(u,h,r,this.appId,f,a,c,m);break;case Pt.ShadowDom:return new ph(u,h,n,r,a,c,this.nonce,m);default:o=new So(u,h,r,f,a,c,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(oe(K_),oe(Q_),oe(Od),oe(KA),oe(Cn),oe(wn),oe(ve),oe(Vd))};static \u0275prov=ue({token:t,factory:t.\u0275fac})}return t})(),Co=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(uh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(z_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(z_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=uh[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=uh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wt.DashCase|Wt.Important)?e.style.setProperty(n,r,i&Wt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=oi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function z_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ph=class extends Co{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,a,c,u){super(e,o,a,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=J_(i.id,i.styles);for(let m of h){let D=document.createElement("style");c&&D.setAttribute("nonce",c),D.textContent=m,this.shadowRoot.appendChild(D)}let f=i.getExternalStyles?.();if(f)for(let m of f){let D=fh(m,o);c&&D.setAttribute("nonce",c),this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},So=class extends Co{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,a,c,u){super(e,o,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?J_(u,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Xa=class extends So{contentAttr;hostAttr;constructor(e,n,r,i,o,a,c,u){let h=i+"-"+r.id;super(e,n,r,o,a,c,u,h),this.contentAttr=QA(h),this.hostAttr=YA(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},JA=(()=>{class t extends Za{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||t)(oe(Cn))};static \u0275prov=ue({token:t,factory:t.\u0275fac})}return t})(),W_=["alt","control","meta","shift"],ZA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XA={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},eN=(()=>{class t extends Za{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oi().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),W_.forEach(h=>{let f=r.indexOf(h);f>-1&&(r.splice(f,1),a+=h+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let i=ZA[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),W_.forEach(a=>{if(a!==i){let c=XA[a];c(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(oe(Cn))};static \u0275prov=ue({token:t,factory:t.\u0275fac})}return t})();function Z_(t,e){return F_($({rootComponent:t},tN(e)))}function tN(t){return{appProviders:[...sN,...t?.providers??[]],platformProviders:oN}}function nN(){dh.makeCurrent()}function rN(){return new zt}function iN(){return Pv(document),document}var oN=[{provide:wn,useValue:$_},{provide:Fd,useValue:nN,multi:!0},{provide:Cn,useFactory:iN,deps:[]}];var sN=[{provide:xa,useValue:"root"},{provide:zt,useFactory:rN,deps:[]},{provide:hh,useClass:JA,multi:!0,deps:[Cn,ve,wn]},{provide:hh,useClass:eN,multi:!0,deps:[Cn]},G_,Q_,K_,{provide:zr,useExisting:G_},{provide:Ya,useClass:HA,deps:[]},[]];var X_=(()=>{class t{constructor(){this.isScrolled=!1,this.cartToggle=Cv()}onWindowScroll(){this.isScrolled=window.scrollY>50}toggleCart(){this.cartToggle.emit(!0)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-navbar"]],hostBindings:function(r,i){r&1&&Ne("scroll",function(){return i.onWindowScroll()},!1,jv)},outputs:{cartToggle:"cartToggle"},decls:20,vars:6,consts:[[1,"fixed","w-full","transition-all","duration-300","z-30"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16","items-center"],[1,"flex-shrink-0"],[1,"text-2xl","font-bold","text-white"],[1,"hidden","md:block"],[1,"ml-10","flex","items-baseline","space-x-4"],["href","#",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],["href","#products",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],["href","#reviews",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],["href","#about",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],["href","#contact",1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium"],[1,"text-white","hover:text-chocolate-200","px-3","py-2","rounded-md","text-sm","font-medium",3,"click"]],template:function(r,i){r&1&&(N(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),k(5,"Nuts On Top"),M()(),N(6,"div",5)(7,"div",6)(8,"a",7),k(9,"Home"),M(),N(10,"a",8),k(11,"Products"),M(),N(12,"a",9),k(13,"Reviews"),M(),N(14,"a",10),k(15,"About"),M(),N(16,"a",11),k(17,"Contact"),M(),N(18,"a",12),Ne("click",function(){return i.toggleCart()}),k(19,"Cart"),M()()()()()()),r&2&&bn("scrolled",i.isScrolled)("bg-chocolate-800",i.isScrolled)("bg-transparent",!i.isScrolled)},dependencies:[Le],encapsulation:2})}}return t})();var eI=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-hero"]],decls:31,vars:0,consts:[[1,"relative","h-screen","w-screen","flex","items-center","overflow-hidden"],[1,"absolute","inset-0","z-0","bg-[#CBA35C]","h-full","hero-bg"],[1,"grid","grid-cols-2","w-full","h-full"],[1,"h-full","w-full","flex","relative","blur-[2px]"],["src","assets/images/strawberry.png","alt","",1,"absolute","right-60","top-10","floating","w-50","rotate-circle"],["src","assets/images/cherries.png","alt","",1,"absolute","left-30","bottom-30","floating","w-30","rotate-circle"],["src","assets/images/coco.png","alt","",1,"absolute","right-30","bottom-50","floating","w-30"],["src","assets/images/raisins.png","alt","",1,"absolute","left-20","top-50","floating","w-30","-rotate-15"],["src","assets/images/garbanzo.png","alt","",1,"absolute","left-100","bottom-30","floating","w-20"],["src","assets/images/garbanzo.png","alt","",1,"absolute","left-90","top-30","floating","w-20"],["src","assets/images/peanut.png","alt","",1,"absolute","right-0","top-50","floating","w-30"],[1,"h-full","w-full","flex","items-center","justify-center","relative"],["src","assets/images/hero-image-1.png","alt","",1,"absolute","left-0","-rotate-75","floating","w-150","z-5"],["src","assets/images/hero-image-2.png","alt","",1,"absolute","left-35","-rotate-35","floating","floating-delay","w-150","z-4"],["src","assets/images/hero-image-3.png","alt","",1,"absolute","left-70","floating","w-150","z-4"],["src","assets/images/cherries.png","alt","",1,"absolute","left-30","top-30","floating","w-30","rotate-circle"],["src","assets/images/garbanzo.png","alt","",1,"absolute","left-10","bottom-30","floating","w-20"],["src","assets/images/peanut.png","alt","",1,"absolute","right-30","bottom-30","floating","w-30"],["src","assets/images/coco.png","alt","",1,"absolute","left-90","top-40","floating","w-30"],["src","assets/images/cherries.png","alt","",1,"absolute","left-90","bottom-20","floating","w-30","rotate-circle"],[1,"relative","z-10","text-center","text-white","w-full"],[1,"grid","grid-cols-2","w-full"],[1,"h-full","w-full","flex","items-center","justify-center","flex-col"],[1,"poppins-bold","text-4xl","hearo-header","mb-4"],[1,"poppins-bold","text-8xl","hearo-header"],[1,"mt-12","text-xl"],[1,"h-full","w-full"]],template:function(r,i){r&1&&(N(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),Ie(4,"img",4)(5,"img",5)(6,"img",6)(7,"img",7)(8,"img",8)(9,"img",9)(10,"img",10),M(),N(11,"div",11),Ie(12,"img",12)(13,"img",13)(14,"img",14)(15,"img",15)(16,"img",16)(17,"img",4)(18,"img",17)(19,"img",18)(20,"img",19),M()()(),N(21,"div",20)(22,"div",21)(23,"div",22)(24,"h3",23),k(25,"Nutsontop"),M(),N(26,"h3",24),k(27,"TIME TO GET NUTTY!"),M(),N(28,"p",25),k(29,"Savor the finest handcrafted chocolates, made with love and the richest ingredients. Treat yourself to a moment of sweetness today!"),M()(),Ie(30,"div",26),M()()())},dependencies:[Le],encapsulation:2})}}return t})();var nI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aN=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],a=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},rI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],a=i+1<t.length,c=a?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=o>>2,m=(o&3)<<4|c>>4,D=(c&15)<<2|h>>6,T=h&63;u||(T=64,a||(D=64)),r.push(n[f],n[m],n[D],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let h=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||h==null||m==null)throw new yh;let D=o<<2|c>>4;if(r.push(D),h!==64){let T=c<<4&240|h>>2;if(r.push(T),m!==64){let A=h<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},yh=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},cN=function(t){let e=nI(t);return rI.encodeByteArray(e,!0)},Ao=function(t){return cN(t).replace(/\./g,"")},_h=function(t){try{return rI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var lN=()=>uN().__FIREBASE_DEFAULTS__,dN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&_h(t[1]);return e&&JSON.parse(e)},tc=()=>{try{return lN()||dN()||hN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iI=t=>{var e,n;return(n=(e=tc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oI=t=>{let e=iI(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ih=()=>{var t;return(t=tc())===null||t===void 0?void 0:t.config},sI=t=>{var e;return(e=tc())===null||e===void 0?void 0:e[`_${t}`]};var ec=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function aI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ao(JSON.stringify(n)),Ao(JSON.stringify(a)),""].join(".")}function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function fN(){var t;let e=(t=tc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lI(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hI(){return!fN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Eh(){try{return typeof indexedDB=="object"}catch{return!1}}function fI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var pN="FirebaseError",ft=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jt.prototype.create)}},Jt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?mN(o,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new ft(i,c,r)}};function mN(t,e){return t.replace(gN,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var gN=/\{\$([^}]+)}/g;function ai(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],a=e[i];if(tI(o)&&tI(a)){if(!ai(o,a))return!1}else if(o!==a)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function tI(t){return t!==null&&typeof t=="object"}function wh(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pI(t,e){let n=new vh(t,e);return n.subscribe.bind(n)}var vh=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gh),i.error===void 0&&(i.error=gh),i.complete===void 0&&(i.complete=gh);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function yN(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gh(){}var EL=4*60*60*1e3;function Ct(t){return t&&t._delegate?t._delegate:t}var pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var sr="[DEFAULT]";var Dh=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ec;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_N(e))try{this.getOrInitializeService({instanceIdentifier:sr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=sr){return this.instances.has(e)}getOptions(e=sr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&a.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sr){return this.component?this.component.multipleInstances?e:sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function vN(t){return t===sr?void 0:t}function _N(t){return t.instantiationMode==="EAGER"}var nc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Dh(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var IN=[],Q=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Q||{}),EN={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},wN=Q.INFO,DN={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},TN=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=DN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Sn=class{constructor(e){this.name=e,this._logLevel=wN,this._logHandler=TN,this._userLogHandler=null,IN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}};var bN=(t,e)=>e.some(n=>t instanceof n),mI,gI;function CN(){return mI||(mI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SN(){return gI||(gI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var yI=new WeakMap,bh=new WeakMap,vI=new WeakMap,Th=new WeakMap,Sh=new WeakMap;function AN(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ot(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&yI.set(n,t)}).catch(()=>{}),Sh.set(e,t),e}function NN(t){if(bh.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});bh.set(t,e)}var Ch={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ot(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _I(t){Ch=t(Ch)}function MN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(rc(this),e,...n);return vI.set(r,e.sort?e.sort():[e]),Ot(r)}:SN().includes(t)?function(...e){return t.apply(rc(this),e),Ot(yI.get(this))}:function(...e){return Ot(t.apply(rc(this),e))}}function xN(t){return typeof t=="function"?MN(t):(t instanceof IDBTransaction&&NN(t),bN(t,CN())?new Proxy(t,Ch):t)}function Ot(t){if(t instanceof IDBRequest)return AN(t);if(Th.has(t))return Th.get(t);let e=xN(t);return e!==t&&(Th.set(t,e),Sh.set(e,t)),e}var rc=t=>Sh.get(t);function EI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(t,e),c=Ot(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Ot(a.result),u.oldVersion,u.newVersion,Ot(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var RN=["get","getKey","getAll","getAllKeys","count"],PN=["put","add","delete","clear"],Ah=new Map;function II(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=PN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RN.includes(n)))return;let o=function(a,...c){return S(this,null,function*(){let u=this.transaction(a,i?"readwrite":"readonly"),h=u.store;return r&&(h=h.index(c.shift())),(yield Promise.all([h[n](...c),i&&u.done]))[0]})};return Ah.set(e,o),o}_I(t=>ce($({},t),{get:(e,n,r)=>II(e,n)||t.get(e,n,r),has:(e,n)=>!!II(e,n)||t.has(e,n)}));var Mh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kN(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function kN(t){let e=t.getComponent();return e?.type==="VERSION"}var xh="@firebase/app",wI="0.10.13";var Zt=new Sn("@firebase/app"),ON="@firebase/app-compat",FN="@firebase/analytics-compat",VN="@firebase/analytics",LN="@firebase/app-check-compat",jN="@firebase/app-check",BN="@firebase/auth",UN="@firebase/auth-compat",$N="@firebase/database",HN="@firebase/data-connect",qN="@firebase/database-compat",GN="@firebase/functions",zN="@firebase/functions-compat",WN="@firebase/installations",KN="@firebase/installations-compat",QN="@firebase/messaging",YN="@firebase/messaging-compat",JN="@firebase/performance",ZN="@firebase/performance-compat",XN="@firebase/remote-config",eM="@firebase/remote-config-compat",tM="@firebase/storage",nM="@firebase/storage-compat",rM="@firebase/firestore",iM="@firebase/vertexai-preview",oM="@firebase/firestore-compat",sM="firebase",aM="10.14.1";var Rh="[DEFAULT]",cM={[xh]:"fire-core",[ON]:"fire-core-compat",[VN]:"fire-analytics",[FN]:"fire-analytics-compat",[jN]:"fire-app-check",[LN]:"fire-app-check-compat",[BN]:"fire-auth",[UN]:"fire-auth-compat",[$N]:"fire-rtdb",[HN]:"fire-data-connect",[qN]:"fire-rtdb-compat",[GN]:"fire-fn",[zN]:"fire-fn-compat",[WN]:"fire-iid",[KN]:"fire-iid-compat",[QN]:"fire-fcm",[YN]:"fire-fcm-compat",[JN]:"fire-perf",[ZN]:"fire-perf-compat",[XN]:"fire-rc",[eM]:"fire-rc-compat",[tM]:"fire-gcs",[nM]:"fire-gcs-compat",[rM]:"fire-fst",[oM]:"fire-fst-compat",[iM]:"fire-vertex","fire-js":"fire-js",[sM]:"fire-js-all"};var No=new Map,uM=new Map,Ph=new Map;function DI(t,e){try{t.container.addComponent(e)}catch(n){Zt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nn(t){let e=t.name;if(Ph.has(e))return Zt.debug(`There were multiple attempts to register component ${e}.`),!1;Ph.set(e,t);for(let n of No.values())DI(n,t);for(let n of uM.values())DI(n,t);return!0}function Vh(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ci(t){return t.settings!==void 0}var lM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new Jt("app","Firebase",lM);var kh=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}};var ui=aM;function Lh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Rh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=Ih()),!n)throw An.create("no-options");let o=No.get(i);if(o){if(ai(n,o.options)&&ai(r,o.config))return o;throw An.create("duplicate-app",{appName:i})}let a=new nc(i);for(let u of Ph.values())a.addComponent(u);let c=new kh(n,r,a);return No.set(i,c),c}function xo(t=Rh){let e=No.get(t);if(!e&&t===Rh&&Ih())return Lh();if(!e)throw An.create("no-app",{appName:t});return e}function ic(){return Array.from(No.values())}function Re(t,e,n){var r;let i=(r=cM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zt.warn(c.join(" "));return}Nn(new pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var dM="firebase-heartbeat-database",hM=1,Mo="firebase-heartbeat-store",Nh=null;function SI(){return Nh||(Nh=EI(dM,hM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mo)}catch(n){console.warn(n)}}}}).catch(t=>{throw An.create("idb-open",{originalErrorMessage:t.message})})),Nh}function fM(t){return S(this,null,function*(){try{let n=(yield SI()).transaction(Mo),r=yield n.objectStore(Mo).get(AI(t));return yield n.done,r}catch(e){if(e instanceof ft)Zt.warn(e.message);else{let n=An.create("idb-get",{originalErrorMessage:e?.message});Zt.warn(n.message)}}})}function TI(t,e){return S(this,null,function*(){try{let r=(yield SI()).transaction(Mo,"readwrite");yield r.objectStore(Mo).put(e,AI(t)),yield r.done}catch(n){if(n instanceof ft)Zt.warn(n.message);else{let r=An.create("idb-set",{originalErrorMessage:n?.message});Zt.warn(r.message)}}})}function AI(t){return`${t.name}!${t.options.appId}`}var pM=1024,mM=30*24*60*60*1e3,Oh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Fh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let c=new Date(a.date).valueOf();return Date.now()-c<=mM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zt.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=bI(),{heartbeatsToSend:r,unsentEntries:i}=gM(this._heartbeatsCache.heartbeats),o=Ao(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Zt.warn(n),""}})}};function bI(){return new Date().toISOString().substring(0,10)}function gM(t,e=pM){let n=[],r=t.slice();for(let i of t){let o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),CI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Fh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Eh()?fI().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield fM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return TI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return TI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function CI(t){return Ao(JSON.stringify({version:2,heartbeats:t})).length}function yM(t){Nn(new pt("platform-logger",e=>new Mh(e),"PRIVATE")),Nn(new pt("heartbeat",e=>new Oh(e),"PRIVATE")),Re(xh,wI,t),Re(xh,wI,"esm2017"),Re("fire-js","")}yM("");var vM="firebase",_M="10.14.1";Re(vM,_M,"app");var di=new In("ANGULARFIRE2_VERSION");function Bh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Po=(t,e)=>{let n=e?[e]:ic(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},Ro=class{constructor(){return Po(IM)}},IM="app-check";function li(){}var oc=class{zone;delegate;constructor(e,n=ul){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(a){i.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(o,n,r)}},jh=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",li,{},li,li)),n.pipe(fl({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ko=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new oc(Zone.current)),this.insideAngular=n.run(()=>new oc(Zone.current,cl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(oe(ve))};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function EM(t){return sc().ngZone.runOutsideAngular(()=>t())}function ar(t){return sc().ngZone.run(()=>t())}function wM(t){return DM(sc())(t)}function DM(t){return function(n){return n=n.lift(new jh(t.ngZone)),n.pipe(fn(t.outsideAngular),hn(t.insideAngular))}}var TM=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ar(()=>t.apply(void 0,r))},cr=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ar(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",li,{},li,li))),r[o]=TM(r[o],n));let i=EM(()=>t.apply(this,r));if(!e)if(i instanceof ye){let o=sc();return i.pipe(fn(o.outsideAngular),hn(o.insideAngular))}else return ar(()=>i);return i instanceof ye?i.pipe(wM):i instanceof Promise?ar(()=>new Promise((o,a)=>i.then(c=>ar(()=>o(c)),c=>ar(()=>a(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ar(()=>i)};var ur=class{constructor(e){return e}},Oo=class{constructor(){return ic()}};function bM(t){return t&&t.length===1?t[0]:new ur(xo())}var Uh=new H("angularfire2._apps"),CM={provide:ur,useFactory:bM,deps:[[new kt,Uh]]},SM={provide:Oo,deps:[[new kt,Uh]]};function AM(t){return(e,n)=>{let r=n.get(wn);Re("angularfire",di.full,"core"),Re("angularfire",di.full,"app"),Re("angular",O_.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ur(i)}}function NI(t,...e){return Io([CM,SM,{provide:Uh,useFactory:AM(t),multi:!0,deps:[ve,Et,ko,...e]}])}var MI=cr(Lh,!0);function LI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var jI=LI,BI=new Jt("auth","Firebase",LI());var lc=new Sn("@firebase/auth");function MM(t,...e){lc.logLevel<=Q.WARN&&lc.warn(`Auth (${ui}): ${t}`,...e)}function cc(t,...e){lc.logLevel<=Q.ERROR&&lc.error(`Auth (${ui}): ${t}`,...e)}function xI(t,...e){throw Xh(t,...e)}function Zh(t,...e){return Xh(t,...e)}function UI(t,e,n){let r=Object.assign(Object.assign({},jI()),{[e]:n});return new Jt("auth","Firebase",r).create(e,{appName:t.name})}function uc(t){return UI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xh(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BI.create(t,...e)}function se(t,e,...n){if(!t)throw Xh(e,...n)}function Fo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw cc(e),new Error(e)}function dc(t,e){t||Fo(e)}function xM(){return RI()==="http:"||RI()==="https:"}function RI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function RM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xM()||lI()||"connection"in navigator)?navigator.onLine:!0}function PM(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var dr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,dc(n>e,"Short delay should be less than long delay!"),this.isMobile=cI()||dI()}get(){return RM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function kM(t,e){dc(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var hc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var OM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var FM=new dr(3e4,6e4);function $I(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function gc(o,a,c,u){return S(this,arguments,function*(t,e,n,r,i={}){return HI(t,i,()=>S(this,null,function*(){let h={},f={};r&&(e==="GET"?f=r:h={body:JSON.stringify(r)});let m=wh(Object.assign({key:t.config.apiKey},f)).slice(1),D=yield t._getAdditionalHeaders();D["Content-Type"]="application/json",t.languageCode&&(D["X-Firebase-Locale"]=t.languageCode);let T=Object.assign({method:e,headers:D},h);return uI()||(T.referrerPolicy="no-referrer"),hc.fetch()(qI(t,t.config.apiHost,n,m),T)}))})}function HI(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},OM),e);try{let i=new qh(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw ac(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let c=o.ok?a.errorMessage:a.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw ac(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw ac(t,"user-disabled",a);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw UI(t,f,h);xI(t,f)}}catch(i){if(i instanceof ft)throw i;xI(t,"network-request-failed",{message:String(i)})}})}function qI(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?kM(t.config,i):`${t.config.apiScheme}://${i}`}var qh=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zh(this.auth,"network-request-failed")),FM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ac(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Zh(t,e,r);return i.customData._tokenResponse=n,i}function VM(t,e){return S(this,null,function*(){return gc(t,"POST","/v1/accounts:delete",e)})}function GI(t,e){return S(this,null,function*(){return gc(t,"POST","/v1/accounts:lookup",e)})}function Vo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ef(t,e=!1){return S(this,null,function*(){let n=Ct(t),r=yield n.getIdToken(e),i=zI(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:Vo($h(i.auth_time)),issuedAtTime:Vo($h(i.iat)),expirationTime:Vo($h(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function $h(t){return Number(t)*1e3}function zI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cc("JWT malformed, contained fewer than 3 sections"),null;try{let i=_h(n);return i?JSON.parse(i):(cc("Failed to decode base64 JWT payload"),null)}catch(i){return cc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function PI(t){let e=zI(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Gh(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ft&&LM(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function LM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var zh=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var jo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function fc(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Gh(t,GI(n,{idToken:r}));se(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?WI(o.providerUserInfo):[],c=jM(t.providerData,a),u=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!c?.length,f=u?h:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new jo(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,m)})}function tf(t){return S(this,null,function*(){let e=Ct(t);yield fc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function jM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WI(t){return t.map(e=>{var{providerId:n}=e,r=ll(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function BM(t,e){return S(this,null,function*(){let n=yield HI(t,{},()=>S(this,null,function*(){let r=wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=qI(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",hc.fetch()(a,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function UM(t,e){return S(this,null,function*(){return gc(t,"POST","/v2/accounts:revokeToken",$I(t,e))})}var Lo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");let n=PI(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield BM(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new t;return r&&(se(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Fo("not implemented")}};function Mn(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Bo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ll(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jo(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield Gh(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ef(this,e)}reload(){return tf(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield fc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(ci(this.auth.app))return Promise.reject(uc(this.auth));let e=yield this.getIdToken();return yield Gh(this,VM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,c,u,h,f;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,D=(i=n.email)!==null&&i!==void 0?i:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(a=n.photoURL)!==null&&a!==void 0?a:void 0,F=(c=n.tenantId)!==null&&c!==void 0?c:void 0,O=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,B=(h=n.createdAt)!==null&&h!==void 0?h:void 0,q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:J,emailVerified:ie,isAnonymous:Oe,providerData:te,stsTokenManager:I}=n;se(J&&I,e,"internal-error");let g=Lo.fromJSON(this.name,I);se(typeof J=="string",e,"internal-error"),Mn(m,e.name),Mn(D,e.name),se(typeof ie=="boolean",e,"internal-error"),se(typeof Oe=="boolean",e,"internal-error"),Mn(T,e.name),Mn(A,e.name),Mn(F,e.name),Mn(O,e.name),Mn(B,e.name),Mn(q,e.name);let y=new t({uid:J,auth:e,email:D,emailVerified:ie,displayName:m,isAnonymous:Oe,photoURL:A,phoneNumber:T,tenantId:F,stsTokenManager:g,createdAt:B,lastLoginAt:q});return te&&Array.isArray(te)&&(y.providerData=te.map(_=>Object.assign({},_))),O&&(y._redirectEventId=O),y}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new Lo;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fc(o),o})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];se(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?WI(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,c=new Lo;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new jo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,h),u})}};var kI=new Map;function lr(t){dc(t instanceof Function,"Expected a class definition");let e=kI.get(t);return e?(dc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kI.set(t,e),e)}var $M=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Wh=$M;function Hh(t,e,n){return`firebase:${t}:${e}:${n}`}var pc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Hh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Bo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(lr(Wh),e,r);let i=(yield Promise.all(n.map(h=>S(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=i[0]||lr(Wh),a=Hh(r,e.config.apiKey,e.name),c=null;for(let h of n)try{let f=yield h._get(a);if(f){let m=Bo._fromJSON(e,f);h!==o&&(c=m),o=h;break}}catch{}let u=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(a,c.toJSON())),yield Promise.all(n.map(h=>S(this,null,function*(){if(h!==o)try{yield h._remove(a)}catch{}}))),new t(o,e,r))})}};function OI(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KM(e))return"Blackberry";if(QM(e))return"Webos";if(qM(e))return"Safari";if((e.includes("chrome/")||GM(e))&&!e.includes("edge/"))return"Chrome";if(WM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function HM(t=at()){return/firefox\//i.test(t)}function qM(t=at()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GM(t=at()){return/crios\//i.test(t)}function zM(t=at()){return/iemobile/i.test(t)}function WM(t=at()){return/android/i.test(t)}function KM(t=at()){return/blackberry/i.test(t)}function QM(t=at()){return/webos/i.test(t)}function KI(t,e=[]){let n;switch(t){case"Browser":n=OI(at());break;case"Worker":n=`${OI(at())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ui}/${r}`}var Kh=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((a,c)=>{try{let u=e(o);a(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function YM(n){return S(this,arguments,function*(t,e={}){return gc(t,"GET","/v2/passwordPolicy",$I(t,e))})}var JM=6,Qh=class{constructor(e){var n,r,i,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:JM,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Yh=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mc(this),this.idTokenSubscription=new mc(this),this.beforeStateQueue=new Kh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield pc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield GI(this,{idToken:e}),r=yield Bo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(ci(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield fc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=PM()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(ci(this.app))return Promise.reject(uc(this));let n=e?Ct(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return ci(this.app)?Promise.reject(uc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ci(this.app)?Promise.reject(uc(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(lr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield YM(this),n=new Qh(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield UM(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&lr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=yield pc.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{let u=e.addObserver(n);return()=>{a=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&MM(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ZM(t){return Ct(t)}var mc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=pI(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var XM={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ex(t){XM=t}function tx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function nx(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var v2=tx("rcb"),_2=new dr(3e4,6e4);var I2=new dr(2e3,1e4);var E2=10*60*1e3;var w2=new dr(3e4,6e4);var D2=new dr(5e3,15e3);var T2=encodeURIComponent("fac");var FI="@firebase/auth",VI="1.7.9";var Jh=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function rx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ix(t){Nn(new pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;se(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KI(t)},h=new Yh(r,i,o,u);return nx(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nn(new pt("auth-internal",e=>{let n=ZM(e.getProvider("auth").getImmediate());return(r=>new Jh(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(FI,VI,rx(t)),Re(FI,VI,"esm2017")}var ox=5*60,b2=sI("authIdTokenMaxAge")||ox;function sx(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ex({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Zh("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",sx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ix("Browser");var oR="auth";var yc=class{constructor(){return Po(oR)}};var QI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},YI={};var nf,JI;(function(){var t;function e(I,g){function y(){}y.prototype=g.prototype,I.D=g.prototype,I.prototype=new y,I.prototype.constructor=I,I.C=function(_,E,b){for(var v=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)v[Ut-2]=arguments[Ut];return g.prototype[E].apply(_,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,g,y){y||(y=0);var _=Array(16);if(typeof g=="string")for(var E=0;16>E;++E)_[E]=g.charCodeAt(y++)|g.charCodeAt(y++)<<8|g.charCodeAt(y++)<<16|g.charCodeAt(y++)<<24;else for(E=0;16>E;++E)_[E]=g[y++]|g[y++]<<8|g[y++]<<16|g[y++]<<24;g=I.g[0],y=I.g[1],E=I.g[2];var b=I.g[3],v=g+(b^y&(E^b))+_[0]+3614090360&4294967295;g=y+(v<<7&4294967295|v>>>25),v=b+(E^g&(y^E))+_[1]+3905402710&4294967295,b=g+(v<<12&4294967295|v>>>20),v=E+(y^b&(g^y))+_[2]+606105819&4294967295,E=b+(v<<17&4294967295|v>>>15),v=y+(g^E&(b^g))+_[3]+3250441966&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(b^y&(E^b))+_[4]+4118548399&4294967295,g=y+(v<<7&4294967295|v>>>25),v=b+(E^g&(y^E))+_[5]+1200080426&4294967295,b=g+(v<<12&4294967295|v>>>20),v=E+(y^b&(g^y))+_[6]+2821735955&4294967295,E=b+(v<<17&4294967295|v>>>15),v=y+(g^E&(b^g))+_[7]+4249261313&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(b^y&(E^b))+_[8]+1770035416&4294967295,g=y+(v<<7&4294967295|v>>>25),v=b+(E^g&(y^E))+_[9]+2336552879&4294967295,b=g+(v<<12&4294967295|v>>>20),v=E+(y^b&(g^y))+_[10]+4294925233&4294967295,E=b+(v<<17&4294967295|v>>>15),v=y+(g^E&(b^g))+_[11]+2304563134&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(b^y&(E^b))+_[12]+1804603682&4294967295,g=y+(v<<7&4294967295|v>>>25),v=b+(E^g&(y^E))+_[13]+4254626195&4294967295,b=g+(v<<12&4294967295|v>>>20),v=E+(y^b&(g^y))+_[14]+2792965006&4294967295,E=b+(v<<17&4294967295|v>>>15),v=y+(g^E&(b^g))+_[15]+1236535329&4294967295,y=E+(v<<22&4294967295|v>>>10),v=g+(E^b&(y^E))+_[1]+4129170786&4294967295,g=y+(v<<5&4294967295|v>>>27),v=b+(y^E&(g^y))+_[6]+3225465664&4294967295,b=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(b^g))+_[11]+643717713&4294967295,E=b+(v<<14&4294967295|v>>>18),v=y+(b^g&(E^b))+_[0]+3921069994&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(E^b&(y^E))+_[5]+3593408605&4294967295,g=y+(v<<5&4294967295|v>>>27),v=b+(y^E&(g^y))+_[10]+38016083&4294967295,b=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(b^g))+_[15]+3634488961&4294967295,E=b+(v<<14&4294967295|v>>>18),v=y+(b^g&(E^b))+_[4]+3889429448&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(E^b&(y^E))+_[9]+568446438&4294967295,g=y+(v<<5&4294967295|v>>>27),v=b+(y^E&(g^y))+_[14]+3275163606&4294967295,b=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(b^g))+_[3]+4107603335&4294967295,E=b+(v<<14&4294967295|v>>>18),v=y+(b^g&(E^b))+_[8]+1163531501&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(E^b&(y^E))+_[13]+2850285829&4294967295,g=y+(v<<5&4294967295|v>>>27),v=b+(y^E&(g^y))+_[2]+4243563512&4294967295,b=g+(v<<9&4294967295|v>>>23),v=E+(g^y&(b^g))+_[7]+1735328473&4294967295,E=b+(v<<14&4294967295|v>>>18),v=y+(b^g&(E^b))+_[12]+2368359562&4294967295,y=E+(v<<20&4294967295|v>>>12),v=g+(y^E^b)+_[5]+4294588738&4294967295,g=y+(v<<4&4294967295|v>>>28),v=b+(g^y^E)+_[8]+2272392833&4294967295,b=g+(v<<11&4294967295|v>>>21),v=E+(b^g^y)+_[11]+1839030562&4294967295,E=b+(v<<16&4294967295|v>>>16),v=y+(E^b^g)+_[14]+4259657740&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(y^E^b)+_[1]+2763975236&4294967295,g=y+(v<<4&4294967295|v>>>28),v=b+(g^y^E)+_[4]+1272893353&4294967295,b=g+(v<<11&4294967295|v>>>21),v=E+(b^g^y)+_[7]+4139469664&4294967295,E=b+(v<<16&4294967295|v>>>16),v=y+(E^b^g)+_[10]+3200236656&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(y^E^b)+_[13]+681279174&4294967295,g=y+(v<<4&4294967295|v>>>28),v=b+(g^y^E)+_[0]+3936430074&4294967295,b=g+(v<<11&4294967295|v>>>21),v=E+(b^g^y)+_[3]+3572445317&4294967295,E=b+(v<<16&4294967295|v>>>16),v=y+(E^b^g)+_[6]+76029189&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(y^E^b)+_[9]+3654602809&4294967295,g=y+(v<<4&4294967295|v>>>28),v=b+(g^y^E)+_[12]+3873151461&4294967295,b=g+(v<<11&4294967295|v>>>21),v=E+(b^g^y)+_[15]+530742520&4294967295,E=b+(v<<16&4294967295|v>>>16),v=y+(E^b^g)+_[2]+3299628645&4294967295,y=E+(v<<23&4294967295|v>>>9),v=g+(E^(y|~b))+_[0]+4096336452&4294967295,g=y+(v<<6&4294967295|v>>>26),v=b+(y^(g|~E))+_[7]+1126891415&4294967295,b=g+(v<<10&4294967295|v>>>22),v=E+(g^(b|~y))+_[14]+2878612391&4294967295,E=b+(v<<15&4294967295|v>>>17),v=y+(b^(E|~g))+_[5]+4237533241&4294967295,y=E+(v<<21&4294967295|v>>>11),v=g+(E^(y|~b))+_[12]+1700485571&4294967295,g=y+(v<<6&4294967295|v>>>26),v=b+(y^(g|~E))+_[3]+2399980690&4294967295,b=g+(v<<10&4294967295|v>>>22),v=E+(g^(b|~y))+_[10]+4293915773&4294967295,E=b+(v<<15&4294967295|v>>>17),v=y+(b^(E|~g))+_[1]+2240044497&4294967295,y=E+(v<<21&4294967295|v>>>11),v=g+(E^(y|~b))+_[8]+1873313359&4294967295,g=y+(v<<6&4294967295|v>>>26),v=b+(y^(g|~E))+_[15]+4264355552&4294967295,b=g+(v<<10&4294967295|v>>>22),v=E+(g^(b|~y))+_[6]+2734768916&4294967295,E=b+(v<<15&4294967295|v>>>17),v=y+(b^(E|~g))+_[13]+1309151649&4294967295,y=E+(v<<21&4294967295|v>>>11),v=g+(E^(y|~b))+_[4]+4149444226&4294967295,g=y+(v<<6&4294967295|v>>>26),v=b+(y^(g|~E))+_[11]+3174756917&4294967295,b=g+(v<<10&4294967295|v>>>22),v=E+(g^(b|~y))+_[2]+718787259&4294967295,E=b+(v<<15&4294967295|v>>>17),v=y+(b^(E|~g))+_[9]+3951481745&4294967295,I.g[0]=I.g[0]+g&4294967295,I.g[1]=I.g[1]+(E+(v<<21&4294967295|v>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+b&4294967295}r.prototype.u=function(I,g){g===void 0&&(g=I.length);for(var y=g-this.blockSize,_=this.B,E=this.h,b=0;b<g;){if(E==0)for(;b<=y;)i(this,I,b),b+=this.blockSize;if(typeof I=="string"){for(;b<g;)if(_[E++]=I.charCodeAt(b++),E==this.blockSize){i(this,_),E=0;break}}else for(;b<g;)if(_[E++]=I[b++],E==this.blockSize){i(this,_),E=0;break}}this.h=E,this.o+=g},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var g=1;g<I.length-8;++g)I[g]=0;var y=8*this.o;for(g=I.length-8;g<I.length;++g)I[g]=y&255,y/=256;for(this.u(I),I=Array(16),g=y=0;4>g;++g)for(var _=0;32>_;_+=8)I[y++]=this.g[g]>>>_&255;return I};function o(I,g){var y=c;return Object.prototype.hasOwnProperty.call(y,I)?y[I]:y[I]=g(I)}function a(I,g){this.h=g;for(var y=[],_=!0,E=I.length-1;0<=E;E--){var b=I[E]|0;_&&b==g||(y[E]=b,_=!1)}this.g=y}var c={};function u(I){return-128<=I&&128>I?o(I,function(g){return new a([g|0],0>g?-1:0)}):new a([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return O(h(-I));for(var g=[],y=1,_=0;I>=y;_++)g[_]=I/y|0,y*=4294967296;return new a(g,0)}function f(I,g){if(I.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(I.charAt(0)=="-")return O(f(I.substring(1),g));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=h(Math.pow(g,8)),_=m,E=0;E<I.length;E+=8){var b=Math.min(8,I.length-E),v=parseInt(I.substring(E,E+b),g);8>b?(b=h(Math.pow(g,b)),_=_.j(b).add(h(v))):(_=_.j(y),_=_.add(h(v)))}return _}var m=u(0),D=u(1),T=u(16777216);t=a.prototype,t.m=function(){if(F(this))return-O(this).m();for(var I=0,g=1,y=0;y<this.g.length;y++){var _=this.i(y);I+=(0<=_?_:4294967296+_)*g,g*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(F(this))return"-"+O(this).toString(I);for(var g=h(Math.pow(I,6)),y=this,_="";;){var E=ie(y,g).g;y=B(y,E.j(g));var b=((0<y.g.length?y.g[0]:y.h)>>>0).toString(I);if(y=E,A(y))return b+_;for(;6>b.length;)b="0"+b;_=b+_}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var g=0;g<I.g.length;g++)if(I.g[g]!=0)return!1;return!0}function F(I){return I.h==-1}t.l=function(I){return I=B(this,I),F(I)?-1:A(I)?0:1};function O(I){for(var g=I.g.length,y=[],_=0;_<g;_++)y[_]=~I.g[_];return new a(y,~I.h).add(D)}t.abs=function(){return F(this)?O(this):this},t.add=function(I){for(var g=Math.max(this.g.length,I.g.length),y=[],_=0,E=0;E<=g;E++){var b=_+(this.i(E)&65535)+(I.i(E)&65535),v=(b>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);_=v>>>16,b&=65535,v&=65535,y[E]=v<<16|b}return new a(y,y[y.length-1]&-2147483648?-1:0)};function B(I,g){return I.add(O(g))}t.j=function(I){if(A(this)||A(I))return m;if(F(this))return F(I)?O(this).j(O(I)):O(O(this).j(I));if(F(I))return O(this.j(O(I)));if(0>this.l(T)&&0>I.l(T))return h(this.m()*I.m());for(var g=this.g.length+I.g.length,y=[],_=0;_<2*g;_++)y[_]=0;for(_=0;_<this.g.length;_++)for(var E=0;E<I.g.length;E++){var b=this.i(_)>>>16,v=this.i(_)&65535,Ut=I.i(E)>>>16,Fi=I.i(E)&65535;y[2*_+2*E]+=v*Fi,q(y,2*_+2*E),y[2*_+2*E+1]+=b*Fi,q(y,2*_+2*E+1),y[2*_+2*E+1]+=v*Ut,q(y,2*_+2*E+1),y[2*_+2*E+2]+=b*Ut,q(y,2*_+2*E+2)}for(_=0;_<g;_++)y[_]=y[2*_+1]<<16|y[2*_];for(_=g;_<2*g;_++)y[_]=0;return new a(y,0)};function q(I,g){for(;(I[g]&65535)!=I[g];)I[g+1]+=I[g]>>>16,I[g]&=65535,g++}function J(I,g){this.g=I,this.h=g}function ie(I,g){if(A(g))throw Error("division by zero");if(A(I))return new J(m,m);if(F(I))return g=ie(O(I),g),new J(O(g.g),O(g.h));if(F(g))return g=ie(I,O(g)),new J(O(g.g),g.h);if(30<I.g.length){if(F(I)||F(g))throw Error("slowDivide_ only works with positive integers.");for(var y=D,_=g;0>=_.l(I);)y=Oe(y),_=Oe(_);var E=te(y,1),b=te(_,1);for(_=te(_,2),y=te(y,2);!A(_);){var v=b.add(_);0>=v.l(I)&&(E=E.add(y),b=v),_=te(_,1),y=te(y,1)}return g=B(I,E.j(g)),new J(E,g)}for(E=m;0<=I.l(g);){for(y=Math.max(1,Math.floor(I.m()/g.m())),_=Math.ceil(Math.log(y)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),b=h(y),v=b.j(g);F(v)||0<v.l(I);)y-=_,b=h(y),v=b.j(g);A(b)&&(b=D),E=E.add(b),I=B(I,v)}return new J(E,I)}t.A=function(I){return ie(this,I).h},t.and=function(I){for(var g=Math.max(this.g.length,I.g.length),y=[],_=0;_<g;_++)y[_]=this.i(_)&I.i(_);return new a(y,this.h&I.h)},t.or=function(I){for(var g=Math.max(this.g.length,I.g.length),y=[],_=0;_<g;_++)y[_]=this.i(_)|I.i(_);return new a(y,this.h|I.h)},t.xor=function(I){for(var g=Math.max(this.g.length,I.g.length),y=[],_=0;_<g;_++)y[_]=this.i(_)^I.i(_);return new a(y,this.h^I.h)};function Oe(I){for(var g=I.g.length+1,y=[],_=0;_<g;_++)y[_]=I.i(_)<<1|I.i(_-1)>>>31;return new a(y,I.h)}function te(I,g){var y=g>>5;g%=32;for(var _=I.g.length-y,E=[],b=0;b<_;b++)E[b]=0<g?I.i(b+y)>>>g|I.i(b+y+1)<<32-g:I.i(b+y);return new a(E,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JI=YI.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,nf=YI.Integer=a}).apply(typeof QI<"u"?QI:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xt={};var rf,sR,hi,of,Uo,_c,sf,af,cf;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,l,d){return s==Array.prototype||s==Object.prototype||(s[l]=d.value),s};function n(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var l=0;l<s.length;++l){var d=s[l];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(s,l){if(l)e:{var d=r;s=s.split(".");for(var p=0;p<s.length-1;p++){var w=s[p];if(!(w in d))break e;d=d[w]}s=s[s.length-1],p=d[s],l=l(p),l!=p&&l!=null&&e(d,s,{configurable:!0,writable:!0,value:l})}}function o(s,l){s instanceof String&&(s+="");var d=0,p=!1,w={next:function(){if(!p&&d<s.length){var C=d++;return{value:l(C,s[C]),done:!1}}return p=!0,{done:!0,value:void 0}}};return w[Symbol.iterator]=function(){return w},w}i("Array.prototype.values",function(s){return s||function(){return o(this,function(l,d){return d})}});var a=a||{},c=this||self;function u(s){var l=typeof s;return l=l!="object"?l:s?Array.isArray(s)?"array":l:"null",l=="array"||l=="object"&&typeof s.length=="number"}function h(s){var l=typeof s;return l=="object"&&s!=null||l=="function"}function f(s,l,d){return s.call.apply(s.bind,arguments)}function m(s,l,d){if(!s)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var w=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(w,p),s.apply(l,w)}}return function(){return s.apply(l,arguments)}}function D(s,l,d){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,D.apply(null,arguments)}function T(s,l){var d=Array.prototype.slice.call(arguments,1);return function(){var p=d.slice();return p.push.apply(p,arguments),s.apply(this,p)}}function A(s,l){function d(){}d.prototype=l.prototype,s.aa=l.prototype,s.prototype=new d,s.prototype.constructor=s,s.Qb=function(p,w,C){for(var P=Array(arguments.length-2),le=2;le<arguments.length;le++)P[le-2]=arguments[le];return l.prototype[w].apply(p,P)}}function F(s){let l=s.length;if(0<l){let d=Array(l);for(let p=0;p<l;p++)d[p]=s[p];return d}return[]}function O(s,l){for(let d=1;d<arguments.length;d++){let p=arguments[d];if(u(p)){let w=s.length||0,C=p.length||0;s.length=w+C;for(let P=0;P<C;P++)s[w+P]=p[P]}else s.push(p)}}class B{constructor(l,d){this.i=l,this.j=d,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function q(s){return/^[\s\xa0]*$/.test(s)}function J(){var s=c.navigator;return s&&(s=s.userAgent)?s:""}function ie(s){return ie[" "](s),s}ie[" "]=function(){};var Oe=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function te(s,l,d){for(let p in s)l.call(d,s[p],p,s)}function I(s,l){for(let d in s)l.call(void 0,s[d],d,s)}function g(s){let l={};for(let d in s)l[d]=s[d];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(s,l){let d,p;for(let w=1;w<arguments.length;w++){p=arguments[w];for(d in p)s[d]=p[d];for(let C=0;C<y.length;C++)d=y[C],Object.prototype.hasOwnProperty.call(p,d)&&(s[d]=p[d])}}function E(s){var l=1;s=s.split(":");let d=[];for(;0<l&&s.length;)d.push(s.shift()),l--;return s.length&&d.push(s.join(":")),d}function b(s){c.setTimeout(()=>{throw s},0)}function v(){var s=_u;let l=null;return s.g&&(l=s.g,s.g=s.g.next,s.g||(s.h=null),l.next=null),l}class Ut{constructor(){this.h=this.g=null}add(l,d){let p=Fi.get();p.set(l,d),this.h?this.h.next=p:this.g=p,this.h=p}}var Fi=new B(()=>new gD,s=>s.reset());class gD{constructor(){this.next=this.g=this.h=null}set(l,d){this.h=l,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Vi,Li=!1,_u=new Ut,Yp=()=>{let s=c.Promise.resolve(void 0);Vi=()=>{s.then(yD)}};var yD=()=>{for(var s;s=v();){try{s.h.call(s.g)}catch(d){b(d)}var l=Fi;l.j(s),100>l.h&&(l.h++,s.next=l.g,l.g=s)}Li=!1};function on(){this.s=this.s,this.C=this.C}on.prototype.s=!1,on.prototype.ma=function(){this.s||(this.s=!0,this.N())},on.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(s,l){this.type=s,this.g=this.target=l,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var vD=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var s=!1,l=Object.defineProperty({},"passive",{get:function(){s=!0}});try{let d=()=>{};c.addEventListener("test",d,l),c.removeEventListener("test",d,l)}catch{}return s}();function ji(s,l){if(je.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var d=this.type=s.type,p=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=l,l=s.relatedTarget){if(Oe){e:{try{ie(l.nodeName);var w=!0;break e}catch{}w=!1}w||(l=null)}}else d=="mouseover"?l=s.fromElement:d=="mouseout"&&(l=s.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:_D[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&ji.aa.h.call(this)}}A(ji,je);var _D={2:"touch",3:"pen",4:"mouse"};ji.prototype.h=function(){ji.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Bi="closure_listenable_"+(1e6*Math.random()|0),ID=0;function ED(s,l,d,p,w){this.listener=s,this.proxy=null,this.src=l,this.type=d,this.capture=!!p,this.ha=w,this.key=++ID,this.da=this.fa=!1}function ss(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function as(s){this.src=s,this.g={},this.h=0}as.prototype.add=function(s,l,d,p,w){var C=s.toString();s=this.g[C],s||(s=this.g[C]=[],this.h++);var P=Eu(s,l,p,w);return-1<P?(l=s[P],d||(l.fa=!1)):(l=new ED(l,this.src,C,!!p,w),l.fa=d,s.push(l)),l};function Iu(s,l){var d=l.type;if(d in s.g){var p=s.g[d],w=Array.prototype.indexOf.call(p,l,void 0),C;(C=0<=w)&&Array.prototype.splice.call(p,w,1),C&&(ss(l),s.g[d].length==0&&(delete s.g[d],s.h--))}}function Eu(s,l,d,p){for(var w=0;w<s.length;++w){var C=s[w];if(!C.da&&C.listener==l&&C.capture==!!d&&C.ha==p)return w}return-1}var wu="closure_lm_"+(1e6*Math.random()|0),Du={};function Jp(s,l,d,p,w){if(p&&p.once)return Xp(s,l,d,p,w);if(Array.isArray(l)){for(var C=0;C<l.length;C++)Jp(s,l[C],d,p,w);return null}return d=Su(d),s&&s[Bi]?s.K(l,d,h(p)?!!p.capture:!!p,w):Zp(s,l,d,!1,p,w)}function Zp(s,l,d,p,w,C){if(!l)throw Error("Invalid event type");var P=h(w)?!!w.capture:!!w,le=bu(s);if(le||(s[wu]=le=new as(s)),d=le.add(l,d,p,P,C),d.proxy)return d;if(p=wD(),d.proxy=p,p.src=s,p.listener=d,s.addEventListener)vD||(w=P),w===void 0&&(w=!1),s.addEventListener(l.toString(),p,w);else if(s.attachEvent)s.attachEvent(tm(l.toString()),p);else if(s.addListener&&s.removeListener)s.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return d}function wD(){function s(d){return l.call(s.src,s.listener,d)}let l=DD;return s}function Xp(s,l,d,p,w){if(Array.isArray(l)){for(var C=0;C<l.length;C++)Xp(s,l[C],d,p,w);return null}return d=Su(d),s&&s[Bi]?s.L(l,d,h(p)?!!p.capture:!!p,w):Zp(s,l,d,!0,p,w)}function em(s,l,d,p,w){if(Array.isArray(l))for(var C=0;C<l.length;C++)em(s,l[C],d,p,w);else p=h(p)?!!p.capture:!!p,d=Su(d),s&&s[Bi]?(s=s.i,l=String(l).toString(),l in s.g&&(C=s.g[l],d=Eu(C,d,p,w),-1<d&&(ss(C[d]),Array.prototype.splice.call(C,d,1),C.length==0&&(delete s.g[l],s.h--)))):s&&(s=bu(s))&&(l=s.g[l.toString()],s=-1,l&&(s=Eu(l,d,p,w)),(d=-1<s?l[s]:null)&&Tu(d))}function Tu(s){if(typeof s!="number"&&s&&!s.da){var l=s.src;if(l&&l[Bi])Iu(l.i,s);else{var d=s.type,p=s.proxy;l.removeEventListener?l.removeEventListener(d,p,s.capture):l.detachEvent?l.detachEvent(tm(d),p):l.addListener&&l.removeListener&&l.removeListener(p),(d=bu(l))?(Iu(d,s),d.h==0&&(d.src=null,l[wu]=null)):ss(s)}}}function tm(s){return s in Du?Du[s]:Du[s]="on"+s}function DD(s,l){if(s.da)s=!0;else{l=new ji(l,this);var d=s.listener,p=s.ha||s.src;s.fa&&Tu(s),s=d.call(p,l)}return s}function bu(s){return s=s[wu],s instanceof as?s:null}var Cu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Su(s){return typeof s=="function"?s:(s[Cu]||(s[Cu]=function(l){return s.handleEvent(l)}),s[Cu])}function Be(){on.call(this),this.i=new as(this),this.M=this,this.F=null}A(Be,on),Be.prototype[Bi]=!0,Be.prototype.removeEventListener=function(s,l,d,p){em(this,s,l,d,p)};function We(s,l){var d,p=s.F;if(p)for(d=[];p;p=p.F)d.push(p);if(s=s.M,p=l.type||l,typeof l=="string")l=new je(l,s);else if(l instanceof je)l.target=l.target||s;else{var w=l;l=new je(p,s),_(l,w)}if(w=!0,d)for(var C=d.length-1;0<=C;C--){var P=l.g=d[C];w=cs(P,p,!0,l)&&w}if(P=l.g=s,w=cs(P,p,!0,l)&&w,w=cs(P,p,!1,l)&&w,d)for(C=0;C<d.length;C++)P=l.g=d[C],w=cs(P,p,!1,l)&&w}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var s=this.i,l;for(l in s.g){for(var d=s.g[l],p=0;p<d.length;p++)ss(d[p]);delete s.g[l],s.h--}}this.F=null},Be.prototype.K=function(s,l,d,p){return this.i.add(String(s),l,!1,d,p)},Be.prototype.L=function(s,l,d,p){return this.i.add(String(s),l,!0,d,p)};function cs(s,l,d,p){if(l=s.i.g[String(l)],!l)return!0;l=l.concat();for(var w=!0,C=0;C<l.length;++C){var P=l[C];if(P&&!P.da&&P.capture==d){var le=P.listener,Fe=P.ha||P.src;P.fa&&Iu(s.i,P),w=le.call(Fe,p)!==!1&&w}}return w&&!p.defaultPrevented}function nm(s,l,d){if(typeof s=="function")d&&(s=D(s,d));else if(s&&typeof s.handleEvent=="function")s=D(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(s,l||0)}function rm(s){s.g=nm(()=>{s.g=null,s.i&&(s.i=!1,rm(s))},s.l);let l=s.h;s.h=null,s.m.apply(null,l)}class TD extends on{constructor(l,d){super(),this.m=l,this.l=d,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:rm(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(s){on.call(this),this.h=s,this.g={}}A(Ui,on);var im=[];function om(s){te(s.g,function(l,d){this.g.hasOwnProperty(d)&&Tu(l)},s),s.g={}}Ui.prototype.N=function(){Ui.aa.N.call(this),om(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Au=c.JSON.stringify,bD=c.JSON.parse,CD=class{stringify(s){return c.JSON.stringify(s,void 0)}parse(s){return c.JSON.parse(s,void 0)}};function Nu(){}Nu.prototype.h=null;function sm(s){return s.h||(s.h=s.i())}function am(){}var $i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mu(){je.call(this,"d")}A(Mu,je);function xu(){je.call(this,"c")}A(xu,je);var Ln={},cm=null;function us(){return cm=cm||new Be}Ln.La="serverreachability";function um(s){je.call(this,Ln.La,s)}A(um,je);function Hi(s){let l=us();We(l,new um(l))}Ln.STAT_EVENT="statevent";function lm(s,l){je.call(this,Ln.STAT_EVENT,s),this.stat=l}A(lm,je);function Ke(s){let l=us();We(l,new lm(l,s))}Ln.Ma="timingevent";function dm(s,l){je.call(this,Ln.Ma,s),this.size=l}A(dm,je);function qi(s,l){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){s()},l)}function Gi(){this.g=!0}Gi.prototype.xa=function(){this.g=!1};function SD(s,l,d,p,w,C){s.info(function(){if(s.g)if(C)for(var P="",le=C.split("&"),Fe=0;Fe<le.length;Fe++){var ne=le[Fe].split("=");if(1<ne.length){var Ue=ne[0];ne=ne[1];var $e=Ue.split("_");P=2<=$e.length&&$e[1]=="type"?P+(Ue+"="+ne+"&"):P+(Ue+"=redacted&")}}else P=null;else P=C;return"XMLHTTP REQ ("+p+") [attempt "+w+"]: "+l+`
`+d+`
`+P})}function AD(s,l,d,p,w,C,P){s.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+w+"]: "+l+`
`+d+`
`+C+" "+P})}function Dr(s,l,d,p){s.info(function(){return"XMLHTTP TEXT ("+l+"): "+MD(s,d)+(p?" "+p:"")})}function ND(s,l){s.info(function(){return"TIMEOUT: "+l})}Gi.prototype.info=function(){};function MD(s,l){if(!s.g)return l;if(!l)return null;try{var d=JSON.parse(l);if(d){for(s=0;s<d.length;s++)if(Array.isArray(d[s])){var p=d[s];if(!(2>p.length)){var w=p[1];if(Array.isArray(w)&&!(1>w.length)){var C=w[0];if(C!="noop"&&C!="stop"&&C!="close")for(var P=1;P<w.length;P++)w[P]=""}}}}return Au(d)}catch{return l}}var ls={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ru;function ds(){}A(ds,Nu),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},Ru=new ds;function sn(s,l,d,p){this.j=s,this.i=l,this.l=d,this.R=p||1,this.U=new Ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fm}function fm(){this.i=null,this.g="",this.h=!1}var pm={},Pu={};function ku(s,l,d){s.L=1,s.v=ms($t(l)),s.m=d,s.P=!0,mm(s,null)}function mm(s,l){s.F=Date.now(),hs(s),s.A=$t(s.v);var d=s.A,p=s.R;Array.isArray(p)||(p=[String(p)]),Nm(d.i,"t",p),s.C=0,d=s.j.J,s.h=new fm,s.g=Wm(s.j,d?l:null,!s.m),0<s.O&&(s.M=new TD(D(s.Y,s,s.g),s.O)),l=s.U,d=s.g,p=s.ca;var w="readystatechange";Array.isArray(w)||(w&&(im[0]=w.toString()),w=im);for(var C=0;C<w.length;C++){var P=Jp(d,w[C],p||l.handleEvent,!1,l.h||l);if(!P)break;l.g[P.key]=P}l=s.H?g(s.H):{},s.m?(s.u||(s.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,l)):(s.u="GET",s.g.ea(s.A,s.u,null,l)),Hi(),SD(s.i,s.u,s.A,s.l,s.R,s.m)}sn.prototype.ca=function(s){s=s.target;let l=this.M;l&&Ht(s)==3?l.j():this.Y(s)},sn.prototype.Y=function(s){try{if(s==this.g)e:{let $e=Ht(this.g);var l=this.g.Ba();let Cr=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||Fm(this.g)))){this.J||$e!=4||l==7||(l==8||0>=Cr?Hi(3):Hi(2)),Ou(this);var d=this.g.Z();this.X=d;t:if(gm(this)){var p=Fm(this.g);s="";var w=p.length,C=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),zi(this);var P="";break t}this.h.i=new c.TextDecoder}for(l=0;l<w;l++)this.h.h=!0,s+=this.h.i.decode(p[l],{stream:!(C&&l==w-1)});p.length=0,this.h.g+=s,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=d==200,AD(this.i,this.u,this.A,this.l,this.R,$e,d),this.o){if(this.T&&!this.K){t:{if(this.g){var le,Fe=this.g;if((le=Fe.g?Fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(le)){var ne=le;break t}}ne=null}if(d=ne)Dr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fu(this,d);else{this.o=!1,this.s=3,Ke(12),jn(this),zi(this);break e}}if(this.P){d=!0;let gt;for(;!this.J&&this.C<P.length;)if(gt=xD(this,P),gt==Pu){$e==4&&(this.s=4,Ke(14),d=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==pm){this.s=4,Ke(15),Dr(this.i,this.l,P,"[Invalid Chunk]"),d=!1;break}else Dr(this.i,this.l,gt,null),Fu(this,gt);if(gm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||P.length!=0||this.h.h||(this.s=1,Ke(16),d=!1),this.o=this.o&&d,!d)Dr(this.i,this.l,P,"[Invalid Chunked Response]"),jn(this),zi(this);else if(0<P.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),$u(Ue),Ue.M=!0,Ke(11))}}else Dr(this.i,this.l,P,null),Fu(this,P);$e==4&&jn(this),this.o&&!this.J&&($e==4?Hm(this.j,this):(this.o=!1,hs(this)))}else KD(this.g),d==400&&0<P.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),jn(this),zi(this)}}}catch{}finally{}};function gm(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function xD(s,l){var d=s.C,p=l.indexOf(`
`,d);return p==-1?Pu:(d=Number(l.substring(d,p)),isNaN(d)?pm:(p+=1,p+d>l.length?Pu:(l=l.slice(p,p+d),s.C=p+d,l)))}sn.prototype.cancel=function(){this.J=!0,jn(this)};function hs(s){s.S=Date.now()+s.I,ym(s,s.I)}function ym(s,l){if(s.B!=null)throw Error("WatchDog timer not null");s.B=qi(D(s.ba,s),l)}function Ou(s){s.B&&(c.clearTimeout(s.B),s.B=null)}sn.prototype.ba=function(){this.B=null;let s=Date.now();0<=s-this.S?(ND(this.i,this.A),this.L!=2&&(Hi(),Ke(17)),jn(this),this.s=2,zi(this)):ym(this,this.S-s)};function zi(s){s.j.G==0||s.J||Hm(s.j,s)}function jn(s){Ou(s);var l=s.M;l&&typeof l.ma=="function"&&l.ma(),s.M=null,om(s.U),s.g&&(l=s.g,s.g=null,l.abort(),l.ma())}function Fu(s,l){try{var d=s.j;if(d.G!=0&&(d.g==s||Vu(d.h,s))){if(!s.K&&Vu(d.h,s)&&d.G==3){try{var p=d.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var w=p;if(w[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<s.F)Is(d),vs(d);else break e;Uu(d),Ke(18)}}else d.za=w[1],0<d.za-d.T&&37500>w[2]&&d.F&&d.v==0&&!d.C&&(d.C=qi(D(d.Za,d),6e3));if(1>=Im(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Un(d,11)}else if((s.K||d.g==s)&&Is(d),!q(l))for(w=d.Da.g.parse(l),l=0;l<w.length;l++){let ne=w[l];if(d.T=ne[0],ne=ne[1],d.G==2)if(ne[0]=="c"){d.K=ne[1],d.ia=ne[2];let Ue=ne[3];Ue!=null&&(d.la=Ue,d.j.info("VER="+d.la));let $e=ne[4];$e!=null&&(d.Aa=$e,d.j.info("SVER="+d.Aa));let Cr=ne[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(p=1.5*Cr,d.L=p,d.j.info("backChannelRequestTimeoutMs_="+p)),p=d;let gt=s.g;if(gt){let ws=gt.g?gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var C=p.h;C.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(Lu(C,C.h),C.h=null))}if(p.D){let Hu=gt.g?gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Hu&&(p.ya=Hu,me(p.I,p.D,Hu))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-s.F,d.j.info("Handshake RTT: "+d.R+"ms")),p=d;var P=s;if(p.qa=zm(p,p.J?p.ia:null,p.W),P.K){Em(p.h,P);var le=P,Fe=p.L;Fe&&(le.I=Fe),le.B&&(Ou(le),hs(le)),p.g=P}else Um(p);0<d.i.length&&_s(d)}else ne[0]!="stop"&&ne[0]!="close"||Un(d,7);else d.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?Un(d,7):Bu(d):ne[0]!="noop"&&d.l&&d.l.ta(ne),d.v=0)}}Hi(4)}catch{}}var RD=class{constructor(s,l){this.g=s,this.map=l}};function vm(s){this.l=s||10,c.PerformanceNavigationTiming?(s=c.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _m(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function Im(s){return s.h?1:s.g?s.g.size:0}function Vu(s,l){return s.h?s.h==l:s.g?s.g.has(l):!1}function Lu(s,l){s.g?s.g.add(l):s.h=l}function Em(s,l){s.h&&s.h==l?s.h=null:s.g&&s.g.has(l)&&s.g.delete(l)}vm.prototype.cancel=function(){if(this.i=wm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let s of this.g.values())s.cancel();this.g.clear()}};function wm(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let l=s.i;for(let d of s.g.values())l=l.concat(d.D);return l}return F(s.i)}function PD(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(u(s)){for(var l=[],d=s.length,p=0;p<d;p++)l.push(s[p]);return l}l=[],d=0;for(p in s)l[d++]=s[p];return l}function kD(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(u(s)||typeof s=="string"){var l=[];s=s.length;for(var d=0;d<s;d++)l.push(d);return l}l=[],d=0;for(let p in s)l[d++]=p;return l}}}function Dm(s,l){if(s.forEach&&typeof s.forEach=="function")s.forEach(l,void 0);else if(u(s)||typeof s=="string")Array.prototype.forEach.call(s,l,void 0);else for(var d=kD(s),p=PD(s),w=p.length,C=0;C<w;C++)l.call(void 0,p[C],d&&d[C],s)}var Tm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OD(s,l){if(s){s=s.split("&");for(var d=0;d<s.length;d++){var p=s[d].indexOf("="),w=null;if(0<=p){var C=s[d].substring(0,p);w=s[d].substring(p+1)}else C=s[d];l(C,w?decodeURIComponent(w.replace(/\+/g," ")):"")}}}function Bn(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof Bn){this.h=s.h,fs(this,s.j),this.o=s.o,this.g=s.g,ps(this,s.s),this.l=s.l;var l=s.i,d=new Qi;d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),bm(this,d),this.m=s.m}else s&&(l=String(s).match(Tm))?(this.h=!1,fs(this,l[1]||"",!0),this.o=Wi(l[2]||""),this.g=Wi(l[3]||"",!0),ps(this,l[4]),this.l=Wi(l[5]||"",!0),bm(this,l[6]||"",!0),this.m=Wi(l[7]||"")):(this.h=!1,this.i=new Qi(null,this.h))}Bn.prototype.toString=function(){var s=[],l=this.j;l&&s.push(Ki(l,Cm,!0),":");var d=this.g;return(d||l=="file")&&(s.push("//"),(l=this.o)&&s.push(Ki(l,Cm,!0),"@"),s.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&s.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&s.push("/"),s.push(Ki(d,d.charAt(0)=="/"?LD:VD,!0))),(d=this.i.toString())&&s.push("?",d),(d=this.m)&&s.push("#",Ki(d,BD)),s.join("")};function $t(s){return new Bn(s)}function fs(s,l,d){s.j=d?Wi(l,!0):l,s.j&&(s.j=s.j.replace(/:$/,""))}function ps(s,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);s.s=l}else s.s=null}function bm(s,l,d){l instanceof Qi?(s.i=l,UD(s.i,s.h)):(d||(l=Ki(l,jD)),s.i=new Qi(l,s.h))}function me(s,l,d){s.i.set(l,d)}function ms(s){return me(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Wi(s,l){return s?l?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Ki(s,l,d){return typeof s=="string"?(s=encodeURI(s).replace(l,FD),d&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function FD(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Cm=/[#\/\?@]/g,VD=/[#\?:]/g,LD=/[#\?]/g,jD=/[#\?@]/g,BD=/#/g;function Qi(s,l){this.h=this.g=null,this.i=s||null,this.j=!!l}function an(s){s.g||(s.g=new Map,s.h=0,s.i&&OD(s.i,function(l,d){s.add(decodeURIComponent(l.replace(/\+/g," ")),d)}))}t=Qi.prototype,t.add=function(s,l){an(this),this.i=null,s=Tr(this,s);var d=this.g.get(s);return d||this.g.set(s,d=[]),d.push(l),this.h+=1,this};function Sm(s,l){an(s),l=Tr(s,l),s.g.has(l)&&(s.i=null,s.h-=s.g.get(l).length,s.g.delete(l))}function Am(s,l){return an(s),l=Tr(s,l),s.g.has(l)}t.forEach=function(s,l){an(this),this.g.forEach(function(d,p){d.forEach(function(w){s.call(l,w,p,this)},this)},this)},t.na=function(){an(this);let s=Array.from(this.g.values()),l=Array.from(this.g.keys()),d=[];for(let p=0;p<l.length;p++){let w=s[p];for(let C=0;C<w.length;C++)d.push(l[p])}return d},t.V=function(s){an(this);let l=[];if(typeof s=="string")Am(this,s)&&(l=l.concat(this.g.get(Tr(this,s))));else{s=Array.from(this.g.values());for(let d=0;d<s.length;d++)l=l.concat(s[d])}return l},t.set=function(s,l){return an(this),this.i=null,s=Tr(this,s),Am(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[l]),this.h+=1,this},t.get=function(s,l){return s?(s=this.V(s),0<s.length?String(s[0]):l):l};function Nm(s,l,d){Sm(s,l),0<d.length&&(s.i=null,s.g.set(Tr(s,l),F(d)),s.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let s=[],l=Array.from(this.g.keys());for(var d=0;d<l.length;d++){var p=l[d];let C=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var w=C;P[p]!==""&&(w+="="+encodeURIComponent(String(P[p]))),s.push(w)}}return this.i=s.join("&")};function Tr(s,l){return l=String(l),s.j&&(l=l.toLowerCase()),l}function UD(s,l){l&&!s.j&&(an(s),s.i=null,s.g.forEach(function(d,p){var w=p.toLowerCase();p!=w&&(Sm(this,p),Nm(this,w,d))},s)),s.j=l}function $D(s,l){let d=new Gi;if(c.Image){let p=new Image;p.onload=T(cn,d,"TestLoadImage: loaded",!0,l,p),p.onerror=T(cn,d,"TestLoadImage: error",!1,l,p),p.onabort=T(cn,d,"TestLoadImage: abort",!1,l,p),p.ontimeout=T(cn,d,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=s}else l(!1)}function HD(s,l){let d=new Gi,p=new AbortController,w=setTimeout(()=>{p.abort(),cn(d,"TestPingServer: timeout",!1,l)},1e4);fetch(s,{signal:p.signal}).then(C=>{clearTimeout(w),C.ok?cn(d,"TestPingServer: ok",!0,l):cn(d,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(w),cn(d,"TestPingServer: error",!1,l)})}function cn(s,l,d,p,w){try{w&&(w.onload=null,w.onerror=null,w.onabort=null,w.ontimeout=null),p(d)}catch{}}function qD(){this.g=new CD}function GD(s,l,d){let p=d||"";try{Dm(s,function(w,C){let P=w;h(w)&&(P=Au(w)),l.push(p+C+"="+encodeURIComponent(P))})}catch(w){throw l.push(p+"type="+encodeURIComponent("_badmap")),w}}function Yi(s){this.l=s.Ub||null,this.j=s.eb||!1}A(Yi,Nu),Yi.prototype.g=function(){return new gs(this.l,this.j)},Yi.prototype.i=function(s){return function(){return s}}({});function gs(s,l){Be.call(this),this.D=s,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(gs,Be),t=gs.prototype,t.open=function(s,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=l,this.readyState=1,Zi(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(l.body=s),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},t.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mm(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mm(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}t.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var l=s.value?s.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!s.done}))&&(this.response=this.responseText+=l)}s.done?Ji(this):Zi(this),this.readyState==3&&Mm(this)}},t.Ra=function(s){this.g&&(this.response=this.responseText=s,Ji(this))},t.Qa=function(s){this.g&&(this.response=s,Ji(this))},t.ga=function(){this.g&&Ji(this)};function Ji(s){s.readyState=4,s.l=null,s.j=null,s.v=null,Zi(s)}t.setRequestHeader=function(s,l){this.u.append(s,l)},t.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let s=[],l=this.h.entries();for(var d=l.next();!d.done;)d=d.value,s.push(d[0]+": "+d[1]),d=l.next();return s.join(`\r
`)};function Zi(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function xm(s){let l="";return te(s,function(d,p){l+=p,l+=":",l+=d,l+=`\r
`}),l}function ju(s,l,d){e:{for(p in d){var p=!1;break e}p=!0}p||(d=xm(d),typeof s=="string"?d!=null&&encodeURIComponent(String(d)):me(s,l,d))}function _e(s){Be.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(_e,Be);var zD=/^https?$/i,WD=["POST","PUT"];t=_e.prototype,t.Ha=function(s){this.J=s},t.ea=function(s,l,d,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);l=l?l.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ru.g(),this.v=this.o?sm(this.o):sm(Ru),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(l,String(s),!0),this.B=!1}catch(C){Rm(this,C);return}if(s=d||"",d=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var w in p)d.set(w,p[w]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let C of p.keys())d.set(C,p.get(C));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(d.keys()).find(C=>C.toLowerCase()=="content-type"),w=c.FormData&&s instanceof c.FormData,!(0<=Array.prototype.indexOf.call(WD,l,void 0))||p||w||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,P]of d)this.g.setRequestHeader(C,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Om(this),this.u=!0,this.g.send(s),this.u=!1}catch(C){Rm(this,C)}};function Rm(s,l){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=l,s.m=5,Pm(s),ys(s)}function Pm(s){s.A||(s.A=!0,We(s,"complete"),We(s,"error"))}t.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,We(this,"complete"),We(this,"abort"),ys(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ys(this,!0)),_e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?km(this):this.bb())},t.bb=function(){km(this)};function km(s){if(s.h&&typeof a<"u"&&(!s.v[1]||Ht(s)!=4||s.Z()!=2)){if(s.u&&Ht(s)==4)nm(s.Ea,0,s);else if(We(s,"readystatechange"),Ht(s)==4){s.h=!1;try{let P=s.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var d;if(!(d=l)){var p;if(p=P===0){var w=String(s.D).match(Tm)[1]||null;!w&&c.self&&c.self.location&&(w=c.self.location.protocol.slice(0,-1)),p=!zD.test(w?w.toLowerCase():"")}d=p}if(d)We(s,"complete"),We(s,"success");else{s.m=6;try{var C=2<Ht(s)?s.g.statusText:""}catch{C=""}s.l=C+" ["+s.Z()+"]",Pm(s)}}finally{ys(s)}}}}function ys(s,l){if(s.g){Om(s);let d=s.g,p=s.v[0]?()=>{}:null;s.g=null,s.v=null,l||We(s,"ready");try{d.onreadystatechange=p}catch{}}}function Om(s){s.I&&(c.clearTimeout(s.I),s.I=null)}t.isActive=function(){return!!this.g};function Ht(s){return s.g?s.g.readyState:0}t.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(s){if(this.g){var l=this.g.responseText;return s&&l.indexOf(s)==0&&(l=l.substring(s.length)),bD(l)}};function Fm(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function KD(s){let l={};s=(s.g&&2<=Ht(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<s.length;p++){if(q(s[p]))continue;var d=E(s[p]);let w=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let C=l[w]||[];l[w]=C,C.push(d)}I(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(s,l,d){return d&&d.internalChannelParams&&d.internalChannelParams[s]||l}function Vm(s){this.Aa=0,this.i=[],this.j=new Gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xi("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xi("baseRetryDelayMs",5e3,s),this.cb=Xi("retryDelaySeedMs",1e4,s),this.Wa=Xi("forwardChannelMaxRetries",2,s),this.wa=Xi("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new vm(s&&s.concurrentRequestLimit),this.Da=new qD,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vm.prototype,t.la=8,t.G=1,t.connect=function(s,l,d,p){Ke(0),this.W=s,this.H=l||{},d&&p!==void 0&&(this.H.OSID=d,this.H.OAID=p),this.F=this.X,this.I=zm(this,null,this.W),_s(this)};function Bu(s){if(Lm(s),s.G==3){var l=s.U++,d=$t(s.I);if(me(d,"SID",s.K),me(d,"RID",l),me(d,"TYPE","terminate"),eo(s,d),l=new sn(s,s.j,l),l.L=2,l.v=ms($t(d)),d=!1,c.navigator&&c.navigator.sendBeacon)try{d=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!d&&c.Image&&(new Image().src=l.v,d=!0),d||(l.g=Wm(l.j,null),l.g.ea(l.v)),l.F=Date.now(),hs(l)}Gm(s)}function vs(s){s.g&&($u(s),s.g.cancel(),s.g=null)}function Lm(s){vs(s),s.u&&(c.clearTimeout(s.u),s.u=null),Is(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&c.clearTimeout(s.s),s.s=null)}function _s(s){if(!_m(s.h)&&!s.s){s.s=!0;var l=s.Ga;Vi||Yp(),Li||(Vi(),Li=!0),_u.add(l,s),s.B=0}}function QD(s,l){return Im(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=l.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=qi(D(s.Ga,s,l),qm(s,s.B)),s.B++,!0)}t.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;let w=new sn(this,this.j,s),C=this.o;if(this.S&&(C?(C=g(C),_(C,this.S)):C=this.S),this.m!==null||this.O||(w.H=C,C=null),this.P)e:{for(var l=0,d=0;d<this.i.length;d++){t:{var p=this.i[d];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=d;break e}if(l===4096||d===this.i.length-1){l=d+1;break e}}l=1e3}else l=1e3;l=Bm(this,w,l),d=$t(this.I),me(d,"RID",s),me(d,"CVER",22),this.D&&me(d,"X-HTTP-Session-Id",this.D),eo(this,d),C&&(this.O?l="headers="+encodeURIComponent(String(xm(C)))+"&"+l:this.m&&ju(d,this.m,C)),Lu(this.h,w),this.Ua&&me(d,"TYPE","init"),this.P?(me(d,"$req",l),me(d,"SID","null"),w.T=!0,ku(w,d,null)):ku(w,d,l),this.G=2}}else this.G==3&&(s?jm(this,s):this.i.length==0||_m(this.h)||jm(this))};function jm(s,l){var d;l?d=l.l:d=s.U++;let p=$t(s.I);me(p,"SID",s.K),me(p,"RID",d),me(p,"AID",s.T),eo(s,p),s.m&&s.o&&ju(p,s.m,s.o),d=new sn(s,s.j,d,s.B+1),s.m===null&&(d.H=s.o),l&&(s.i=l.D.concat(s.i)),l=Bm(s,d,1e3),d.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),Lu(s.h,d),ku(d,p,l)}function eo(s,l){s.H&&te(s.H,function(d,p){me(l,p,d)}),s.l&&Dm({},function(d,p){me(l,p,d)})}function Bm(s,l,d){d=Math.min(s.i.length,d);var p=s.l?D(s.l.Na,s.l,s):null;e:{var w=s.i;let C=-1;for(;;){let P=["count="+d];C==-1?0<d?(C=w[0].g,P.push("ofs="+C)):C=0:P.push("ofs="+C);let le=!0;for(let Fe=0;Fe<d;Fe++){let ne=w[Fe].g,Ue=w[Fe].map;if(ne-=C,0>ne)C=Math.max(0,w[Fe].g-100),le=!1;else try{GD(Ue,P,"req"+ne+"_")}catch{p&&p(Ue)}}if(le){p=P.join("&");break e}}}return s=s.i.splice(0,d),l.D=s,p}function Um(s){if(!s.g&&!s.u){s.Y=1;var l=s.Fa;Vi||Yp(),Li||(Vi(),Li=!0),_u.add(l,s),s.v=0}}function Uu(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=qi(D(s.Fa,s),qm(s,s.v)),s.v++,!0)}t.Fa=function(){if(this.u=null,$m(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=qi(D(this.ab,this),s)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),vs(this),$m(this))};function $u(s){s.A!=null&&(c.clearTimeout(s.A),s.A=null)}function $m(s){s.g=new sn(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var l=$t(s.qa);me(l,"RID","rpc"),me(l,"SID",s.K),me(l,"AID",s.T),me(l,"CI",s.F?"0":"1"),!s.F&&s.ja&&me(l,"TO",s.ja),me(l,"TYPE","xmlhttp"),eo(s,l),s.m&&s.o&&ju(l,s.m,s.o),s.L&&(s.g.I=s.L);var d=s.g;s=s.ia,d.L=1,d.v=ms($t(l)),d.m=null,d.P=!0,mm(d,s)}t.Za=function(){this.C!=null&&(this.C=null,vs(this),Uu(this),Ke(19))};function Is(s){s.C!=null&&(c.clearTimeout(s.C),s.C=null)}function Hm(s,l){var d=null;if(s.g==l){Is(s),$u(s),s.g=null;var p=2}else if(Vu(s.h,l))d=l.D,Em(s.h,l),p=1;else return;if(s.G!=0){if(l.o)if(p==1){d=l.m?l.m.length:0,l=Date.now()-l.F;var w=s.B;p=us(),We(p,new dm(p,d)),_s(s)}else Um(s);else if(w=l.s,w==3||w==0&&0<l.X||!(p==1&&QD(s,l)||p==2&&Uu(s)))switch(d&&0<d.length&&(l=s.h,l.i=l.i.concat(d)),w){case 1:Un(s,5);break;case 4:Un(s,10);break;case 3:Un(s,6);break;default:Un(s,2)}}}function qm(s,l){let d=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(d*=2),d*l}function Un(s,l){if(s.j.info("Error code "+l),l==2){var d=D(s.fb,s),p=s.Xa;let w=!p;p=new Bn(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||fs(p,"https"),ms(p),w?$D(p.toString(),d):HD(p.toString(),d)}else Ke(2);s.G=0,s.l&&s.l.sa(l),Gm(s),Lm(s)}t.fb=function(s){s?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function Gm(s){if(s.G=0,s.ka=[],s.l){let l=wm(s.h);(l.length!=0||s.i.length!=0)&&(O(s.ka,l),O(s.ka,s.i),s.h.i.length=0,F(s.i),s.i.length=0),s.l.ra()}}function zm(s,l,d){var p=d instanceof Bn?$t(d):new Bn(d);if(p.g!="")l&&(p.g=l+"."+p.g),ps(p,p.s);else{var w=c.location;p=w.protocol,l=l?l+"."+w.hostname:w.hostname,w=+w.port;var C=new Bn(null);p&&fs(C,p),l&&(C.g=l),w&&ps(C,w),d&&(C.l=d),p=C}return d=s.D,l=s.ya,d&&l&&me(p,d,l),me(p,"VER",s.la),eo(s,p),p}function Wm(s,l,d){if(l&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=s.Ca&&!s.pa?new _e(new Yi({eb:d})):new _e(s.pa),l.Ha(s.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Km(){}t=Km.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Es(){}Es.prototype.g=function(s,l){return new tt(s,l)};function tt(s,l){Be.call(this),this.g=new Vm(l),this.l=s,this.h=l&&l.messageUrlParams||null,s=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(s?s["X-WebChannel-Content-Type"]=l.messageContentType:s={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(s?s["X-WebChannel-Client-Profile"]=l.va:s={"X-WebChannel-Client-Profile":l.va}),this.g.S=s,(s=l&&l.Sb)&&!q(s)&&(this.g.m=s),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!q(l)&&(this.g.D=l,s=this.h,s!==null&&l in s&&(s=this.h,l in s&&delete s[l])),this.j=new br(this)}A(tt,Be),tt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tt.prototype.close=function(){Bu(this.g)},tt.prototype.o=function(s){var l=this.g;if(typeof s=="string"){var d={};d.__data__=s,s=d}else this.u&&(d={},d.__data__=Au(s),s=d);l.i.push(new RD(l.Ya++,s)),l.G==3&&_s(l)},tt.prototype.N=function(){this.g.l=null,delete this.j,Bu(this.g),delete this.g,tt.aa.N.call(this)};function Qm(s){Mu.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var l=s.__sm__;if(l){e:{for(let d in l){s=d;break e}s=void 0}(this.i=s)&&(s=this.i,l=l!==null&&s in l?l[s]:void 0),this.data=l}else this.data=s}A(Qm,Mu);function Ym(){xu.call(this),this.status=1}A(Ym,xu);function br(s){this.g=s}A(br,Km),br.prototype.ua=function(){We(this.g,"a")},br.prototype.ta=function(s){We(this.g,new Qm(s))},br.prototype.sa=function(s){We(this.g,new Ym)},br.prototype.ra=function(){We(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,tt.prototype.send=tt.prototype.o,tt.prototype.open=tt.prototype.m,tt.prototype.close=tt.prototype.close,cf=Xt.createWebChannelTransport=function(){return new Es},af=Xt.getStatEventTarget=function(){return us()},sf=Xt.Event=Ln,_c=Xt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,Uo=Xt.ErrorCode=ls,hm.COMPLETE="complete",of=Xt.EventType=hm,am.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",Be.prototype.listen=Be.prototype.K,hi=Xt.WebChannel=am,sR=Xt.FetchXmlHttpFactory=Yi,_e.prototype.listenOnce=_e.prototype.L,_e.prototype.getLastError=_e.prototype.Ka,_e.prototype.getLastErrorCode=_e.prototype.Ba,_e.prototype.getStatus=_e.prototype.Z,_e.prototype.getResponseJson=_e.prototype.Oa,_e.prototype.getResponseText=_e.prototype.oa,_e.prototype.send=_e.prototype.ea,_e.prototype.setWithCredentials=_e.prototype.Ha,rf=Xt.XhrIo=_e}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});var ZI="@firebase/firestore";var Pe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");var Mi="10.14.0";var mr=new Sn("@firebase/firestore");function $o(){return mr.logLevel}function V(t,...e){if(mr.logLevel<=Q.DEBUG){let n=e.map(Ap);mr.debug(`Firestore (${Mi}): ${t}`,...n)}}function gr(t,...e){if(mr.logLevel<=Q.ERROR){let n=e.map(Ap);mr.error(`Firestore (${Mi}): ${t}`,...n)}}function bc(t,...e){if(mr.logLevel<=Q.WARN){let n=e.map(Ap);mr.warn(`Firestore (${Mi}): ${t}`,...n)}}function Ap(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Y(t="Unexpected state"){let e=`FIRESTORE (${Mi}) INTERNAL ASSERTION FAILED: `+t;throw gr(e),new Error(e)}function we(t,e){t||Y()}function pe(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends ft{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var en=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Cc=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},hf=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pe.UNAUTHENTICATED))}shutdown(){}},ff=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},pf=class{constructor(e){this.t=e,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new en;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new en,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new en)}},0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new Cc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new Pe(e)}},mf=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},gf=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mf(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},yf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},vf=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){we(this.o===void 0);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.R;return this.R=o.token,V("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new yf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function aR(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Sc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=aR(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function fe(t,e){return t<e?-1:t>e?1:0}function gi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ee=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ze(0,0))}static max(){return new t(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ac=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Se=class t extends Ac{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},cR=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ct=class t extends Ac{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return cR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},a=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new L(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(o(),i++)}if(o(),a)throw new L(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(Se.fromString(e))}static fromName(e){return new t(Se.fromString(e).popFirst(5))}static empty(){return new t(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Se(e.slice()))}};var _f=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};_f.UNKNOWN_ID=-1;function uR(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new yr(i,G.empty(),e)}function lR(t){return new yr(t.readTime,t.key,-1)}var yr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ee.min(),G.empty(),-1)}static max(){return new t(Ee.max(),G.empty(),-1)}};function dR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}var hR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",If=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function EE(t){return S(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==hR)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var R=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++o,a&&o===i&&n()},u=>r(u))}),a=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,a=new Array(o),c=0;for(let u=0;u<o;u++){let h=u;n(e[h]).next(f=>{a[h]=f,++c,c===o&&r(a)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function fR(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wc(t){return t.name==="IndexedDbTransactionError"}var pR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Np(t){return t==null}function Ko(t){return t===0&&1/t==-1/0}function mR(t){return typeof t=="number"&&Number.isInteger(t)&&!Ko(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var gR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cj=[...gR,"documentOverlays"],yR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vR=yR,_R=[...vR,"indexConfiguration","indexState","indexEntries"];var Sj=[..._R,"globals"];function XI(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wE(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ut=class t{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pi(this.root,e,this.comparator,!1)}getReverseIterator(){return new pi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pi(this.root,e,this.comparator,!0)}},pi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},jt=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,o){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Je=class t{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nc(this.data.getIterator())}getIteratorFrom(e){return new Nc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Nc=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Lt=class t{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new Je(ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gi(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ef=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var nn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ef("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nn.EMPTY_BYTE_STRING=new nn("");var IR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rn(t){if(we(!!t),typeof t=="string"){let e=0,n=IR.exec(t);if(we(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}function Mp(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function DE(t){let e=t.mapValue.fields.__previous_value__;return Mp(e)?DE(e):e}function Mc(t){let e=Rn(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}var wf=class{constructor(e,n,r,i,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h}},Df=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mp(t)?4:bE(t)?9007199254740991:TE(t)?10:11:Y()}function Bt(t,e){if(t===e)return!0;let n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mc(t).isEqual(Mc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let a=Rn(i.timestampValue),c=Rn(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return yi(i.bytesValue).isEqual(yi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let a=Ce(i.doubleValue),c=Ce(o.doubleValue);return a===c?Ko(a)===Ko(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return gi(t.arrayValue.values||[],e.arrayValue.values||[],Bt);case 10:case 11:return function(i,o){let a=i.mapValue.fields||{},c=o.mapValue.fields||{};if(XI(a)!==XI(c))return!1;for(let u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Bt(a[u],c[u])))return!1;return!0}(t,e);default:return Y()}}function Qo(t,e){return(t.values||[]).find(n=>Bt(n,e))!==void 0}function _i(t,e){if(t===e)return 0;let n=vi(t),r=vi(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(o,a){let c=Ce(o.integerValue||o.doubleValue),u=Ce(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return eE(t.timestampValue,e.timestampValue);case 4:return eE(Mc(t),Mc(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(o,a){let c=yi(o),u=yi(a);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){let c=o.split("/"),u=a.split("/");for(let h=0;h<c.length&&h<u.length;h++){let f=fe(c[h],u[h]);if(f!==0)return f}return fe(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){let c=fe(Ce(o.latitude),Ce(a.latitude));return c!==0?c:fe(Ce(o.longitude),Ce(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return tE(t.arrayValue,e.arrayValue);case 10:return function(o,a){var c,u,h,f;let m=o.fields||{},D=a.fields||{},T=(c=m.value)===null||c===void 0?void 0:c.arrayValue,A=(u=D.value)===null||u===void 0?void 0:u.arrayValue,F=fe(((h=T?.values)===null||h===void 0?void 0:h.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return F!==0?F:tE(T,A)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Ic.mapValue&&a===Ic.mapValue)return 0;if(o===Ic.mapValue)return 1;if(a===Ic.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),h=a.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){let D=fe(u[m],f[m]);if(D!==0)return D;let T=_i(c[u[m]],h[f[m]]);if(T!==0)return T}return fe(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Y()}}function eE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);let n=Rn(t),r=Rn(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function tE(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=_i(n[i],r[i]);if(o)return o}return fe(n.length,r.length)}function Ii(t){return Tf(t)}function Tf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Rn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Tf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let a of r)o?o=!1:i+=",",i+=`${a}:${Tf(n.fields[a])}`;return i+"}"}(t.mapValue):Y()}function bf(t){return!!t&&"integerValue"in t}function xp(t){return!!t&&"arrayValue"in t}function Dc(t){return!!t&&"mapValue"in t}function TE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Zo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qo(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Vt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qo(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=qo(a):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(qo(this.value))}};function CE(t){let e=[];return Zo(t.fields,(n,r)=>{let i=new ct([n]);if(Dc(r)){let o=CE(r.mapValue).fields;if(o.length===0)e.push(i);else for(let a of o)e.push(i.child(a))}else e.push(i)}),new Lt(e)}var Ei=class t{constructor(e,n,r,i,o,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Ee.min(),Ee.min(),Ee.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ee.min(),Ee.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ee.min(),Ee.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var wi=class{constructor(e,n){this.position=e,this.inclusive=n}};function nE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],a=t.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(a.referenceValue),n.key):r=_i(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function rE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bt(t.position[n],e.position[n]))return!1;return!0}var Di=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function ER(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var xc=class{},ke=class t extends xc{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Sf(e,n,r):n==="array-contains"?new Mf(e,r):n==="in"?new xf(e,r):n==="not-in"?new Rf(e,r):n==="array-contains-any"?new Pf(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Af(e,r):new Nf(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_i(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(_i(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pn=class t extends xc{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return SE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function SE(t){return t.op==="and"}function AE(t){return wR(t)&&SE(t)}function wR(t){for(let e of t.filters)if(e instanceof Pn)return!1;return!0}function Cf(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+Ii(t.value);if(AE(t))return t.filters.map(e=>Cf(e)).join(",");{let e=t.filters.map(n=>Cf(n)).join(",");return`${t.op}(${e})`}}function NE(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&Bt(r.value,i.value)}(t,e):t instanceof Pn?function(r,i){return i instanceof Pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,c)=>o&&NE(a,i.filters[c]),!0):!1}(t,e):void Y()}function ME(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Ii(n.value)}`}(t):t instanceof Pn?function(n){return n.op.toString()+" {"+n.getFilters().map(ME).join(" ,")+"}"}(t):"Filter"}var Sf=class extends ke{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},Af=class extends ke{constructor(e,n){super(e,"in",n),this.keys=xE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Nf=class extends ke{constructor(e,n){super(e,"not-in",n),this.keys=xE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function xE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}var Mf=class extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return xp(n)&&Qo(n.arrayValue,this.value)}},xf=class extends ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Qo(this.value.arrayValue,n)}},Rf=class extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Qo(this.value.arrayValue,n)}},Pf=class extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qo(this.value.arrayValue,r))}};var kf=class{constructor(e,n=null,r=[],i=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=c,this.ue=null}};function iE(t,e=null,n=[],r=[],i=null,o=null,a=null){return new kf(t,e,n,r,i,o,a)}function Rp(t){let e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Np(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ii(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ii(r)).join(",")),e.ue=n}return e.ue}function Pp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ER(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rE(t.startAt,e.startAt)&&rE(t.endAt,e.endAt)}var Ti=class{constructor(e,n=null,r=[],i=[],o=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function DR(t,e,n,r,i,o,a,c){return new Ti(t,e,n,r,i,o,a,c)}function TR(t){return new Ti(t)}function oE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bR(t){return t.collectionGroup!==null}function Go(t){let e=pe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Je(ct.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Di(o,r))}),n.has(ct.keyField().canonicalString())||e.ce.push(new Di(ct.keyField(),r))}return e.ce}function fr(t){let e=pe(t);return e.le||(e.le=CR(e,Go(t))),e.le}function CR(t,e){if(t.limitType==="F")return iE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Di(i.field,o)});let n=t.endAt?new wi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wi(t.startAt.position,t.startAt.inclusive):null;return iE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Of(t,e,n){return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function RE(t,e){return Pp(fr(t),fr(e))&&t.limitType===e.limitType}function PE(t){return`${Rp(fr(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ME(i)).join(", ")}]`),Np(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ii(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ii(i)).join(",")),`Target(${r})`}(fr(t))}; limitType=${t.limitType})`}function kp(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Go(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,u){let h=nE(a,c,u);return a.inclusive?h<=0:h<0}(r.startAt,Go(r),i)||r.endAt&&!function(a,c,u){let h=nE(a,c,u);return a.inclusive?h>=0:h>0}(r.endAt,Go(r),i))}(t,e)}function SR(t){return(e,n)=>{let r=!1;for(let i of Go(t)){let o=AR(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function AR(t,e,n){let r=t.field.isKeyField()?G.comparator(e.key,n.key):function(o,a,c){let u=a.data.field(o),h=c.data.field(o);return u!==null&&h!==null?_i(u,h):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var kn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return wE(this.inner)}size(){return this.innerSize}};var NR=new ut(G.comparator);function Rc(){return NR}var kE=new ut(G.comparator);function Ec(...t){let e=kE;for(let n of t)e=e.insert(n.key,n);return e}function OE(t){let e=kE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hr(){return zo()}function FE(){return zo()}function zo(){return new kn(t=>t.toString(),(t,e)=>t.isEqual(e))}var MR=new ut(G.comparator),xR=new Je(G.comparator);function Ge(...t){let e=xR;for(let n of t)e=e.add(n);return e}var RR=new Je(fe);function PR(){return RR}function Op(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ko(e)?"-0":e}}function VE(t){return{integerValue:""+t}}function kR(t,e){return mR(e)?VE(e):Op(t,e)}var bi=class{constructor(){this._=void 0}};function OR(t,e,n){return t instanceof Ci?function(i,o){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Mp(o)&&(o=DE(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof vr?jE(t,e):t instanceof _r?BE(t,e):function(i,o){let a=LE(i,o),c=sE(a)+sE(i.Pe);return bf(a)&&bf(i.Pe)?VE(c):Op(i.serializer,c)}(t,e)}function FR(t,e,n){return t instanceof vr?jE(t,e):t instanceof _r?BE(t,e):n}function LE(t,e){return t instanceof Si?function(r){return bf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ci=class extends bi{},vr=class extends bi{constructor(e){super(),this.elements=e}};function jE(t,e){let n=UE(e);for(let r of t.elements)n.some(i=>Bt(i,r))||n.push(r);return{arrayValue:{values:n}}}var _r=class extends bi{constructor(e){super(),this.elements=e}};function BE(t,e){let n=UE(e);for(let r of t.elements)n=n.filter(i=>!Bt(i,r));return{arrayValue:{values:n}}}var Si=class extends bi{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function sE(t){return Ce(t.integerValue||t.doubleValue)}function UE(t){return xp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vr&&i instanceof vr||r instanceof _r&&i instanceof _r?gi(r.elements,i.elements,Bt):r instanceof Si&&i instanceof Si?Bt(r.Pe,i.Pe):r instanceof Ci&&i instanceof Ci}(t.transform,e.transform)}var Ff=class{constructor(e,n){this.version=e,this.transformResults=n}},pr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Tc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ai=class{};function $E(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pc(t.key,pr.none()):new Ir(t.key,t.data,pr.none());{let n=t.data,r=Vt.empty(),i=new Je(ct.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new rn(t.key,r,new Lt(i.toArray()),pr.none())}}function LR(t,e,n){t instanceof Ir?function(i,o,a){let c=i.value.clone(),u=cE(i.fieldTransforms,o,a.transformResults);c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof rn?function(i,o,a){if(!Tc(i.precondition,o))return void o.convertToUnknownDocument(a.version);let c=cE(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(HE(i)),u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Wo(t,e,n,r){return t instanceof Ir?function(o,a,c,u){if(!Tc(o.precondition,a))return c;let h=o.value.clone(),f=uE(o.fieldTransforms,u,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof rn?function(o,a,c,u){if(!Tc(o.precondition,a))return c;let h=uE(o.fieldTransforms,u,a),f=a.data;return f.setAll(HE(o)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,a,c){return Tc(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function jR(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=LE(r.transform,i||null);o!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,o))}return n||null}function aE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gi(r,i,(o,a)=>VR(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ir=class extends Ai{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},rn=class extends Ai{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function HE(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function cE(t,e,n){let r=new Map;we(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],a=o.transform,c=e.data.field(o.field);r.set(o.field,FR(a,c,n[i]))}return r}function uE(t,e,n){let r=new Map;for(let i of t){let o=i.transform,a=n.data.field(i.field);r.set(i.field,OR(o,a,e))}return r}var Pc=class extends Ai{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Vf=class extends Ai{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Lf=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&LR(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=FE();return this.mutations.forEach(i=>{let o=e.get(i.key),a=o.overlayedDocument,c=this.applyToLocalView(a,o.mutatedFields);c=n.has(i.key)?null:c;let u=$E(a,c);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&gi(this.mutations,e.mutations,(n,r)=>aE(n,r))&&gi(this.baseMutations,e.baseMutations,(n,r)=>aE(n,r))}},jf=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length);let i=function(){return MR}(),o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)}};var Bf=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Te,ee;function BR(t){switch(t){default:return Y();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function UR(t){if(t===void 0)return gr("GRPC error has no .code"),x.UNKNOWN;switch(t){case Te.OK:return x.OK;case Te.CANCELLED:return x.CANCELLED;case Te.UNKNOWN:return x.UNKNOWN;case Te.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Te.INTERNAL:return x.INTERNAL;case Te.UNAVAILABLE:return x.UNAVAILABLE;case Te.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Te.NOT_FOUND:return x.NOT_FOUND;case Te.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Te.ABORTED:return x.ABORTED;case Te.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Te.DATA_LOSS:return x.DATA_LOSS;default:return Y()}}(ee=Te||(Te={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";var Nj=new nf([4294967295,4294967295],0);var Uf=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function $f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $R(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HR(t,e){return $f(t,e.toTimestamp())}function mi(t){return we(!!t),Ee.fromTimestamp(function(n){let r=Rn(n);return new ze(r.seconds,r.nanos)}(t))}function qE(t,e){return Hf(t,e).canonicalString()}function Hf(t,e){let n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qR(t){let e=Se.fromString(t);return we(ZR(e)),e}function qf(t,e){return qE(t.databaseId,e.path)}function GR(t){let e=qR(t);return e.length===4?Se.emptyPath():WR(e)}function zR(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WR(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lE(t,e,n){return{name:qf(t,e),fields:n.value.mapValue.fields}}function KR(t,e){let n;if(e instanceof Ir)n={update:lE(t,e.key,e.value)};else if(e instanceof Pc)n={delete:qf(t,e.key)};else if(e instanceof rn)n={update:lE(t,e.key,e.data),updateMask:JR(e.fieldMask)};else{if(!(e instanceof Vf))return Y();n={verify:qf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){let c=a.transform;if(c instanceof Ci)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vr)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _r)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Si)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:HR(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y()}(t,e.precondition)),n}function QR(t,e){return t&&t.length>0?(we(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?mi(i.updateTime):mi(o);return a.isEqual(Ee.min())&&(a=mi(o)),new Ff(a,i.transformResults||[])}(n,e))):[]}function YR(t){let e=GR(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){we(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(m){let D=GE(m);return D instanceof Pn&&AE(D)?D.getFilters():[D]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(D=>function(A){return new Di(fi(A.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(D))}(n.orderBy));let c=null;n.limit&&(c=function(m){let D;return D=typeof m=="object"?m.value:m,Np(D)?null:D}(n.limit));let u=null;n.startAt&&(u=function(m){let D=!!m.before,T=m.values||[];return new wi(T,D)}(n.startAt));let h=null;return n.endAt&&(h=function(m){let D=!m.before,T=m.values||[];return new wi(T,D)}(n.endAt)),DR(e,i,a,o,c,"F",u,h)}function GE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=fi(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fi(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=fi(n.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=fi(n.unaryFilter.field);return ke.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(fi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pn.create(n.compositeFilter.filters.map(r=>GE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function fi(t){return ct.fromServerFormat(t.fieldPath)}function JR(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Gf=class{constructor(e){this.ct=e}};function XR(t){let e=YR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Of(e,e.limit,"L"):e}var kc=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ko(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Rn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(yi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?bE(e)?this.dt(n,Number.MAX_SAFE_INTEGER):TE(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Y()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let a="value",c=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ce(c)),this.Vt(a,n),this.Tt(o[a],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),G.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};kc.vt=new kc;var zf=class{constructor(){this.un=new Wf}addToCollectionParentIndex(e,n){return this.un.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(yr.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}},Wf=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(Se.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Se.comparator)).toArray()}};var Mj=new Uint8Array(0);var Ft=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(41943040,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);var Yo=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Kf=class{constructor(){this.changes=new kn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ei.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Qf=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Yf=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wo(r.mutation,i,Lt.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ge()){let i=hr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Ec();return o.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){let r=hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let o=Rc(),a=zo(),c=function(){return zo()}();return n.forEach((u,h)=>{let f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof rn)?o=o.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Wo(f.mutation,h,f.mutation.getFieldMask(),ze.now())):a.set(h.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,f)=>a.set(h,f)),n.forEach((h,f)=>{var m;return c.set(h,new Qf(f,(m=a.get(h))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,n){let r=zo(),i=new ut((a,c)=>a-c),o=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(let c of a)c.keys().forEach(u=>{let h=n.get(u);if(h===null)return;let f=r.get(u)||Lt.empty();f=c.applyToLocalView(h,f),r.set(u,f);let m=(i.get(c.batchId)||Ge()).add(u);i=i.insert(c.batchId,m)})}).next(()=>{let a=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),h=u.key,f=u.value,m=FE();f.forEach(D=>{if(!o.has(D)){let T=$E(n.get(D),r.get(D));T!==null&&m.set(D,T),o=o.add(D)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,m))}return R.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return G.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):R.resolve(hr()),c=-1,u=o;return a.next(h=>R.forEach(h,(f,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),o.get(f)?R.resolve():this.remoteDocumentCache.getEntry(e,f).next(D=>{u=u.insert(f,D)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,Ge())).next(f=>({batchId:c,changes:OE(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=Ec();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,a=Ec();return this.indexManager.getCollectionParents(e,o).next(c=>R.forEach(c,u=>{let h=function(m,D){return new Ti(D,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((m,D)=>{a=a.insert(m,D)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((u,h)=>{let f=h.getKey();a.get(f)===null&&(a=a.insert(f,Ei.newInvalidDocument(f)))});let c=Ec();return a.forEach((u,h)=>{let f=o.get(u);f!==void 0&&Wo(f.mutation,h,Lt.empty(),ze.now()),kp(n,h)&&(c=c.insert(u,h))}),c})}};var Jf=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return R.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mi(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:XR(i.bundledQuery),readTime:mi(i.readTime)}}(n)),R.resolve()}};var Zf=class{constructor(){this.overlays=new ut(G.comparator),this.Ir=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){let r=hr();return R.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),R.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){let i=hr(),o=n.length+1,a=new G(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){let u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ut((h,f)=>h-f),a=this.overlays.getIterator();for(;a.hasNext();){let h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=o.get(h.largestBatchId);f===null&&(f=hr(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}let c=hr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>c.set(h,f)),!(c.size()>=i)););return R.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Bf(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ge(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Xf=class{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,R.resolve()}};var Jo=class{constructor(){this.Tr=new Je(be.Er),this.dr=new Je(be.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new be(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new be(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new G(new Se([])),r=new be(n,e),i=new be(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new G(new Se([])),r=new be(n,e),i=new be(n,e+1),o=Ge();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){let n=new be(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},be=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return G.comparator(e.key,n.key)||fe(e.wr,n.wr)}static Ar(e,n){return fe(e.wr,n.wr)||G.comparator(e.key,n.key)}};var ep=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Je(be.Er)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Lf(o,n,r,i);this.mutationQueue.push(a);for(let c of i)this.br=this.br.add(new be(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return R.resolve(a)}lookupMutationBatch(e,n){return R.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new be(n,0),i=new be(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{let c=this.Dr(a.wr);o.push(c)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(fe);return n.forEach(i=>{let o=new be(i,0),a=new be(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],c=>{r=r.add(c.wr)})}),R.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let a=new be(new G(o),0),c=new Je(fe);return this.br.forEachWhile(u=>{let h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.wr)),!0)},a),R.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return R.forEach(n.mutations,i=>{let o=new be(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new be(n,0),i=this.br.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var tp=class{constructor(e){this.Mr=e,this.docs=function(){return new ut(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():Ei.newInvalidDocument(n))}getEntries(e,n){let r=Rc();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ei.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Rc(),a=n.path,c=new G(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:h,value:{document:f}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||dR(lR(f),r)<=0||(i.has(f.key)||kp(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y()}Or(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new np(this)}getSize(e){return R.resolve(this.size)}},np=class extends Kf{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var rp=class{constructor(e){this.persistence=e,this.Nr=new kn(n=>Rp(n),Pp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jo,this.targetCount=0,this.kr=Yo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),R.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Yo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.Kn(n),R.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),R.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Br.containsKey(n))}};var ip=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new pR(0),this.Kr=!1,this.Kr=!0,this.$r=new Xf,this.referenceDelegate=e(this),this.Ur=new rp(this),this.indexManager=new zf,this.remoteDocumentCache=function(i){return new tp(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Gf(n),this.Gr=new Jf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zf,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ep(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new op(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return R.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},op=class extends If{constructor(e){super(),this.currentSequenceNumber=e}},sp=class t{constructor(e){this.persistence=e,this.Jr=new Jo,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Xr,r=>{let i=G.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return R.or([()=>R.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var ap=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ge(),i=Ge();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var cp=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var up=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hI()?8:fR(at())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new cp;return this.Xi(e,n,a).next(c=>{if(o.result=c,this.zi)return this.es(e,n,a,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?($o()<=Q.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),R.resolve()):($o()<=Q.DEBUG&&V("QueryEngine","Query:",Ho(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?($o()<=Q.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):R.resolve())}Yi(e,n){if(oE(n))return R.resolve(null);let r=fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Of(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let a=Ge(...o);return this.Ji.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let h=this.ts(n,c);return this.ns(n,h,a,u.readTime)?this.Yi(e,Of(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,i){return oE(n)||i.isEqual(Ee.min())?R.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let a=this.ts(n,o);return this.ns(n,a,r,i)?R.resolve(null):($o()<=Q.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ho(n)),this.rs(e,a,n,uR(i,-1)).next(c=>c))})}ts(e,n){let r=new Je(SR(e));return n.forEach((i,o)=>{kp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return $o()<=Q.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.Ji.getDocumentsMatchingQuery(e,n,yr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}};var lp=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ut(fe),this._s=new kn(o=>Rp(o),Pp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yf(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function eP(t,e,n,r){return new lp(t,e,n,r)}function zE(t,e){return S(this,null,function*(){let n=pe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let a=[],c=[],u=Ge();for(let h of i){a.push(h.batchId);for(let f of h.mutations)u=u.add(f.key)}for(let h of o){c.push(h.batchId);for(let f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:a,addedBatchIds:c}))})})})}function tP(t,e){let n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,h,f){let m=h.batch,D=m.keys(),T=R.resolve();return D.forEach(A=>{T=T.next(()=>f.getEntry(u,A)).next(F=>{let O=h.docVersions.get(A);we(O!==null),F.version.compareTo(O)<0&&(m.applyToRemoteDocument(F,h),F.isValidDocument()&&(F.setReadTime(h.commitVersion),f.addEntry(F)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=Ge();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function nP(t){let e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function rP(t,e){let n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Oc=class{constructor(){this.activeTargetIds=PR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var dp=class{constructor(){this.so=new Oc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Oc,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var hp=class{_o(e){}shutdown(){}};var Fc=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var wc=null;function uf(){return wc===null?wc=function(){return 268435456+Math.round(2147483648*Math.random())}():wc++,"0x"+wc.toString(16)}var iP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var fp=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var qe="WebChannelConnection",pp=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){let c=uf(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,o,a),this.No(n,u,h,i).then(f=>(V("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw bc("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,a,c){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){let i=iP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=uf();return new Promise((a,c)=>{let u=new rf;u.setWithCredentials(!0),u.listenOnce(of.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Uo.NO_ERROR:let f=u.getResponseJson();V(qe,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Uo.TIMEOUT:V(qe,`RPC '${e}' ${o} timed out`),c(new L(x.DEADLINE_EXCEEDED,"Request time out"));break;case Uo.HTTP_ERROR:let m=u.getStatus();if(V(qe,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let D=u.getResponseJson();Array.isArray(D)&&(D=D[0]);let T=D?.error;if(T&&T.status&&T.message){let A=function(O){let B=O.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(B)>=0?B:x.UNKNOWN}(T.status);c(new L(A,T.message))}else c(new L(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new L(x.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{V(qe,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(i);V(qe,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Bo(e,n,r){let i=uf(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=cf(),c=af(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");V(qe,`Creating RPC '${e}' stream ${i}: ${f}`,u);let m=a.createWebChannel(f,u),D=!1,T=!1,A=new fp({Io:O=>{T?V(qe,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(D||(V(qe,`Opening RPC '${e}' stream ${i} transport.`),m.open(),D=!0),V(qe,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},To:()=>m.close()}),F=(O,B,q)=>{O.listen(B,J=>{try{q(J)}catch(ie){setTimeout(()=>{throw ie},0)}})};return F(m,hi.EventType.OPEN,()=>{T||(V(qe,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),F(m,hi.EventType.CLOSE,()=>{T||(T=!0,V(qe,`RPC '${e}' stream ${i} transport closed`),A.So())}),F(m,hi.EventType.ERROR,O=>{T||(T=!0,bc(qe,`RPC '${e}' stream ${i} transport errored:`,O),A.So(new L(x.UNAVAILABLE,"The operation could not be completed")))}),F(m,hi.EventType.MESSAGE,O=>{var B;if(!T){let q=O.data[0];we(!!q);let J=q,ie=J.error||((B=J[0])===null||B===void 0?void 0:B.error);if(ie){V(qe,`RPC '${e}' stream ${i} received error:`,ie);let Oe=ie.status,te=function(y){let _=Te[y];if(_!==void 0)return UR(_)}(Oe),I=ie.message;te===void 0&&(te=x.INTERNAL,I="Unknown error status: "+Oe+" with message "+ie.message),T=!0,A.So(new L(te,I)),m.close()}else V(qe,`RPC '${e}' stream ${i} received:`,q),A.bo(q)}}),F(c,sf.STAT_EVENT,O=>{O.stat===_c.PROXY?V(qe,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===_c.NOPROXY&&V(qe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function lf(){return typeof document<"u"?document:null}function Kc(t){return new Uf(t,!0)}var Vc=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var mp=class{constructor(e,n,r,i,o,a,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Vc(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var gp=class extends mp{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return we(!!e.streamToken),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=QR(e.writeResults,e.commitTime),r=mi(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=zR(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>KR(this.serializer,r))};this.a_(n)}};var yp=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Hf(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(x.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(e,Hf(n,r),i,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new L(x.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},vp=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gr(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var _p=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(()=>S(this,null,function*(){es(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let h=pe(u);h.L_.add(4),yield Xo(h),h.q_.set("Unknown"),h.L_.delete(4),yield Qc(h)})}(this))}))}),this.q_=new vp(r,i)}};function Qc(t){return S(this,null,function*(){if(es(t))for(let e of t.B_)yield e(!0)})}function Xo(t){return S(this,null,function*(){for(let e of t.B_)yield e(!1)})}function es(t){return pe(t).L_.size===0}function WE(t,e,n){return S(this,null,function*(){if(!Wc(e))throw e;t.L_.add(1),yield Xo(t),t.q_.set("Offline"),n||(n=()=>nP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Qc(t)}))})}function KE(t,e){return e().catch(n=>WE(t,n,e))}function Yc(t){return S(this,null,function*(){let e=pe(t),n=On(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oP(e);)try{let i=yield rP(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,sP(e,i)}catch(i){yield WE(e,i)}QE(e)&&YE(e)})}function oP(t){return es(t)&&t.O_.length<10}function sP(t,e){t.O_.push(e);let n=On(t);n.r_()&&n.V_&&n.m_(e.mutations)}function QE(t){return es(t)&&!On(t).n_()&&t.O_.length>0}function YE(t){On(t).start()}function aP(t){return S(this,null,function*(){On(t).p_()})}function cP(t){return S(this,null,function*(){let e=On(t);for(let n of t.O_)e.m_(n.mutations)})}function uP(t,e,n){return S(this,null,function*(){let r=t.O_.shift(),i=jf.from(r,e,n);yield KE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Yc(t)})}function lP(t,e){return S(this,null,function*(){e&&On(t).V_&&(yield function(r,i){return S(this,null,function*(){if(function(a){return BR(a)&&a!==x.ABORTED}(i.code)){let o=r.O_.shift();On(r).s_(),yield KE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Yc(r)}})}(t,e)),QE(t)&&YE(t)})}function dE(t,e){return S(this,null,function*(){let n=pe(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=es(n);n.L_.add(3),yield Xo(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Qc(n)})}function dP(t,e){return S(this,null,function*(){let n=pe(t);e?(n.L_.delete(2),yield Qc(n)):e||(n.L_.add(2),yield Xo(n),n.q_.set("Unknown"))})}function On(t){return t.U_||(t.U_=function(n,r,i){let o=pe(n);return o.w_(),new gp(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aP.bind(null,t),mo:lP.bind(null,t),f_:cP.bind(null,t),g_:uP.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.U_.s_(),yield Yc(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Ip=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let a=Date.now()+r,c=new t(e,n,a,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function JE(t,e){if(gr("AsyncQueue",`${e}: ${t}`),Wc(t))return new L(x.UNAVAILABLE,`${e}: ${t}`);throw t}var Ep=class{constructor(){this.queries=hE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=pe(n),o=i.queries;i.queries=hE(),o.forEach((a,c)=>{for(let u of c.j_)u.onError(r)})})(this,new L(x.ABORTED,"Firestore shutting down"))}};function hE(){return new kn(t=>PE(t),RE)}function hP(t){t.Y_.forEach(e=>{e.next()})}var fE,pE;(pE=fE||(fE={})).ea="default",pE.Cache="cache";var wp=class{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new kn(c=>PE(c),RE),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(G.comparator),this.Na=new Map,this.La=new Jo,this.Ba={},this.ka=new Map,this.qa=Yo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function fP(t,e,n){return S(this,null,function*(){let r=yP(t);try{let i=yield function(a,c){let u=pe(a),h=ze.now(),f=c.reduce((T,A)=>T.add(A.key),Ge()),m,D;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=Rc(),F=Ge();return u.cs.getEntries(T,f).next(O=>{A=O,A.forEach((B,q)=>{q.isValidDocument()||(F=F.add(B))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,A)).next(O=>{m=O;let B=[];for(let q of c){let J=jR(q,m.get(q.key).overlayedDocument);J!=null&&B.push(new rn(q.key,J,CE(J.value.mapValue),pr.exists(!0)))}return u.mutationQueue.addMutationBatch(T,h,B,c)}).next(O=>{D=O;let B=O.applyToLocalDocumentSet(m,F);return u.documentOverlayCache.saveOverlays(T,O.batchId,B)})}).then(()=>({batchId:D.batchId,changes:OE(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,u){let h=a.Ba[a.currentUser.toKey()];h||(h=new ut(fe)),h=h.insert(c,u),a.Ba[a.currentUser.toKey()]=h}(r,i.batchId,n),yield Jc(r,i.changes),yield Yc(r.remoteStore)}catch(i){let o=JE(i,"Failed to persist write");n.reject(o)}})}function mE(t,e,n){let r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,a)=>{let c=a.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){let u=pe(a);u.onlineState=c;let h=!1;u.queries.forEach((f,m)=>{for(let D of m.j_)D.Z_(c)&&(h=!0)}),h&&hP(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pP(t,e){return S(this,null,function*(){let n=pe(t),r=e.batch.batchId;try{let i=yield tP(n.localStore,e);XE(n,r,null),ZE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Jc(n,i)}catch(i){yield EE(i)}})}function mP(t,e,n){return S(this,null,function*(){let r=pe(t);try{let i=yield function(a,c){let u=pe(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,c).next(m=>(we(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);XE(r,e,n),ZE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Jc(r,i)}catch(i){yield EE(i)}})}function ZE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function XE(t,e,n){let r=pe(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Jc(t,e,n){return S(this,null,function*(){let r=pe(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{a.push(r.Ka(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){let m=h?!h.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);let m=ap.Wi(u.targetId,h);o.push(m)}}))}),yield Promise.all(a),r.Ca.d_(i),yield function(u,h){return S(this,null,function*(){let f=pe(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>R.forEach(h,D=>R.forEach(D.$i,T=>f.persistence.referenceDelegate.addReference(m,D.targetId,T)).next(()=>R.forEach(D.Ui,T=>f.persistence.referenceDelegate.removeReference(m,D.targetId,T)))))}catch(m){if(!Wc(m))throw m;V("LocalStore","Failed to update sequence numbers: "+m)}for(let m of h){let D=m.targetId;if(!m.fromCache){let T=f.os.get(D),A=T.snapshotVersion,F=T.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(D,F)}}})}(r.localStore,o))})}function gP(t,e){return S(this,null,function*(){let n=pe(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield zE(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new L(x.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Jc(n,r.hs)}})}function yP(t){let e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mP.bind(null,e),e}var gE=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=Kc(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return eP(this.persistence,new up,n.initialUser,this.serializer)}Ga(n){return new ip(sp.Zr,this.serializer)}Wa(n){return new dp}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var vP=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gP.bind(null,this.syncEngine),yield dP(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Ep}()}createDatastore(n){let r=Kc(n.databaseInfo.databaseId),i=function(a){return new pp(a)}(n.databaseInfo);return function(a,c,u,h){return new yp(a,c,u,h)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,a,c,u){return new _p(i,o,a,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>mE(this.syncEngine,r,0),function(){return Fc.D()?new Fc:new hp}())}createSyncEngine(n,r){return function(o,a,c,u,h,f,m){let D=new wp(o,a,c,u,h,f);return m&&(D.Qa=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield function(o){return S(this,null,function*(){let a=pe(o);V("RemoteStore","RemoteStore shutting down."),a.L_.add(5),yield Xo(a),a.k_.shutdown(),a.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Dp=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pe.UNAUTHENTICATED,this.clientId=Sc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,a=>S(this,null,function*(){V("FirestoreClient","Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,a=>(V("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=JE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function df(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield zE(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function yE(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield _P(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>dE(e.remoteStore,i)),t._onlineComponents=e})}function _P(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield df(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bc("Error using user provided cache. Falling back to memory cache: "+n),yield df(t,new gE)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield df(t,new gE);return t._offlineComponents})}function IP(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield yE(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield yE(t,new vP))),t._onlineComponents})}function EP(t){return IP(t).then(e=>e.syncEngine)}function ew(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var vE=new Map;function tw(t,e,n){if(!n)throw new L(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wP(t,e,n,r){if(e===!0&&r===!0)throw new L(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _E(t){if(!G.isDocumentKey(t))throw new L(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IE(t){if(G.isDocumentKey(t))throw new L(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function nw(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Fp(t);throw new L(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Lc=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ew((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ni=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lc({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lc(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hf;switch(r.type){case"firstParty":return new gf(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=vE.get(n);r&&(V("ComponentProvider","Removing Datastore"),vE.delete(n),r.terminate())}(this),Promise.resolve()}};function rw(t,e,n,r={}){var i;let o=(t=nw(t,Ni))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Pe.MOCK_USER;else{c=aI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new L(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Pe(h)}t._authCredentials=new ff(new Cc(c,u))}}var Tp=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},tn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},xn=class t extends Tp{constructor(e,n,r){super(e,n,TR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function iw(t,e,...n){if(t=Ct(t),tw("collection","path",e),t instanceof Ni){let r=Se.fromString(e,...n);return IE(r),new xn(t,null,r)}{if(!(t instanceof tn||t instanceof xn))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return IE(r),new xn(t.firestore,null,r)}}function ow(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=Sc.newId()),tw("doc","path",e),t instanceof Ni){let r=Se.fromString(e,...n);return _E(r),new tn(t,null,new G(r))}{if(!(t instanceof tn||t instanceof xn))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return _E(r),new tn(t.firestore,t instanceof xn?t.converter:null,new G(r))}}var jc=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Vc(this,"async_queue_retry"),this.Vu=()=>{let r=lf();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=lf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=lf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new en;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Wc(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw gr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Ip.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Y()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Bc=class extends Ni{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jc,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new jc(e),this._firestoreClient=void 0,yield e}})}};function sw(t,e){let n=typeof t=="object"?t:xo(),r=typeof t=="string"?t:e||"(default)",i=Vh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=oI("firestore");o&&rw(i,...o)}return i}function DP(t){if(t._terminated)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TP(t),t._firestoreClient}function TP(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,h,f){return new wf(c,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ew(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Dp(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Uc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(nn.fromBase64String(e))}catch(n){throw new L(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var $c=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Hc=class{constructor(e){this._methodName=e}};var qc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}};var Gc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var bP=/^__.*__$/,bp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new rn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ir(e,this.data,n,this.fieldTransforms)}};function aw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var Cp=class t{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aw(this.Cu)&&bP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Sp=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kc(e)}Qu(e,n,r,i=!1){return new Cp({Cu:e,methodName:n,qu:r,path:ct.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function CP(t){let e=t._freezeSettings(),n=Kc(t._databaseId);return new Sp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SP(t,e,n,r,i,o={}){let a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);dw("Data must be an object, but it was:",a,r);let c=uw(r,a),u,h;if(o.merge)u=new Lt(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){let f=[];for(let m of o.mergeFields){let D=AP(e,m,n);if(!a.contains(D))throw new L(x.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);xP(f,D)||f.push(D)}u=new Lt(f),h=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=a.fieldTransforms;return new bp(new Vt(c),u,h)}function cw(t,e){if(lw(t=Ct(t)))return dw("Unsupported field value:",e,t),uw(t,e);if(t instanceof Hc)return function(r,i){if(!aw(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],a=0;for(let c of r){let u=cw(c,i.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ze.fromDate(r);return{timestampValue:$f(i.serializer,o)}}if(r instanceof ze){let o=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$f(i.serializer,o)}}if(r instanceof qc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uc)return{bytesValue:$R(i.serializer,r._byteString)};if(r instanceof tn){let o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Gc)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Op(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Fp(r)}`)}(t,e)}function uw(t,e){let n={};return wE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(t,(r,i)=>{let o=cw(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function lw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof qc||t instanceof Uc||t instanceof tn||t instanceof Hc||t instanceof Gc)}function dw(t,e,n){if(!lw(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Fp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function AP(t,e,n){if((e=Ct(e))instanceof $c)return e._internalPath;if(typeof e=="string")return MP(t,e);throw zc("Field path arguments must be of type string or ",t,!1,void 0,n)}var NP=new RegExp("[~\\*/\\[\\]]");function MP(t,e,n){if(e.search(NP)>=0)throw zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $c(...e.split("."))._internalPath}catch{throw zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zc(t,e,n,r,i){let o=r&&!r.isEmpty(),a=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new L(x.INVALID_ARGUMENT,c+t+u)}function xP(t,e){return t.some(n=>n.isEqual(e))}function RP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function hw(t,e){let n=nw(t.firestore,Bc),r=ow(t),i=RP(t.converter,e);return PP(n,[SP(CP(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function PP(t,e){return function(r,i){let o=new en;return r.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return fP(yield EP(r),i,o)})),o.promise}(DP(t),e)}(function(e,n=!0){(function(i){Mi=i})(ui),Nn(new pt("firestore",(r,{instanceIdentifier:i,options:o})=>{let a=r.getProvider("app").getImmediate(),c=new Bc(new pf(r.getProvider("auth-internal")),new vf(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new L(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(h.options.projectId,f)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Re(ZI,"4.7.3",e),Re(ZI,"4.7.3","esm2017")})();var Er=class{constructor(e){return e}},fw="firestore",Vp=class{constructor(){return Po(fw)}};var Lp=new H("angularfire2.firestore-instances");function kP(t,e){let n=Bh(fw,t,e);return n&&new Er(n)}function OP(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Er(r)}}var FP={provide:Vp,deps:[[new kt,Lp]]},VP={provide:Er,useFactory:kP,deps:[[new kt,Lp],ur]};function pw(t,...e){return Re("angularfire",di.full,"fst"),Io([VP,FP,{provide:Lp,useFactory:OP(t),multi:!0,deps:[ve,Et,ko,Oo,[new kt,yc],[new kt,Ro],...e]}])}var mw=cr(hw,!0);var gw=cr(iw,!0);var yw=cr(sw,!0);var Zc=(()=>{class t{constructor(n){this.firestore=n,this.cartItems=new Gn([]),this.storageKey="chocolate_cart",this.loadCart()}loadCart(){let n=localStorage.getItem(this.storageKey);n&&this.cartItems.next(JSON.parse(n))}saveCart(n){localStorage.setItem(this.storageKey,JSON.stringify(n)),this.cartItems.next(n)}getCartItems(){return this.cartItems.asObservable()}addToCart(n){let r=this.cartItems.value,i=r.find(o=>o.id===n.id);i?(i.quantity+=1,this.saveCart([...r])):this.saveCart([...r,ce($({},n),{quantity:1})])}removeFromCart(n){let i=this.cartItems.value.filter(o=>o.id!==n);this.saveCart(i)}updateQuantity(n,r){let i=this.cartItems.value,o=i.find(a=>a.id===n);o&&(o.quantity=r,this.saveCart([...i]))}clearCart(){this.saveCart([])}getTotal(){return this.cartItems.value.reduce((n,r)=>n+r.price*r.quantity,0)}saveOrderToFirestore(n){return S(this,null,function*(){let r=gw(this.firestore,"orders");return(yield mw(r,ce($({},n),{items:this.cartItems.value,total:this.getTotal(),date:new Date}))).id})}static{this.\u0275fac=function(r){return new(r||t)(oe(Er))}}static{this.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function BP(t,e){if(t&1){let n=Ga();N(0,"div",8),Ie(1,"img",9),N(2,"div",10)(3,"h3",11),k(4),M(),N(5,"p",12),k(6),M(),N(7,"div",13)(8,"span",14),k(9),M(),N(10,"button",15),Ne("click",function(){let i=Zr(n).$implicit,o=ii(2);return Xr(o.addToCart(i))}),k(11," Add to Cart "),M()()()()}if(t&2){let n=e.$implicit;he(),He("src",n.image,ni)("alt",n.name),he(3),st(n.name),he(2),st(n.description),he(3),st(n.price)}}function UP(t,e){if(t&1&&(N(0,"div",6),Yt(1,BP,12,5,"div",7),M()),t&2){let n=e.$implicit;he(),He("ngForOf",n)}}var vw=(()=>{class t{constructor(){this.cartService=X(Zc),this.products=[{id:1,name:"Dark Chocolate Truffles",price:24.99,image:"https://images.unsplash.com/photo-1481391319762-47dff72954d9?auto=format&fit=crop&w=600",description:"Luxurious dark chocolate truffles with a smooth ganache center"},{id:2,name:"Milk Chocolate Selection",price:19.99,image:"https://images.unsplash.com/photo-1549007994-cb92caebd54b?auto=format&fit=crop&w=600",description:"Assorted milk chocolate pralines with various fillings"},{id:3,name:"Hazelnut Pralines",price:29.99,image:"https://images.unsplash.com/photo-1606312619070-d48b4c652a52?auto=format&fit=crop&w=600",description:"Premium hazelnut pralines in milk and dark chocolate"},{id:4,name:"Fruit & Nut Collection",price:34.99,image:"https://images.unsplash.com/photo-1599599810769-bcde5a160d32?auto=format&fit=crop&w=600",description:"Chocolate-covered fruits and nuts selection"}],this.productGroups=[this.products,this.products]}addToCart(n){console.log("Adding to cart:",n),this.cartService.addToCart({id:n.id,name:n.name,price:n.price,image:n.image,quantity:1})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-products"]],decls:7,vars:1,consts:[["id","products",1,"py-20","bg-chocolate-50"],[1,"container"],[1,"text-4xl","font-bold","text-chocolate-900","text-center","mb-12"],[1,"overflow-hidden","relative"],[1,"flex","animate-scroll"],["class","product-slide flex gap-6",4,"ngFor","ngForOf"],[1,"product-slide","flex","gap-6"],["class","w-72 flex-shrink-0 bg-white rounded-xl shadow-lg overflow-hidden transform transition-transform duration-300 hover:scale-105",4,"ngFor","ngForOf"],[1,"w-72","flex-shrink-0","bg-white","rounded-xl","shadow-lg","overflow-hidden","transform","transition-transform","duration-300","hover:scale-105"],[1,"w-full","h-48","object-cover",3,"src","alt"],[1,"p-6"],[1,"text-xl","font-semibold","text-chocolate-900","mb-2"],[1,"text-chocolate-600","mb-4"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-chocolate-800"],[1,"bg-chocolate-600","text-white","px-4","py-2","rounded-full","hover:bg-chocolate-700","transition-colors",3,"click"]],template:function(r,i){r&1&&(N(0,"section",0)(1,"div",1)(2,"h2",2),k(3,"Our Finest Collection"),M(),N(4,"div",3)(5,"div",4),Yt(6,UP,2,1,"div",5),M()()()()),r&2&&(he(6),He("ngForOf",i.productGroups))},dependencies:[Le,si],styles:[".animate-scroll[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scroll 40s linear infinite}@keyframes _ngcontent-%COMP%_scroll{0%{transform:translate(0)}to{transform:translate(-100%)}}.product-slide[_ngcontent-%COMP%]{flex:0 0 auto}"]})}}return t})();var $P=()=>[];function HP(t,e){t&1&&(N(0,"span",12),k(1,"\u2605"),M())}function qP(t,e){if(t&1&&(N(0,"div",5)(1,"div",6),Ie(2,"img",7),N(3,"div")(4,"h3",8),k(5),M(),N(6,"div",9),Yt(7,HP,2,0,"span",10),M()()(),N(8,"p",11),k(9),M()()),t&2){let n=e.$implicit;he(2),He("src",n.avatar,ni)("alt",n.name),he(3),st(n.name),he(2),He("ngForOf",k_(5,$P).constructor(n.rating)),he(2),st(n.content)}}var _w=(()=>{class t{constructor(){this.reviews=[{id:1,name:"Sarah Johnson",avatar:"https://i.pravatar.cc/150?img=1",content:"The dark chocolate truffles are absolutely divine! The smooth texture and rich flavor make them the perfect treat.",rating:5},{id:2,name:"Michael Chen",avatar:"https://i.pravatar.cc/150?img=2",content:"I ordered the Fruit & Nut Collection for my mothers birthday, and she loved every piece. The quality is exceptional",rating:5},{id:3,name:"Emma Davis",avatar:"https://i.pravatar.cc/150?img=3",content:"The hazelnut pralines are incredible. The perfect balance of chocolate and nuts. Will definitely order again!",rating:4}]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-reviews"]],decls:6,vars:1,consts:[["id","reviews",1,"py-20","bg-chocolate-100"],[1,"container"],[1,"text-4xl","font-bold","text-chocolate-900","text-center","mb-12"],[1,"grid","md:grid-cols-3","gap-8"],["class","bg-white p-6 rounded-xl shadow-lg transform transition-transform duration-300 hover:-translate-y-2",4,"ngFor","ngForOf"],[1,"bg-white","p-6","rounded-xl","shadow-lg","transform","transition-transform","duration-300","hover:-translate-y-2"],[1,"flex","items-center","mb-4"],[1,"w-12","h-12","rounded-full","object-cover","mr-4",3,"src","alt"],[1,"font-semibold","text-chocolate-900"],[1,"flex","text-yellow-400"],["class","text-lg",4,"ngFor","ngForOf"],[1,"text-chocolate-700"],[1,"text-lg"]],template:function(r,i){r&1&&(N(0,"section",0)(1,"div",1)(2,"h2",2),k(3,"What Our Customers Say"),M(),N(4,"div",3),Yt(5,qP,10,6,"div",4),M()()()),r&2&&(he(5),He("ngForOf",i.reviews))},dependencies:[Le,si],encapsulation:2})}}return t})();var Iw=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-about"]],decls:36,vars:0,consts:[["id","about",1,"py-20","bg-white"],[1,"container"],[1,"grid","md:grid-cols-2","gap-12","items-center"],[1,"about-image","relative"],["src","https://images.unsplash.com/photo-1599599810769-bcde5a160d32?auto=format&fit=crop&w=800","alt","Chocolate making process",1,"rounded-xl","shadow-2xl"],[1,"absolute","-bottom-6","-right-6","bg-chocolate-100","p-6","rounded-xl","shadow-xl"],[1,"text-2xl","font-bold","text-chocolate-900"],[1,"text-chocolate-700"],[1,"about-content"],[1,"text-4xl","font-bold","text-chocolate-900","mb-6"],[1,"text-lg","text-chocolate-700","mb-6"],[1,"grid","grid-cols-2","gap-6"],[1,"achievement"],[1,"text-3xl","font-bold","text-chocolate-900"]],template:function(r,i){r&1&&(N(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),Ie(4,"img",4),N(5,"div",5)(6,"p",6),k(7,"25+"),M(),N(8,"p",7),k(9,"Years of Excellence"),M()()(),N(10,"div",8)(11,"h2",9),k(12,"Our Story"),M(),N(13,"p",10),k(14," Since 1998, we've been crafting the finest chocolates using traditional techniques and the highest quality ingredients. Our passion for chocolate-making has been passed down through generations, ensuring each piece is a masterpiece of flavor and artistry. "),M(),N(15,"div",11)(16,"div",12)(17,"p",13),k(18,"100%"),M(),N(19,"p",7),k(20,"Premium Ingredients"),M()(),N(21,"div",12)(22,"p",13),k(23,"50+"),M(),N(24,"p",7),k(25,"Unique Flavors"),M()(),N(26,"div",12)(27,"p",13),k(28,"10k+"),M(),N(29,"p",7),k(30,"Happy Customers"),M()(),N(31,"div",12)(32,"p",13),k(33,"15+"),M(),N(34,"p",7),k(35,"Master Chocolatiers"),M()()()()()()())},dependencies:[Le],encapsulation:2})}}return t})();var Nw=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ae(wo),ae(ti))};static \u0275dir=Tt({type:t})}return t})(),GP=(()=>{class t extends Nw{static \u0275fac=(()=>{let n;return function(i){return(n||(n=_v(t)))(i||t)}})();static \u0275dir=Tt({type:t,features:[Tn]})}return t})(),Mw=new H("");var zP={provide:Mw,useExisting:Yr(()=>cu),multi:!0};function WP(){let t=oi()?oi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var KP=new H(""),cu=(()=>{class t extends Nw{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!WP())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ae(wo),ae(ti),ae(KP,8))};static \u0275dir=Tt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ne("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[Wa([zP]),Tn]})}return t})();function Fn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function xw(t){return t!=null&&typeof t.length=="number"}var Rw=new H(""),Pw=new H(""),QP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,wr=class{static min(e){return YP(e)}static max(e){return JP(e)}static required(e){return ZP(e)}static requiredTrue(e){return XP(e)}static email(e){return ek(e)}static minLength(e){return tk(e)}static maxLength(e){return nk(e)}static pattern(e){return rk(e)}static nullValidator(e){return kw(e)}static compose(e){return Bw(e)}static composeAsync(e){return $w(e)}};function YP(t){return e=>{if(Fn(e.value)||Fn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function JP(t){return e=>{if(Fn(e.value)||Fn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function ZP(t){return Fn(t.value)?{required:!0}:null}function XP(t){return t.value===!0?null:{required:!0}}function ek(t){return Fn(t.value)||QP.test(t.value)?null:{email:!0}}function tk(t){return e=>Fn(e.value)||!xw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function nk(t){return e=>xw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function rk(t){if(!t)return kw;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Fn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function kw(t){return null}function Ow(t){return t!=null}function Fw(t){return ri(t)?dl(t):t}function Vw(t){let e={};return t.forEach(n=>{e=n!=null?$($({},e),n):e}),Object.keys(e).length===0?null:e}function Lw(t,e){return e.map(n=>n(t))}function ik(t){return!t.validate}function jw(t){return t.map(e=>ik(e)?e:n=>e.validate(n))}function Bw(t){if(!t)return null;let e=t.filter(Ow);return e.length==0?null:function(n){return Vw(Lw(n,e))}}function Uw(t){return t!=null?Bw(jw(t)):null}function $w(t){if(!t)return null;let e=t.filter(Ow);return e.length==0?null:function(n){let r=Lw(n,e).map(Fw);return hl(r).pipe(Wn(Vw))}}function Hw(t){return t!=null?$w(jw(t)):null}function Ew(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qw(t){return t._rawValidators}function Gw(t){return t._rawAsyncValidators}function jp(t){return t?Array.isArray(t)?t:[t]:[]}function tu(t,e){return Array.isArray(t)?t.includes(e):t===e}function ww(t,e){let n=jp(e);return jp(t).forEach(i=>{tu(n,i)||n.push(i)}),n}function Dw(t,e){return jp(e).filter(n=>!tu(t,n))}var nu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Uw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Pi=class extends nu{name;get formDirective(){return null}get path(){return null}},os=class extends nu{_parent=null;name=null;valueAccessor=null},ru=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ok={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},AU=ce($({},ok),{"[class.ng-submitted]":"isSubmitted"}),zw=(()=>{class t extends ru{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ae(os,2))};static \u0275dir=Tt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&bn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Tn]})}return t})(),Ww=(()=>{class t extends ru{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ae(Pi,10))};static \u0275dir=Tt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&bn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Tn]})}return t})();var ts="VALID",Xc="INVALID",xi="PENDING",ns="DISABLED",Vn=class{},iu=class extends Vn{value;source;constructor(e,n){super(),this.value=e,this.source=n}},rs=class extends Vn{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},is=class extends Vn{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Ri=class extends Vn{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Bp=class extends Vn{source;constructor(e){super(),this.source=e}},Up=class extends Vn{source;constructor(e){super(),this.source=e}};function qp(t){return(uu(t)?t.validators:t)||null}function sk(t){return Array.isArray(t)?Uw(t):t||null}function Gp(t,e){return(uu(e)?e.asyncValidators:t)||null}function ak(t){return Array.isArray(t)?Hw(t):t||null}function uu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Kw(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[n])throw new U(1001,"")}function Qw(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new U(1002,"")})}var ki=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bt(this.statusReactive)}set status(e){bt(()=>this.statusReactive.set(e))}_status=To(()=>this.statusReactive());statusReactive=ir(void 0);get valid(){return this.status===ts}get invalid(){return this.status===Xc}get pending(){return this.status==xi}get disabled(){return this.status===ns}get enabled(){return this.status!==ns}errors;get pristine(){return bt(this.pristineReactive)}set pristine(e){bt(()=>this.pristineReactive.set(e))}_pristine=To(()=>this.pristineReactive());pristineReactive=ir(!0);get dirty(){return!this.pristine}get touched(){return bt(this.touchedReactive)}set touched(e){bt(()=>this.touchedReactive.set(e))}_touched=To(()=>this.touchedReactive());touchedReactive=ir(!1);get untouched(){return!this.touched}_events=new qt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ww(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ww(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Dw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Dw(e,this._rawAsyncValidators))}hasValidator(e){return tu(this._rawValidators,e)}hasAsyncValidator(e){return tu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce($({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new is(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new is(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce($({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new rs(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new rs(!0,r))}markAsPending(e={}){this.status=xi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ri(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce($({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ns,this.errors=null,this._forEachChild(i=>{i.disable(ce($({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new iu(this.value,r)),this._events.next(new Ri(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce($({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ts,this._forEachChild(r=>{r.enable(ce($({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce($({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ts||this.status===xi)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new iu(this.value,n)),this._events.next(new Ri(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce($({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ns:ts}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=xi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Fw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ri(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?ns:this.errors?Xc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xi)?xi:this._anyControlsHaveStatus(Xc)?Xc:ts}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new rs(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new is(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=sk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ak(this._rawAsyncValidators)}},ou=class extends ki{constructor(e,n,r){super(qp(n),Gp(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Qw(this,!0,e),Object.keys(e).forEach(r=>{Kw(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $p=class extends ou{};var zp=new H("CallSetDisabledState",{providedIn:"root",factory:()=>lu}),lu="always";function ck(t,e){return[...e.path,t]}function Tw(t,e,n=lu){Wp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),lk(t,e),hk(t,e),dk(t,e),uk(t,e)}function bw(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),au(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function su(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function uk(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Wp(t,e){let n=qw(t);e.validator!==null?t.setValidators(Ew(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Gw(t);e.asyncValidator!==null?t.setAsyncValidators(Ew(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();su(e._rawValidators,i),su(e._rawAsyncValidators,i)}function au(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=qw(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Gw(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return su(e._rawValidators,r),su(e._rawAsyncValidators,r),n}function lk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Yw(t,e)})}function dk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Yw(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Yw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hk(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function fk(t,e){t==null,Wp(t,e)}function pk(t,e){return au(t,e)}function mk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function gk(t){return Object.getPrototypeOf(t.constructor)===GP}function yk(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vk(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===cu?n=o:gk(o)?r=o:i=o}),i||r||n||null}function _k(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Cw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Sw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var eu=class extends ki{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(qp(n),Gp(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Sw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Cw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Cw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Sw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ik=t=>t instanceof eu;var Jw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Tt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var Zw=new H("");var Ek={provide:Pi,useExisting:Yr(()=>Kp)},Kp=(()=>{class t extends Pi{callSetDisabledState;get submitted(){return bt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=To(()=>this._submittedReactive());_submittedReactive=ir(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new rt;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(au(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Tw(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){bw(n.control||null,n,!1),_k(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),yk(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Bp(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Up(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(bw(r||null,n),Ik(i)&&(Tw(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);fk(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&pk(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wp(this.form,this),this._oldForm&&au(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||t)(ae(Rw,10),ae(Pw,10),ae(zp,8))};static \u0275dir=Tt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ne("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Wa([Ek]),Tn,ka]})}return t})();var wk={provide:os,useExisting:Yr(()=>Qp)},Qp=(()=>{class t extends os{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new rt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,a){super(),this._ngModelWarningConfig=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vk(this,o)}ngOnChanges(n){this._added||this._setUpControl(),mk(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return ck(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(ae(Pi,13),ae(Rw,10),ae(Pw,10),ae(Mw,10),ae(Zw,8))};static \u0275dir=Tt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Wa([wk]),Tn,ka]})}return t})();var Xw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=or({type:t});static \u0275inj=rr({})}return t})(),Hp=class extends ki{constructor(e,n,r){super(qp(n),Gp(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Qw(this,!1,e),e.forEach((r,i)=>{Kw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Aw(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var eD=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return Aw(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ou(i,o)}record(n,r=null){let i=this._reduceControls(n);return new $p(i,r)}control(n,r,i){let o={};return this.useNonNullable?(Aw(r)?o=r:(o.validators=r,o.asyncValidators=i),new eu(n,ce($({},o),{nonNullable:!0}))):new eu(n,r,i)}array(n,r,i){let o=n.map(a=>this._createControl(a));return new Hp(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof eu)return n;if(n instanceof ki)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tD=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:zp,useValue:n.callSetDisabledState??lu}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=or({type:t});static \u0275inj=rr({imports:[Xw]})}return t})(),nD=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Zw,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:zp,useValue:n.callSetDisabledState??lu}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=or({type:t});static \u0275inj=rr({imports:[Xw]})}return t})();var mt=class{constructor(e=0,n="Network Error"){this.status=e,this.text=n}};var rD=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}};var De={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:rD()};var Oi=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{};var iD=(t,e="https://api.emailjs.com")=>{if(!t)return;let n=Oi(t);De.publicKey=n.publicKey,De.blockHeadless=n.blockHeadless,De.storageProvider=n.storageProvider,De.blockList=n.blockList,De.limitRate=n.limitRate,De.origin=n.origin||e};var du=(r,i,...o)=>S(void 0,[r,i,...o],function*(t,e,n={}){let a=yield fetch(De.origin+t,{method:"POST",headers:n,body:e}),c=yield a.text(),u=new mt(a.status,c);if(a.ok)return u;throw u});var hu=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"};var oD=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"};var fu=t=>t.webdriver||!t.languages||t.languages.length===0;var pu=()=>new mt(451,"Unavailable For Headless Browser");var sD=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"};var Tk=t=>!t.list?.length||!t.watchVariable,bk=(t,e)=>t instanceof FormData?t.get(e):t[e],mu=(t,e)=>{if(Tk(t))return!1;sD(t.list,t.watchVariable);let n=bk(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)};var gu=()=>new mt(403,"Forbidden");var aD=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"};var Ck=(t,e,n)=>S(void 0,null,function*(){let r=Number((yield n.get(t))||0);return e-Date.now()+r}),yu=(t,e,n)=>S(void 0,null,function*(){if(!e.throttle||!n)return!1;aD(e.throttle,e.id);let r=e.id||t;return(yield Ck(r,e.throttle,n))>0?!0:(yield n.set(r,Date.now().toString()),!1)});var vu=()=>new mt(429,"Too Many Requests");var cD=(t,e,n,r)=>S(void 0,null,function*(){let i=Oi(r),o=i.publicKey||De.publicKey,a=i.blockHeadless||De.blockHeadless,c=i.storageProvider||De.storageProvider,u=$($({},De.blockList),i.blockList),h=$($({},De.limitRate),i.limitRate);return a&&fu(navigator)?Promise.reject(pu()):(hu(o,t,e),oD(n),n&&mu(u,n)?Promise.reject(gu()):(yield yu(location.pathname,h,c))?Promise.reject(vu()):du("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))});var uD=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"};var Sk=t=>typeof t=="string"?document.querySelector(t):t,lD=(t,e,n,r)=>S(void 0,null,function*(){let i=Oi(r),o=i.publicKey||De.publicKey,a=i.blockHeadless||De.blockHeadless,c=De.storageProvider||i.storageProvider,u=$($({},De.blockList),i.blockList),h=$($({},De.limitRate),i.limitRate);if(a&&fu(navigator))return Promise.reject(pu());let f=Sk(n);hu(o,t,e),uD(f);let m=new FormData(f);return mu(u,m)?Promise.reject(gu()):(yield yu(location.pathname,h,c))?Promise.reject(vu()):(m.append("lib_version","4.4.1"),m.append("service_id",t),m.append("template_id",e),m.append("user_id",o),du("/api/v1.0/email/send-form",m))});var dD={init:iD,send:cD,sendForm:lD,EmailJSResponseStatus:mt};var hD=(()=>{class t{constructor(n){this.fb=n,this.isSubmitting=!1,this.contactForm=this.fb.group({name:["",wr.required],email:["",[wr.required,wr.email]],message:["",wr.required]})}onSubmit(){return S(this,null,function*(){if(this.contactForm.valid){this.isSubmitting=!0;try{yield dD.send("YOUR_SERVICE_ID","YOUR_TEMPLATE_ID",{from_name:this.contactForm.value.name,from_email:this.contactForm.value.email,message:this.contactForm.value.message},"YOUR_PUBLIC_KEY"),this.contactForm.reset(),alert("Message sent successfully!")}catch(n){console.error("Error sending message:",n),alert("Failed to send message. Please try again.")}finally{this.isSubmitting=!1}}})}static{this.\u0275fac=function(r){return new(r||t)(ae(eD))}}static{this.\u0275cmp=xe({type:t,selectors:[["app-footer"]],decls:52,vars:3,consts:[[1,"bg-chocolate-900","text-white","py-12"],[1,"container","mx-auto","px-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"text-2xl","font-bold","mb-4"],[1,"text-chocolate-200","mb-4"],[1,"space-y-2"],[1,"flex","items-center"],[1,"mr-2"],[1,"text-xl","font-semibold","mb-4"],["href","#",1,"text-chocolate-200","hover:text-white","transition-colors"],["href","#products",1,"text-chocolate-200","hover:text-white","transition-colors"],["href","#about",1,"text-chocolate-200","hover:text-white","transition-colors"],["href","#reviews",1,"text-chocolate-200","hover:text-white","transition-colors"],[1,"space-y-4",3,"ngSubmit","formGroup"],["type","text","formControlName","name","placeholder","Your Name",1,"w-full","px-4","py-2","rounded","bg-chocolate-800","text-white","placeholder-chocolate-400","border","border-chocolate-700","focus:outline-none","focus:border-chocolate-500"],["type","email","formControlName","email","placeholder","Your Email",1,"w-full","px-4","py-2","rounded","bg-chocolate-800","text-white","placeholder-chocolate-400","border","border-chocolate-700","focus:outline-none","focus:border-chocolate-500"],["formControlName","message","placeholder","Your Message","rows","4",1,"w-full","px-4","py-2","rounded","bg-chocolate-800","text-white","placeholder-chocolate-400","border","border-chocolate-700","focus:outline-none","focus:border-chocolate-500"],["type","submit",1,"w-full","bg-chocolate-600","text-white","py-2","rounded","hover:bg-chocolate-700","transition-colors","disabled:opacity-50",3,"disabled"],[1,"mt-8","pt-8","border-t","border-chocolate-700","text-center","text-chocolate-400"]],template:function(r,i){r&1&&(N(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),k(5,"Chocolate Delights"),M(),N(6,"p",4),k(7," Crafting premium chocolates with passion and tradition since 1998. "),M(),N(8,"div",5)(9,"p",6)(10,"span",7),k(11,"\u{1F4CD}"),M(),k(12," 123 Chocolate Avenue, Colombo 05 "),M(),N(13,"p",6)(14,"span",7),k(15,"\u{1F4DE}"),M(),k(16," +94 11 234 5678 "),M(),N(17,"p",6)(18,"span",7),k(19,"\u2709\uFE0F"),M(),k(20," info@chocolatedelights.com "),M()()(),N(21,"div")(22,"h3",8),k(23,"Quick Links"),M(),N(24,"ul",5)(25,"li")(26,"a",9),k(27,"Home"),M()(),N(28,"li")(29,"a",10),k(30,"Products"),M()(),N(31,"li")(32,"a",11),k(33,"About Us"),M()(),N(34,"li")(35,"a",12),k(36,"Reviews"),M()()()(),N(37,"div")(38,"h3",8),k(39,"Contact Us"),M(),N(40,"form",13),Ne("ngSubmit",function(){return i.onSubmit()}),N(41,"div"),Ie(42,"input",14),M(),N(43,"div"),Ie(44,"input",15),M(),N(45,"div"),Ie(46,"textarea",16),M(),N(47,"button",17),k(48),M()()()(),N(49,"div",18)(50,"p"),k(51,"\xA9 2025 Chocolate Delights. All rights reserved."),M()()()()),r&2&&(he(40),He("formGroup",i.contactForm),he(7),He("disabled",!i.contactForm.valid||i.isSubmitting),he(),za(" ",i.isSubmitting?"Sending...":"Send Message"," "))},dependencies:[Le,tD,Jw,cu,zw,Ww,nD,Kp,Qp],encapsulation:2})}}return t})();function Ak(t,e){if(t&1){let n=Ga();N(0,"div",11),Ie(1,"img",12),N(2,"div",13)(3,"h3",14),k(4),M(),N(5,"p",15),k(6),M(),N(7,"div",16)(8,"button",17),Ne("click",function(){let i=Zr(n).$implicit,o=ii();return Xr(o.updateQuantity(i.id,i.quantity-1))}),k(9,"-"),M(),N(10,"span"),k(11),M(),N(12,"button",18),Ne("click",function(){let i=Zr(n).$implicit,o=ii();return Xr(o.updateQuantity(i.id,i.quantity+1))}),k(13,"+"),M(),N(14,"button",19),Ne("click",function(){let i=Zr(n).$implicit,o=ii();return Xr(o.removeFromCart(i.id))}),k(15," Remove "),M()()()()}if(t&2){let n=e.$implicit;he(),He("src",n.image,ni)("alt",n.name),he(3),st(n.name),he(2),st(n.price),he(2),He("disabled",n.quantity<=1),he(3),st(n.quantity)}}var fD=(()=>{class t{constructor(n){this.cartService=n,this.isOpen=D_(!1),this.cartItems$=this.cartService.getCartItems(),this.total$=new ye(r=>{this.cartItems$.subscribe(()=>{r.next(this.cartService.getTotal())})})}ngOnInit(){}toggleCart(){this.isOpen.update(n=>!n)}removeFromCart(n){this.cartService.removeFromCart(n)}updateQuantity(n,r){r>0&&this.cartService.updateQuantity(n,r)}checkout(){console.log("Proceeding to checkout")}static{this.\u0275fac=function(r){return new(r||t)(ae(Zc))}}static{this.\u0275cmp=xe({type:t,selectors:[["app-cart"]],inputs:{isOpen:[1,"isOpen"]},outputs:{isOpen:"isOpenChange"},decls:20,vars:10,consts:[[1,"fixed","right-0","top-0","h-screen","w-96","bg-white","shadow-lg","transform","transition-transform","duration-300","z-50"],[1,"p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-chocolate-900"],[1,"text-chocolate-600","hover:text-chocolate-900",3,"click"],[1,"text-2xl"],[1,"space-y-4"],["class","flex items-center space-x-4 p-4 bg-chocolate-50 rounded-lg",4,"ngFor","ngForOf"],[1,"mt-6","border-t","pt-4"],[1,"flex","justify-between","text-lg","font-semibold","mb-4"],[1,"w-full","bg-chocolate-600","text-white","py-3","rounded-lg","hover:bg-chocolate-700","transition-colors",3,"click"],[1,"flex","items-center","space-x-4","p-4","bg-chocolate-50","rounded-lg"],[1,"w-16","h-16","object-cover","rounded",3,"src","alt"],[1,"flex-1"],[1,"font-semibold","text-chocolate-900"],[1,"text-chocolate-600"],[1,"flex","items-center","space-x-2","mt-2"],[1,"px-2","py-1","bg-chocolate-200","rounded",3,"click","disabled"],[1,"px-2","py-1","bg-chocolate-200","rounded",3,"click"],[1,"ml-4","text-red-500","hover:text-red-700",3,"click"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),k(4,"Your Cart"),M(),N(5,"button",4),Ne("click",function(){return i.toggleCart()}),N(6,"span",5),k(7,"\xD7"),M()()(),N(8,"div",6),Yt(9,Ak,16,6,"div",7),eh(10,"async"),M(),N(11,"div",8)(12,"div",9)(13,"span"),k(14,"Total:"),M(),N(15,"span"),k(16),eh(17,"async"),M()(),N(18,"button",10),Ne("click",function(){return i.checkout()}),k(19," Proceed to Checkout "),M()()()()),r&2&&(bn("translate-x-0",i.isOpen())("translate-x-full",!i.isOpen()),he(9),He("ngForOf",th(10,6,i.cartItems$)),he(7),st(th(17,8,i.total$)))},dependencies:[Le,si,U_],encapsulation:2})}}return t})();var pD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-featuring-item"]],decls:35,vars:0,consts:[[1,"pt-24","bg-[#fac2b3]","mx-auto"],[1,"text-center","mb-16"],[1,"text-5xl","font-light","mb-8","text-black"],[1,"text-xl","text-gray-600","leading-relaxed","max-w-2xl","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-16","items-center","text-black"],[1,"px-20"],[1,"text-5xl","font-light","mb-8"],[1,"text-xl","leading-relaxed","mb-6"],[1,"text-xl","leading-relaxed"],[1,"list-disc","list-inside","ps-5","text-xl"],[1,"text-3xl","leading-relaxed","mt-8","text-center"],["src","assets/images/Truffle-Box Post.JPG","alt","Chocolate making process",1,"w-full","h-full","object-cover"]],template:function(r,i){r&1&&(N(0,"section",0)(1,"div",1)(2,"h2",2),k(3,"Limited Edition Indulgence"),M(),N(4,"p",3),k(5," A Rare Treat - Here for a Limited Time!. "),M()(),N(6,"div",4)(7,"div",5)(8,"h2",6),k(9,"Valentine\u2019s Edition Truffle Box \u2764\uFE0F\u{1F36B}"),M(),N(10,"p",7),k(11," 6 Decadent Flavors, One Unforgettable Box! "),M(),N(12,"p",7),k(13," Indulge in Sri Lanka\u2019s first-ever Peanut Butter & Jelly truffle and Coconut Fudge truffle, alongside 4 other decadent, handcrafted flavors\u2014all wrapped up in the perfect Valentine\u2019s treat. "),M(),N(14,"p",7),k(15," A Truffle Box That Loves You Back! Perfect for gifting, sharing, or indulging solo. "),M(),N(16,"p",8),k(17," Flavors Inside: "),M(),N(18,"ul",9)(19,"li"),k(20,"Sri Lanka\u2019s First PB&J Truffle"),M(),N(21,"li"),k(22,"Sri Lanka\u2019s First Coconut Fudge Truffle"),M(),N(23,"li"),k(24,"Strawberry Filling"),M(),N(25,"li"),k(26,"Cherry Filling"),M(),N(27,"li"),k(28,"Butterscotch Filling"),M(),N(29,"li"),k(30,"Chocolate Fudge"),M()(),N(31,"p",10),k(32," \u{1F4E6} Limited Edition \u2013 Order Now for Just Rs. 1,849! \u{1F69A}\u2728 "),M()(),N(33,"div"),Ie(34,"img",11),M()()())},encapsulation:2})}}return t})();var mD=(()=>{class t{constructor(){this.title="Chocolate Delights",this.isOpen=ir(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"min-h-screen","bg-white"],[3,"cartToggle"],[3,"isOpenChange","isOpen"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"app-navbar",1),Ne("cartToggle",function(a){return i.isOpen.set(a)}),M(),Ie(2,"app-hero")(3,"app-featuring-item")(4,"app-products")(5,"app-reviews")(6,"app-about")(7,"app-footer"),N(8,"app-cart",2),Xd("isOpenChange",function(a){return R_(i.isOpen,a)||(i.isOpen=a),a}),M()()),r&2&&(he(8),Zd("isOpen",i.isOpen))},dependencies:[Le,X_,eI,vw,_w,Iw,hD,fD,pD],encapsulation:2})}}return t})();var Nk={apiKey:"your-api-key",authDomain:"your-auth-domain",projectId:"your-project-id",storageBucket:"your-storage-bucket",messagingSenderId:"your-messaging-sender-id",appId:"your-app-id"};Z_(mD,{providers:[NI(()=>MI(Nk)),pw(()=>yw())]}).catch(t=>console.error(t));
